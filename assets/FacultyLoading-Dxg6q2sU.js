import{c as I,j as e,m as C,B as D,r as u,d as H,R as j,e as $,a as we,X as Ce,U as Ae}from"./index-BLkMyUsx.js";import{H as Me}from"./Header-BcZ-GgjR.js";import{C as Te}from"./clock-CcvdsnYT.js";import{C as Se,a as Z}from"./circle-check-BHXf-8N-.js";import{C as ke}from"./circle-plus-BgS_mtOU.js";import{u as F,c as J,a as W,b as X,P as T}from"./index-B_fBrJXk.js";import{c as Pe,u as Ie}from"./index-D9yhg_pm.js";import{C as Re}from"./chevron-down-CO_QTR_1.js";import{T as S}from"./triangle-alert-BfukfLjW.js";import{B as Ee}from"./book-HKIRc8tN.js";import{A as Q}from"./index-zoTtYq28.js";import"./calendar-check-Fjfi1xHj.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Le=I("brain-circuit",_e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],De=I("file-stack",Oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ue=I("gauge",Fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],$e=I("sparkles",He);function We({assignmentProgress:t}){return e.jsxs("div",{className:"mb-8 p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Assignment Progress"}),e.jsxs("span",{className:"font-bold text-indigo-600",children:[Math.round(t),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx(C.div,{className:"bg-gradient-to-r from-violet-500 to-indigo-600 h-2.5 rounded-full",initial:{width:0},animate:{width:`${t}%`},transition:{duration:.8,ease:"easeInOut"}})})]})}function ze({subject:t,onAssignClick:s}){return e.jsxs(C.div,{layout:!0,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,x:-30,transition:{duration:.2}},className:"p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-lg hover:border-violet-400 transition-all duration-300 flex flex-col justify-between gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{className:"font-bold text-gray-800 text-base",children:[t.code," - ",t.title]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full",children:[e.jsx(Te,{size:14}),e.jsx("span",{children:t.schedule})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold text-teal-800 bg-teal-100 rounded-full",children:[e.jsx(Se,{size:14}),e.jsxs("span",{children:[t.units," units"]})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-violet-800 bg-violet-100 rounded-full w-fit",children:[e.jsx(Le,{size:12})," ",t.expertise]})})]}),e.jsxs(D,{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-semibold text-white bg-gradient-to-r from-violet-600 to-indigo-600 rounded-lg hover:from-violet-700 hover:to-indigo-700 transition-all shadow-md transform hover:scale-105",children:[e.jsx(ke,{size:16}),e.jsx("span",{children:"Assign"})]})]})}function Ve(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return s?.(a)}}function Ge(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return s?.(a)}}function Be(t,s){return u.useReducer((n,i)=>s[n][i]??n,t)}var ee=t=>{const{present:s,children:n}=t,i=qe(s),a=typeof n=="function"?n({present:i.isPresent}):u.Children.only(n),r=H(i.ref,Ke(a));return typeof n=="function"||i.isPresent?u.cloneElement(a,{ref:r}):null};ee.displayName="Presence";function qe(t){const[s,n]=u.useState(),i=u.useRef(null),a=u.useRef(t),r=u.useRef("none"),o=t?"mounted":"unmounted",[l,d]=Be(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const c=k(i.current);r.current=l==="mounted"?c:"none"},[l]),F(()=>{const c=i.current,x=a.current;if(x!==t){const b=r.current,f=k(c);t?d("MOUNT"):f==="none"||c?.display==="none"?d("UNMOUNT"):d(x&&b!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),F(()=>{if(s){let c;const x=s.ownerDocument.defaultView??window,p=f=>{const y=k(i.current).includes(CSS.escape(f.animationName));if(f.target===s&&y&&(d("ANIMATION_END"),!a.current)){const N=s.style.animationFillMode;s.style.animationFillMode="forwards",c=x.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=N)})}},b=f=>{f.target===s&&(r.current=k(i.current))};return s.addEventListener("animationstart",b),s.addEventListener("animationcancel",p),s.addEventListener("animationend",p),()=>{x.clearTimeout(c),s.removeEventListener("animationstart",b),s.removeEventListener("animationcancel",p),s.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function k(t){return t?.animationName||"none"}function Ke(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var R="Collapsible",[Ye,te]=J(R),[Ze,z]=Ye(R),se=u.forwardRef((t,s)=>{const{__scopeCollapsible:n,open:i,defaultOpen:a,disabled:r,onOpenChange:o,...l}=t,[d,c]=W({prop:i,defaultProp:a??!1,onChange:o,caller:R});return e.jsx(Ze,{scope:n,disabled:r,contentId:X(),open:d,onOpenToggle:u.useCallback(()=>c(x=>!x),[c]),children:e.jsx(T.div,{"data-state":G(d),"data-disabled":r?"":void 0,...l,ref:s})})});se.displayName=R;var ne="CollapsibleTrigger",ae=u.forwardRef((t,s)=>{const{__scopeCollapsible:n,...i}=t,a=z(ne,n);return e.jsx(T.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":G(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...i,ref:s,onClick:Ge(t.onClick,a.onOpenToggle)})});ae.displayName=ne;var V="CollapsibleContent",ie=u.forwardRef((t,s)=>{const{forceMount:n,...i}=t,a=z(V,t.__scopeCollapsible);return e.jsx(ee,{present:n||a.open,children:({present:r})=>e.jsx(Je,{...i,ref:s,present:r})})});ie.displayName=V;var Je=u.forwardRef((t,s)=>{const{__scopeCollapsible:n,present:i,children:a,...r}=t,o=z(V,n),[l,d]=u.useState(i),c=u.useRef(null),x=H(s,c),p=u.useRef(0),b=p.current,f=u.useRef(0),h=f.current,y=o.open||l,N=u.useRef(y),g=u.useRef(void 0);return u.useEffect(()=>{const m=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(m)},[]),F(()=>{const m=c.current;if(m){g.current=g.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const v=m.getBoundingClientRect();p.current=v.height,f.current=v.width,N.current||(m.style.transitionDuration=g.current.transitionDuration,m.style.animationName=g.current.animationName),d(i)}},[o.open,i]),e.jsx(T.div,{"data-state":G(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...r,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...t.style},children:y&&a})});function G(t){return t?"open":"closed"}var Xe=se,Qe=ae,et=ie,w="Accordion",tt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[B,st,nt]=Pe(w),[E,It]=J(w,[nt,te]),q=te(),re=j.forwardRef((t,s)=>{const{type:n,...i}=t,a=i,r=i;return e.jsx(B.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(ot,{...r,ref:s}):e.jsx(rt,{...a,ref:s})})});re.displayName=w;var[oe,at]=E(w),[le,it]=E(w,{collapsible:!1}),rt=j.forwardRef((t,s)=>{const{value:n,defaultValue:i,onValueChange:a=()=>{},collapsible:r=!1,...o}=t,[l,d]=W({prop:n,defaultProp:i??"",onChange:a,caller:w});return e.jsx(oe,{scope:t.__scopeAccordion,value:j.useMemo(()=>l?[l]:[],[l]),onItemOpen:d,onItemClose:j.useCallback(()=>r&&d(""),[r,d]),children:e.jsx(le,{scope:t.__scopeAccordion,collapsible:r,children:e.jsx(ce,{...o,ref:s})})})}),ot=j.forwardRef((t,s)=>{const{value:n,defaultValue:i,onValueChange:a=()=>{},...r}=t,[o,l]=W({prop:n,defaultProp:i??[],onChange:a,caller:w}),d=j.useCallback(x=>l((p=[])=>[...p,x]),[l]),c=j.useCallback(x=>l((p=[])=>p.filter(b=>b!==x)),[l]);return e.jsx(oe,{scope:t.__scopeAccordion,value:o,onItemOpen:d,onItemClose:c,children:e.jsx(le,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(ce,{...r,ref:s})})})}),[lt,_]=E(w),ce=j.forwardRef((t,s)=>{const{__scopeAccordion:n,disabled:i,dir:a,orientation:r="vertical",...o}=t,l=j.useRef(null),d=H(l,s),c=st(n),p=Ie(a)==="ltr",b=Ve(t.onKeyDown,f=>{if(!tt.includes(f.key))return;const h=f.target,y=c().filter(O=>!O.ref.current?.disabled),N=y.findIndex(O=>O.ref.current===h),g=y.length;if(N===-1)return;f.preventDefault();let m=N;const v=0,A=g-1,M=()=>{m=N+1,m>A&&(m=v)},L=()=>{m=N-1,m<v&&(m=A)};switch(f.key){case"Home":m=v;break;case"End":m=A;break;case"ArrowRight":r==="horizontal"&&(p?M():L());break;case"ArrowDown":r==="vertical"&&M();break;case"ArrowLeft":r==="horizontal"&&(p?L():M());break;case"ArrowUp":r==="vertical"&&L();break}const Ne=m%g;y[Ne].ref.current?.focus()});return e.jsx(lt,{scope:n,disabled:i,direction:a,orientation:r,children:e.jsx(B.Slot,{scope:n,children:e.jsx(T.div,{...o,"data-orientation":r,ref:d,onKeyDown:i?void 0:b})})})}),P="AccordionItem",[ct,K]=E(P),de=j.forwardRef((t,s)=>{const{__scopeAccordion:n,value:i,...a}=t,r=_(P,n),o=at(P,n),l=q(n),d=X(),c=i&&o.value.includes(i)||!1,x=r.disabled||t.disabled;return e.jsx(ct,{scope:n,open:c,disabled:x,triggerId:d,children:e.jsx(Xe,{"data-orientation":r.orientation,"data-state":he(c),...l,...a,ref:s,disabled:x,open:c,onOpenChange:p=>{p?o.onItemOpen(i):o.onItemClose(i)}})})});de.displayName=P;var me="AccordionHeader",ue=j.forwardRef((t,s)=>{const{__scopeAccordion:n,...i}=t,a=_(w,n),r=K(me,n);return e.jsx(T.h3,{"data-orientation":a.orientation,"data-state":he(r.open),"data-disabled":r.disabled?"":void 0,...i,ref:s})});ue.displayName=me;var U="AccordionTrigger",xe=j.forwardRef((t,s)=>{const{__scopeAccordion:n,...i}=t,a=_(w,n),r=K(U,n),o=it(U,n),l=q(n);return e.jsx(B.ItemSlot,{scope:n,children:e.jsx(Qe,{"aria-disabled":r.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:r.triggerId,...l,...i,ref:s})})});xe.displayName=U;var pe="AccordionContent",ge=j.forwardRef((t,s)=>{const{__scopeAccordion:n,...i}=t,a=_(w,n),r=K(pe,n),o=q(n);return e.jsx(et,{role:"region","aria-labelledby":r.triggerId,"data-orientation":a.orientation,...o,...i,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ge.displayName=pe;function he(t){return t?"open":"closed"}var dt=re,mt=de,ut=ue,fe=xe,be=ge;const xt=dt,ve=u.forwardRef(({className:t,...s},n)=>e.jsx(mt,{ref:n,className:$("border-b",t),...s}));ve.displayName="AccordionItem";const ye=u.forwardRef(({className:t,children:s,...n},i)=>e.jsx(ut,{className:"flex",children:e.jsxs(fe,{ref:i,className:$("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[s,e.jsx(Re,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));ye.displayName=fe.displayName;const je=u.forwardRef(({className:t,children:s,...n},i)=>e.jsx(be,{ref:i,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:e.jsx("div",{className:$("pb-4 pt-0",t),children:s})}));je.displayName=be.displayName;function Y({faculty:t,onUnassign:s}){const n=Math.max(0,t.maxLoad||0),i=Math.max(1,t.maxSubjects||1),a=n>0?t.currentLoad/n*100:0,r=t.assignedSubjects.length,o=Math.min(r/i*100,100),l=a>100,d=r>=i,c=l?"overloaded":d?"limit":"ok",x={overloaded:{label:"Overloaded",icon:S,text:"text-red-700",bg:"bg-red-50",ring:"ring-1 ring-red-200",dot:"bg-red-500"},limit:{label:"Subject limit reached",icon:S,text:"text-yellow-700",bg:"bg-yellow-50",ring:"ring-1 ring-yellow-200",dot:"bg-yellow-500"},ok:{label:"Available",icon:Z,text:"text-emerald-700",bg:"bg-emerald-50",ring:"ring-1 ring-emerald-200",dot:"bg-emerald-500"}},p=x[c].icon,b=h=>h.split(" ").map(y=>y[0]).filter(Boolean).slice(0,2).join("").toUpperCase(),f={type:"spring",stiffness:140,damping:20};return e.jsxs(C.div,{layout:!0,initial:{opacity:0,scale:.96,y:6},animate:{opacity:1,scale:1,y:0},whileHover:{y:-2},whileTap:{scale:.997},transition:{duration:.35,ease:"easeOut"},className:`relative overflow-hidden rounded-2xl border bg-white/90 p-5 shadow-sm backdrop-blur-sm hover:shadow-xl ${x[c].ring}`,children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-10 -top-10 h-28 w-28 rounded-full bg-gradient-to-br from-indigo-200/50 via-purple-200/50 to-cyan-200/50 blur-2xl"}),e.jsxs("div",{className:"flex items-start gap-4",children:[t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.name,className:"h-20 w-20 rounded-full border-4 border-white object-cover shadow-md"}):e.jsx("div",{className:"grid h-20 w-20 place-items-center rounded-full border-4 border-white bg-gradient-to-br from-violet-500 to-indigo-500 text-xl font-bold text-white shadow-md",children:b(t.name)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"truncate text-xl font-bold text-gray-900",children:t.name}),e.jsxs("div",{className:`mt-1 inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold ${x[c].bg} ${x[c].text}`,children:[e.jsx("span",{className:`inline-block h-1.5 w-1.5 rounded-full ${x[c].dot}`}),e.jsx(p,{size:12}),e.jsx("span",{children:x[c].label})]})]})}),t.expertise?.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:t.expertise.map(h=>e.jsx("span",{className:"rounded-full border border-indigo-100 bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:h},h))})]})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:`rounded-lg border p-3 ${d?"border-yellow-100 bg-yellow-50":"border-gray-100 bg-gray-50"}`,children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm font-semibold",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600",children:[e.jsx(we,{size:14,className:"text-indigo-500"})," Subject Load (",i," max)"]}),e.jsxs("span",{className:d?"text-yellow-700":"text-gray-800",children:[r," / ",i]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200/70",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${o}%`},transition:f,className:`h-2 rounded-full ${d?"bg-yellow-500":"bg-gradient-to-r from-violet-400 to-purple-500"}`})}),d&&r>0&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs font-semibold text-yellow-700",children:[e.jsx(S,{size:14})," Limit reached"]})]}),e.jsxs("div",{className:`rounded-lg border p-3 ${l?"border-red-100 bg-red-50":"border-gray-100 bg-gray-50"}`,children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm font-semibold",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600",children:[e.jsx(Ue,{size:14,className:"text-teal-500"})," Unit Load"]}),e.jsxs("span",{className:l?"text-red-600":"text-gray-800",children:[t.currentLoad," / ",n]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200/70",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${Math.min(a,100)}%`},transition:f,className:`h-2 rounded-full ${l?"bg-red-500":"bg-gradient-to-r from-teal-400 to-cyan-500"}`})}),l&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs font-semibold text-red-600",children:[e.jsx(S,{size:14})," Overloaded"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-3",children:e.jsx(xt,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(ve,{value:"assigned-subjects",className:"border-b-0",children:[e.jsx(ye,{className:"rounded-md px-2 py-1 text-md font-semibold text-gray-700 transition-colors hover:bg-gray-100 hover:no-underline focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:e.jsx("div",{className:"flex flex-1 items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{size:16,className:"text-indigo-600"}),e.jsx("span",{children:"View Assigned Subjects"}),e.jsx("span",{className:"ml-1 rounded-full border border-gray-200 bg-gray-100 px-2 py-0.5 text-xs text-gray-700",children:r})]})})}),e.jsx(je,{className:"pt-3",children:e.jsx("div",{className:"space-y-2",children:t.assignedSubjects.length>0?t.assignedSubjects.map(h=>e.jsxs(C.div,{layout:!0,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center justify-between rounded-lg border border-gray-200 bg-white p-2.5 transition-colors hover:border-indigo-200 hover:bg-indigo-50/40",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"truncate text-sm font-semibold text-gray-800",children:[h.code," - ",h.title]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[h.schedule||"TBA",e.jsx("span",{className:"mx-1.5 text-gray-300",children:"•"}),typeof h.units=="number"?`${h.units} units`:"—"]})]}),e.jsx("button",{onClick:()=>s(h.id),title:"Unassign subject","aria-label":`Unassign ${h.code}`,className:"rounded-md p-1 text-gray-400 opacity-0 transition-opacity hover:bg-red-50 hover:text-red-500 group-hover:opacity-100",children:e.jsx(Ce,{size:18})})]},h.id)):e.jsx("p",{className:"py-4 text-center text-sm text-gray-400",children:"No subjects assigned yet."})})})]})})})]})}function pt({unassignedSubjects:t,facultyWithAssignments:s,handleOpenAssignModal:n,handleUnassignSubject:i}){const a=s.filter((o,l)=>l%2===0),r=s.filter((o,l)=>l%2!==0);return e.jsxs("div",{className:"grid grid-cols-1 gap-8 items-start mt-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 p-2",children:[e.jsx(Ee,{className:"text-violet-600",size:28}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Unassigned Subjects (",t.length,")"]})]}),e.jsx(Q,{children:t.length>0?e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-1 gap-4",children:t.map(o=>e.jsx(ze,{subject:o,onAssignClick:()=>n(o)},o.id))}):e.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-10 flex flex-col items-center justify-center bg-white rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx(Z,{size:48,className:"mx-auto text-green-500"}),e.jsx("p",{className:"mt-3 font-semibold text-lg text-gray-700",children:"All Subjects Assigned!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Excellent work, all classes are covered."})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 p-2",children:[e.jsx(Ae,{className:"text-indigo-600",size:28}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Members"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-1/2 flex flex-col gap-6",children:a.map(o=>e.jsx(Y,{faculty:o,onUnassign:i},o.id))}),e.jsx("div",{className:"w-full md:w-1/2 flex flex-col gap-6",children:r.map(o=>e.jsx(Y,{faculty:o,onUnassign:i},o.id))})]})]})]})}const gt=[{id:"subj-1",code:"CS-301",title:"Data Structures",schedule:"MWF 9:00-10:00",days:["Mon","Wed","Fri"],units:3,expertise:"Algorithms",assignedTo:null},{id:"subj-2",code:"IT-411",title:"Advanced Programming",schedule:"TTH 10:30-12:00",days:["Tue","Thu"],units:3,expertise:"Programming",assignedTo:null},{id:"subj-3",code:"DS-210",title:"Intro to Data Science",schedule:"MWF 1:00-2:00",days:["Mon","Wed","Fri"],units:3,expertise:"Data Science",assignedTo:null},{id:"subj-4",code:"CS-412",title:"Machine Learning",schedule:"TTH 2:30-4:00",days:["Tue","Thu"],units:3,expertise:"Machine Learning",assignedTo:null},{id:"subj-5",code:"IT-205",title:"Database Management",schedule:"MWF 11:00-12:00",days:["Mon","Wed","Fri"],units:3,expertise:"Database",assignedTo:"fac-2"},{id:"subj-6",code:"CS-101",title:"Intro to Computing",schedule:"TTH 8:30-10:00",days:["Tue","Thu"],units:3,expertise:"Programming",assignedTo:null},{id:"subj-7",code:"SYS-300",title:"Systems Architecture",schedule:"MWF 10:00-11:00",days:["Mon","Wed","Fri"],units:3,expertise:"Systems Architecture",assignedTo:null},{id:"subj-8",code:"SE-301",title:"Software Engineering",schedule:"TTH 1:00-2:30",days:["Tue","Thu"],units:3,expertise:"Software Engineering",assignedTo:null},{id:"subj-9",code:"HCI-200",title:"Human-Computer Interaction",schedule:"MWF 3:00-4:00",days:["Mon","Wed","Fri"],units:3,expertise:"HCI",assignedTo:null},{id:"subj-10",code:"NET-350",title:"Computer Networks",schedule:"TTH 11:00-12:30",days:["Tue","Thu"],units:3,expertise:"Computer Networks",assignedTo:null},{id:"subj-11",code:"GAME-310",title:"Game Development",schedule:"MWF 1:00-2:00",days:["Mon","Wed","Fri"],units:3,expertise:"Game Development",assignedTo:null},{id:"subj-12",code:"SEC-450",title:"Cyber Security",schedule:"TTH 4:00-5:30",days:["Tue","Thu"],units:3,expertise:"Cyber Security",assignedTo:"fac-4"},{id:"subj-13",code:"CGV-410",title:"Computer Graphics & Vision",schedule:"MWF 11:00-12:00",days:["Mon","Wed","Fri"],units:3,expertise:"Computer Graphics & Vision",assignedTo:null},{id:"subj-14",code:"SDEV-400",title:"Mobile Software Development",schedule:"TTH 8:30-10:00",days:["Tue","Thu"],units:3,expertise:"Software Development",assignedTo:null}],ht=[{id:"fac-1",name:"Dr. Maria Santos",maxLoad:12,maxSubjects:4,expertise:["Machine Learning","Data Science"],availability:{days:["Tue","Thu"],note:"Prefers TTH"},imageUrl:"https://i.pravatar.cc/150?u=maria.santos"},{id:"fac-2",name:"Prof. Albie Cruz",maxLoad:15,maxSubjects:4,expertise:["Programming","Database","Algorithms"],availability:{days:["Mon","Wed","Fri"],note:"Prefers MWF AM"},imageUrl:"https://i.pravatar.cc/150?u=albie.cruz"},{id:"fac-3",name:"Prof. John Reyes",maxLoad:12,maxSubjects:4,expertise:["Algorithms","Systems Architecture"],availability:{days:["Mon","Tue","Wed","Thu","Fri"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=john.reyes"},{id:"fac-4",name:"Prof. Angela David",maxLoad:12,maxSubjects:4,expertise:["Computer Networks","Cyber Security"],availability:{days:["Tue","Thu"],note:"Prefers TTH PM"},imageUrl:"https://i.pravatar.cc/150?u=angela.david"},{id:"fac-5",name:"Dr. Ben Castro",maxLoad:15,maxSubjects:4,expertise:["Software Engineering","Software Development","Programming"],availability:{days:["Mon","Wed","Fri"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=ben.castro"},{id:"fac-6",name:"Prof. Carla Espino",maxLoad:12,maxSubjects:4,expertise:["HCI","Computer Graphics & Vision"],availability:{days:["Mon","Wed","Fri"],note:"Prefers MWF AM"},imageUrl:"https://i.pravatar.cc/150?u=carla.espino"},{id:"fac-7",name:"Dr. David Garcia",maxLoad:12,maxSubjects:4,expertise:["Game Development","Programming","Computer Graphics & Vision"],availability:{days:["Tue","Thu"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=david.garcia"}],ft=(t,s)=>!t||!s?!0:t.every(n=>s.includes(n));function Rt(){const[t,s]=u.useState(gt),[n,i]=u.useState(ht),[a,r]=u.useState(!1),[o,l]=u.useState(null),d=t.filter(g=>g.assignedTo===null),c=u.useMemo(()=>t.reduce((g,m)=>g+m.units,0),[t]),x=u.useMemo(()=>t.filter(g=>g.assignedTo!==null).reduce((g,m)=>g+m.units,0),[t]),p=c>0?x/c*100:0,b=g=>{l(g),r(!0)},f=()=>{r(!1),l(null)},h=g=>{o&&(s(m=>m.map(v=>v.id===o.id?{...v,assignedTo:g}:v)),f())},y=g=>{s(m=>m.map(v=>v.id===g?{...v,assignedTo:null}:v))},N=u.useMemo(()=>n.map(g=>{const m=t.filter(A=>A.assignedTo===g.id),v=m.reduce((A,M)=>A+M.units,0);return{...g,assignedSubjects:m,currentLoad:v}}),[t,n]);return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[e.jsx(Me,{}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8 flex-grow",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Faculty Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Efficiently assign subjects and manage faculty workloads."})]}),e.jsx(We,{assignmentProgress:p}),e.jsx(pt,{unassignedSubjects:d,facultyWithAssignments:N,handleOpenAssignModal:b,handleUnassignSubject:y})]})}),e.jsx(Q,{children:a&&o&&e.jsx(bt,{onClose:f,subject:o,facultyList:N,onAssign:h})})]})}function bt({onClose:t,subject:s,facultyList:n,onAssign:i}){return e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:e.jsxs(C.div,{initial:{scale:.9,y:-20},animate:{scale:1,y:0},exit:{scale:.9,y:-20},className:"bg-white border border-gray-200 rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"p-5 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assign Subject to Faculty"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Select a faculty for ",e.jsxs("span",{className:"font-semibold text-indigo-600",children:[s.code," - ",s.title]})," (",s.units," units)"]})]}),e.jsx("div",{className:"p-3 md:p-5 overflow-y-auto space-y-3",children:n.map(a=>{const r=a.expertise.includes(s.expertise),o=ft(s.days,a.availability.days),l=r&&o,d=a.currentLoad+s.units>a.maxLoad,c=a.assignedSubjects.length>=a.maxSubjects,x=d||c||!o;let p="Assign";d?p="Overloaded":c?p="Limit Reached":o||(p="Conflict");const b=l?"bg-green-50 border-green-200":o?"bg-white":"bg-amber-50 border-amber-200";return e.jsxs("div",{className:`p-4 border rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 transition-all ${b}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Units: ",a.currentLoad,"/",a.maxLoad," | Subjects: ",a.assignedSubjects.length,"/",a.maxSubjects]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 self-end sm:self-center",children:[e.jsx("div",{className:"flex flex-col items-end text-xs",children:l?e.jsxs("span",{className:"flex items-center gap-1 font-semibold text-green-700",children:[e.jsx($e,{size:14})," Good Match"]}):e.jsxs(e.Fragment,{children:[!r&&e.jsx("span",{className:"text-yellow-700",children:"Mismatched Expertise"}),!o&&e.jsx("span",{className:"text-amber-700 font-semibold",children:"Schedule Conflict"})]})}),e.jsx(D,{onClick:()=>i(a.id),disabled:x,className:"px-4 py-2 w-32 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:p})]})]},a.id)})}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:e.jsx(D,{onClick:t,children:"Cancel"})})]})})}export{Rt as default};
