import{c as re,j as e,B as A,r as n,X as fe,t as m,a as E,u as je}from"./index-hJ5NTOlQ.js";import{b as se,e as v,T as ve,a as be,c as R,d as ye}from"./table-5RNctBkK.js";import{I as B}from"./input-DNRZPq4q.js";import{S as Q,a as Z,b as ee,c as te,d as G}from"./select-B6mTRo6D.js";import{B as le}from"./badge-fcMAbsKu.js";import{P as Ne,T as me}from"./trash-2-BgMEbEAm.js";import{D as ie,a as oe,b as he,c as xe,e as ge,f as we,d as Se}from"./dialog-D-7EzQvf.js";import{L as M}from"./label-CBS2of1Q.js";import{C as _e}from"./circle-alert-D6w4E6uh.js";import{S as D,L as Ce}from"./skeleton-CUWVZWHY.js";import{S as ce}from"./sweetalert2.esm.all-ePrzfkxH.js";import{C as Ae}from"./circle-plus-C3u5tXDI.js";import{S as Fe}from"./search-OttdG8Vj.js";import{F as ke}from"./funnel-BiJgBfHG.js";import{C as Te}from"./calendar-days-CoNT1TbL.js";import{S as $e}from"./square-pen-D4qTmpW9.js";import"./Combination-C-PKQ9lL.js";import"./check-L0h3zVVs.js";import"./chevron-up-CyrvZq6b.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ie=re("briefcase",De);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pe=re("chevron-left",Le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Be=re("chevron-right",Me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ze=re("rotate-ccw",Ee);function qe({onAdd:x}){return e.jsxs(A,{onClick:x,className:"w-full sm:w-auto",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Add Faculty"]})}const de=[{bg:"bg-blue-100",text:"text-blue-800"},{bg:"bg-emerald-100",text:"text-emerald-800"},{bg:"bg-amber-100",text:"text-amber-800"},{bg:"bg-rose-100",text:"text-rose-800"},{bg:"bg-indigo-100",text:"text-indigo-800"},{bg:"bg-cyan-100",text:"text-cyan-800"},{bg:"bg-pink-100",text:"text-pink-800"}],Oe=x=>{let d=0;for(let f=0;f<x.length;f++)d=(d<<5)-d+x.charCodeAt(f),d|=0;return Math.abs(d)};function Ve({isOpen:x,onClose:d,onSave:f,initialData:g,expertiseOptions:w}){const[h,j]=n.useState({name:"",email:"",designation:"",department:"",expertise:[],status:"Active",avatar:"",deload_units:0,teaching_load_units:0,overload_units:0}),[F,y]=n.useState(null),[z,_]=n.useState(!1),[W,k]=n.useState(w),[J,l]=n.useState([]),[i,o]=n.useState(!1),[I,$]=n.useState(!1);n.useEffect(()=>{x&&(async()=>{o(!0);const r=localStorage.getItem("accessToken");if(!r){m.error("Authentication required."),o(!1);return}try{const s=await E.get("/department-program",{headers:{Authorization:`Bearer ${r}`}}),P=Array.isArray(s.data.programs)?s.data.programs:Object.values(s.data.programs||{}),C=[...new Set(P.map(K=>K.program_name))];l(C.sort())}catch{m.error("Failed to fetch departments.")}finally{o(!1)}})()},[x]),n.useEffect(()=>{if(g)j(g),y(g.avatar||null),k(w.filter(a=>!g.expertise.includes(a)));else{const a=`https://avatar.iran.liara.run/public/${Math.floor(Math.random()*100)}`;j({name:"",designation:"",expertise:[],department:"",email:"",status:"Active",avatar:a,deload_units:0,teaching_load_units:0,overload_units:0}),y(a),k(w)}},[g,x,w]);const L=a=>{const{name:r,value:s}=a.target;let P=s;if(["deload_units","teaching_load_units","overload_units"].includes(r)){let C=Number(s);r==="teaching_load_units"&&C>24&&(m.warning("Teaching load cannot exceed 24 units."),C=24),P=C<0?0:s===""?"":C}j(C=>({...C,[r]:P}))},q=(a,r)=>{j(s=>({...s,[a]:r}))},Y=a=>{const r=a.target.files?.[0];r&&y(URL.createObjectURL(r))},U=a=>{a&&!h.expertise.includes(a)&&(j(r=>({...r,expertise:[...r.expertise,a].sort()})),k(r=>r.filter(s=>s!==a)))},X=a=>{j(r=>({...r,expertise:r.expertise.filter(s=>s!==a)})),W.includes(a)||k(r=>[...r,a].sort())},ae=async a=>{a.preventDefault(),$(!0);let r;switch(h.designation){case"Dean":r=0;break;case"Program Head":r=1;break;case"Faculty":r=2;break;default:m.error("Invalid designation."),$(!1);return}const s=new FormData;s.append("name",h.name),s.append("email",h.email),s.append("role",String(r)),s.append("designation",h.designation),s.append("department",h.department),s.append("deload_units",String(h.deload_units||0)),s.append("t_load_units",String(h.teaching_load_units||0)),s.append("overload_units",String(h.overload_units||0)),h.expertise.forEach(N=>s.append("expertise[]",N));const P=document.getElementById("avatar-file");P?.files?.[0]&&s.append("avatar",P.files[0]);const C=localStorage.getItem("accessToken");if(!C){m.error("Authentication required."),$(!1);return}const K={Authorization:`Bearer ${C}`,"Content-Type":"multipart/form-data"};try{const N=!!g,O=N?`/faculties/${g.id}`:"/faculties";N&&s.append("_method","PUT");const V=await E.post(O,s,{headers:K});m.success(V.data.message||"Faculty saved successfully!");const b=V.data.faculty,ne={id:b.id,name:b.user?.name||"N/A",email:b.user?.email||"N/A",role:b.user?.role,designation:b.designation||"",department:b.department||"",status:b.status===0?"Active":"Inactive",avatar:b.profile_picture?`https://green-deer-882383.hostingersite.com/${b.profile_picture}`:`https://avatar.iran.liara.run/public/boy?username=${(b.user?.name||"").replace(/\s/g,"")}`,expertise:b.expertises?.map(t=>t.list_of_expertise)||[],deload_units:b.deload_units||0,teaching_load_units:b.t_load_units||0,overload_units:b.overload_units||0};f(ne),d()}catch(N){if(E.isAxiosError(N)&&N.response){const O=N.response.data.errors;if(O){const V=Object.values(O)[0][0];m.error(V)}else m.error(N.response.data.message||"An error occurred.")}else m.error("Failed to connect to the server.")}finally{$(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{open:x,onOpenChange:d,children:e.jsxs(oe,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(he,{children:e.jsx(xe,{className:"text-2xl font-bold text-foreground",children:g?"Edit Faculty":"Add New Faculty"})}),e.jsxs("form",{onSubmit:ae,className:"py-4 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("button",{type:"button",onClick:()=>F&&_(!0),className:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary rounded-full disabled:cursor-not-allowed",disabled:!F,title:"Click to preview image",children:e.jsx("img",{src:F||"https://via.placeholder.com/80",alt:"Profile Preview",className:"w-20 h-20 rounded-full object-cover border-2 border-border cursor-pointer hover:opacity-80 transition-opacity"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(B,{id:"avatar-file",type:"file",accept:"image/png, image/jpeg",onChange:Y,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG or JPG. Max 2MB."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name",children:"Full Name"}),e.jsx(B,{id:"name",name:"name",value:h.name,onChange:L,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:"Email Address"}),e.jsx(B,{id:"email",name:"email",type:"email",value:h.email,onChange:L,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"designation",children:"Designation"}),e.jsxs(Q,{value:h.designation,onValueChange:a=>q("designation",a),required:!0,children:[e.jsx(Z,{children:e.jsx(ee,{placeholder:"Select a designation"})}),e.jsxs(te,{children:[e.jsx(G,{value:"Dean",children:"Dean"}),e.jsx(G,{value:"Program Head",children:"Program Head"}),e.jsx(G,{value:"Faculty",children:"Faculty"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"department",children:"Department"}),e.jsxs(Q,{value:h.department,onValueChange:a=>q("department",a),required:!0,children:[e.jsx(Z,{disabled:i,children:e.jsx(ee,{placeholder:i?"Loading...":"Select a department"})}),e.jsx(te,{children:J.length>0?J.map(a=>e.jsx(G,{value:a,children:a},a)):e.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:i?"Loading...":"No departments."})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 border-t pt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"deload_units",children:"Deload Units"}),e.jsx(B,{id:"deload_units",name:"deload_units",type:"number",value:h.deload_units||"",onChange:L,placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"teaching_load_units",children:"Teaching Load"}),e.jsx(B,{id:"teaching_load_units",name:"teaching_load_units",type:"number",value:h.teaching_load_units||"",onChange:L,placeholder:"e.g. 18"}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(_e,{size:12})," Max load is 24 units."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"overload_units",children:"Overload Units"}),e.jsx(B,{id:"overload_units",name:"overload_units",type:"number",value:h.overload_units||"",onChange:L,placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"expertise",children:"Expertise"}),e.jsxs("div",{className:"flex flex-col p-2 w-full rounded-md border border-input bg-background text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[e.jsxs(Q,{onValueChange:U,value:"",children:[e.jsx(Z,{className:"border-t h-auto p-2 focus:ring-0 focus:ring-offset-0 justify-start text-primary hover:text-primary/90 font-medium",children:e.jsx(ee,{placeholder:"Click to add from the list..."})}),e.jsx(te,{children:W.length>0?W.sort().map(a=>e.jsx(G,{value:a,children:a},a)):e.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"All expertise selected."})})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 p-2 min-h-[2.5rem] items-center",children:h.expertise.map(a=>{const r=Oe(a)%de.length,s=de[r];return e.jsxs(le,{className:`font-normal hover:${s.bg} ${s.bg} hover:${s.text} ${s.text}`,children:[a,e.jsx("button",{type:"button",onClick:()=>X(a),className:"ml-1.5 rounded-full hover:bg-black/10 p-0.5","aria-label":`Remove ${a}`,children:e.jsx(fe,{size:14})})]},a)})})]})]}),e.jsxs(ge,{className:"mt-8 pt-4 border-t border-border",children:[e.jsx(we,{asChild:!0,children:e.jsx(A,{type:"button",variant:"outline",disabled:I,children:"Cancel"})}),e.jsx(A,{type:"submit",disabled:I,children:I?"Saving...":g?"Save Changes":"Save Faculty"})]})]})]})}),e.jsx(ie,{open:z,onOpenChange:_,children:e.jsx(oe,{className:"sm:max-w-lg p-2 bg-transparent border-none shadow-none",children:e.jsx("img",{src:F||"",alt:"Profile Preview Large",className:"w-full h-auto rounded-lg object-contain max-h-[80vh]"})})})]})}const He=()=>e.jsxs(se,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{className:"h-11 w-11 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"h-4 w-40"}),e.jsx(D,{className:"h-3 w-24"})]})]})}),e.jsx(v,{children:e.jsx(D,{className:"h-4 w-48"})}),e.jsx(v,{children:e.jsx(D,{className:"h-4 w-32"})}),e.jsx(v,{children:e.jsx(D,{className:"h-4 w-16"})}),e.jsx(v,{children:e.jsx(D,{className:"h-4 w-16"})}),e.jsx(v,{children:e.jsx(D,{className:"h-4 w-16"})}),e.jsx(v,{children:e.jsx(D,{className:"h-6 w-20 rounded-full"})}),e.jsx(v,{children:e.jsx(D,{className:"h-8 w-8 rounded-md"})})]}),Re=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ge({isOpen:x,onClose:d,faculty:f}){const[g,w]=n.useState({}),[h,j]=n.useState(!0),[F,y]=n.useState(!1);if(n.useEffect(()=>{x&&f&&(async()=>{j(!0);const i=localStorage.getItem("accessToken");if(!i){m.error("Authentication required."),j(!1);return}try{const o=await E.get(`/faculties/${f.id}/availability`,{headers:{Authorization:`Bearer ${i}`}});w(o.data)}catch{m.error("Could not fetch the existing schedule for this faculty."),w({})}finally{j(!1)}})()},[x,f]),!f)return null;const z=l=>{const i={id:Date.now(),start:"",end:""};w(o=>({...o,[l]:[...o[l]||[],i]}))},_=(l,i,o,I)=>{w($=>{const L=($[l]||[]).map(q=>q.id===i?{...q,[o]:I}:q);return{...$,[l]:L}})},W=(l,i)=>{w(o=>({...o,[l]:(o[l]||[]).filter(I=>I.id!==i)}))},k=async()=>{for(const i in g)for(const o of g[i]){if(!o.start||!o.end){m.error(`Please complete all time fields for ${i}.`);return}if(o.start>=o.end){m.error(`On ${i}, the end time must be after the start time.`);return}}y(!0);const l=localStorage.getItem("accessToken");if(!l){m.error("Authentication required. Please log in again."),y(!1);return}try{const i=await E.post(`/faculties/${f.id}/availability`,g,{headers:{Authorization:`Bearer ${l}`}});m.success(i.data.message||"Schedule updated successfully."),d()}catch(i){const o=i.response?.data?.message||"An unknown error occurred while saving.";m.error(o)}finally{y(!1)}},J=l=>{l||d()};return e.jsx(ie,{open:x,onOpenChange:J,children:e.jsxs(oe,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[e.jsxs(he,{children:[e.jsxs(xe,{children:["Set Availability for ",f.name]}),e.jsx(Se,{children:"Add or update time slots for each day the faculty is available to teach."})]}),e.jsx("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4 space-y-6 py-4",children:h?e.jsxs("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:[e.jsx(Ce,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"ml-4",children:"Loading existing schedule..."})]}):Re.map(l=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"font-semibold",children:l}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>z(l),children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Add time slot"]})]}),g[l]&&g[l].length>0?e.jsx("div",{className:"space-y-2 pl-4 border-l-2",children:g[l].map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{type:"time",value:i.start,onChange:o=>_(l,i.id,"start",o.target.value)}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(B,{type:"time",value:i.end,onChange:o=>_(l,i.id,"end",o.target.value)}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>W(l,i.id),title:"Remove slot",children:e.jsx(me,{className:"h-4 w-4 text-destructive"})})]},i.id))}):e.jsx("p",{className:"text-sm text-muted-foreground pl-4",children:"Not available on this day."})]},l))}),e.jsxs(ge,{className:"mt-4 pt-4 border-t",children:[e.jsx(A,{variant:"outline",onClick:d,disabled:F,children:"Cancel"}),e.jsx(A,{onClick:k,disabled:F||h,children:F?"Saving...":"Save Schedule"})]})]})})}const ue=[{bg:"bg-blue-100",text:"text-blue-800"},{bg:"bg-emerald-100",text:"text-emerald-800"},{bg:"bg-amber-100",text:"text-amber-800"},{bg:"bg-rose-100",text:"text-rose-800"},{bg:"bg-indigo-100",text:"text-indigo-800"},{bg:"bg-cyan-100",text:"text-cyan-800"},{bg:"bg-pink-100",text:"text-pink-800"}],We=x=>{let d=0;for(let f=0;f<x.length;f++)d=(d<<5)-d+x.charCodeAt(f),d|=0;return Math.abs(d)};function Ye(){const[x,d]=n.useState([]),[f,g]=n.useState(!0),[w,h]=n.useState(""),[j,F]=n.useState({department:"All",status:"Active"}),[y,z]=n.useState(1),[_]=n.useState(10),[W,k]=n.useState(!1),[J,l]=n.useState(null),[i,o]=n.useState([]),[I,$]=n.useState(!1),[L,q]=n.useState(null),[Y,U]=n.useState(null),X=je(),ae=n.useCallback(async()=>{g(!0);const t=localStorage.getItem("accessToken");if(!t){m.error("Authentication required."),g(!1),X("/facultyscheduler/user-login");return}try{const c=await E.get("/faculties",{headers:{Authorization:`Bearer ${t}`}}),u=c.data.faculties||[],p=c.data.inactive_faculties||[],H=S=>({id:S.id,name:S.user?.name||"N/A",email:S.user?.email||"N/A",role:S.user?.role,designation:S.designation||"",department:S.department||"",status:S.status===0?"Active":"Inactive",avatar:S.profile_picture?`https://green-deer-882383.hostingersite.com/${S.profile_picture}`:`https://avatar.iran.liara.run/public/boy?username=${(S.user?.name||"").replace(/\s/g,"")}`,expertise:S.expertises?.map(pe=>pe.list_of_expertise)||[],deload_units:S.deload_units||0,teaching_load_units:S.t_load_units||0,overload_units:S.overload_units||0}),T=[...u.map(H),...p.map(H)];d(T)}catch{m.error("Failed to fetch faculty data."),X("/facultyscheduler/user-login")}finally{g(!1)}},[X]);n.useEffect(()=>{(async()=>{const c=localStorage.getItem("accessToken");if(c)try{const u=await E.get("/department-program",{headers:{Authorization:`Bearer ${c}`}}),p=Array.isArray(u.data.programs)?u.data.programs:Object.values(u.data.programs||{}),H=[...new Set(p.map(T=>T.program_name))];o(H.sort())}catch(u){console.error("Failed to fetch departments for filter:",u)}})()},[]),n.useEffect(()=>{ae()},[ae]);const a=t=>{if(k(!1),x.some(u=>u.id===t.id))d(u=>u.map(p=>p.id===t.id?t:p)),U(t.id),globalThis.setTimeout(()=>U(null),5e3);else{const u={...t,status:"Active"};d(p=>[u,...p]),z(1),U(u.id),globalThis.setTimeout(()=>U(null),5e3)}},r=t=>{ce.fire({title:"Are you sure?",text:"This faculty will be marked as inactive.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, deactivate it!"}).then(async c=>{if(c.isConfirmed){const u=localStorage.getItem("accessToken");if(!u){m.error("Authentication required.");return}try{const p=await E.delete(`/faculties/${t}`,{headers:{Authorization:`Bearer ${u}`}});m.success(p.data.message||"Faculty deactivated."),d(H=>H.map(T=>T.id===t?{...T,status:"Inactive"}:T))}catch{m.error("Failed to deactivate faculty.")}}})},s=t=>{ce.fire({title:"Activate this faculty?",text:"This will make the faculty available again.",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Yes, activate it!"}).then(async c=>{if(c.isConfirmed){const u=localStorage.getItem("accessToken");if(!u){m.error("Authentication required.");return}try{const p=await E.post(`/faculties/${t}/activate`,{},{headers:{Authorization:`Bearer ${u}`}});m.success(p.data.message||"Faculty activated."),d(H=>H.map(T=>T.id===t?{...T,status:"Active"}:T))}catch{m.error("Failed to activate faculty.")}}})},P=()=>{l(null),k(!0)},C=t=>{l(t),k(!0)},K=t=>{q(t),$(!0)},N=n.useMemo(()=>x.filter(t=>t.id===Y||j.status==="All"||t.status===j.status).filter(t=>t.id===Y||j.department==="All"||t.department===j.department).filter(t=>{const c=w.toLowerCase();return t.id===Y||(t.name||"").toLowerCase().includes(c)||(t.department||"").toLowerCase().includes(c)||(t.designation||"").toLowerCase().includes(c)||(t.expertise||[]).some(u=>(u||"").toLowerCase().includes(c))}),[x,w,j,Y]),O=n.useMemo(()=>{const t=(y-1)*_;return N.slice(t,t+_)},[N,y,_]),V=Math.ceil(N.length/_),b=["All","Active","Inactive"],ne=["Computer Networks","HCI","Computer Graphics & Vision","Software Engineering","Software Development","Cyber Security","Programming","Game Development"];return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-6 md:mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground tracking-tight",children:"Faculty Management"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"A centralized hub to add, edit, and manage all faculty members."})]}),e.jsxs("div",{className:"bg-card p-4 md:p-6 rounded-lg shadow-sm border border-border",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full md:max-w-xs",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),e.jsx(B,{placeholder:"Search faculty...",className:"pl-10 w-full",value:w,onChange:t=>{h(t.target.value),z(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[e.jsxs(Q,{value:j.department,onValueChange:t=>F(c=>({...c,department:t})),children:[e.jsxs(Z,{className:"w-full sm:w-auto md:w-[200px]",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(ee,{placeholder:"All Departments"})]}),e.jsxs(te,{children:[e.jsx(G,{value:"All",children:"All Departments"}),i.map(t=>e.jsx(G,{value:t,children:t},t))]})]}),e.jsxs(Q,{value:j.status,onValueChange:t=>F(c=>({...c,status:t})),children:[e.jsxs(Z,{className:"w-full sm:w-auto md:w-[180px]",children:[e.jsx(ke,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(ee,{placeholder:"All Statuses"})]}),e.jsx(te,{children:b.map(t=>e.jsx(G,{value:t,children:t},t))})]}),e.jsx(qe,{onAdd:P})]})]}),e.jsx("div",{className:"rounded-lg border border-border overflow-x-auto",children:e.jsxs(ve,{className:"min-w-[1000px]",children:[e.jsx(be,{className:"bg-muted/50",children:e.jsxs(se,{children:[e.jsx(R,{className:"w-[300px]",children:"Faculty Member"}),e.jsx(R,{children:"Department"}),e.jsx(R,{children:"Expertise"}),e.jsx(R,{className:"text-center",children:"Teaching Load"}),e.jsx(R,{className:"text-center",children:"Deload"}),e.jsx(R,{className:"text-center",children:"Overload"}),e.jsx(R,{children:"Status"}),e.jsx(R,{className:"text-right",children:"Actions"})]})}),e.jsx(ye,{children:f?Array.from({length:_}).map((t,c)=>e.jsx(He,{},c)):O.length===0?e.jsx(se,{children:e.jsx(v,{colSpan:8,className:"text-center h-48 text-muted-foreground",children:"No Faculty Found"})}):O.map(t=>e.jsxs(se,{className:`${Y===t.id?"ring-2 ring-yellow-400 bg-yellow-50":""}`,children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:t.avatar,alt:t.name,className:"w-11 h-11 rounded-full object-cover ring-2 ring-offset-2 ring-border"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground whitespace-nowrap",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:t.designation})]})]})}),e.jsx(v,{className:"text-muted-foreground max-w-[200px] truncate",children:t.department}),e.jsx(v,{children:e.jsx("div",{className:"flex flex-wrap items-center gap-1.5 max-w-xs",children:t.expertise.map(c=>{const u=We(c)%ue.length,p=ue[u];return e.jsx(le,{className:`font-normal hover:${p.bg} ${p.bg} hover:${p.text} ${p.text}`,children:c},c)})})}),e.jsx(v,{className:"text-center font-medium",children:t.teaching_load_units}),e.jsx(v,{className:"text-center text-muted-foreground",children:t.deload_units}),e.jsx(v,{className:"text-center text-destructive",children:t.overload_units}),e.jsx(v,{children:e.jsx(le,{variant:t.status==="Active"?"default":"destructive",children:t.status})}),e.jsx(v,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end items-center gap-1",children:[e.jsx(A,{variant:"ghost",size:"icon",title:"Set Faculty Schedule",onClick:()=>K(t),className:"h-8 w-8 text-muted-foreground hover:text-primary",children:e.jsx(Te,{className:"h-4 w-4 text-purple-500"})}),e.jsx(A,{variant:"ghost",size:"icon",title:"Edit Faculty",onClick:()=>C(t),className:"h-8 w-8 text-muted-foreground hover:text-primary",children:e.jsx($e,{className:"h-4 w-4 text-blue-500"})}),t.status==="Active"?e.jsx(A,{variant:"ghost",size:"icon",title:"Deactivate Faculty",onClick:()=>r(t.id),className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:e.jsx(me,{className:"h-4 w-4 text-red-500"})}):e.jsx(A,{variant:"ghost",size:"icon",title:"Activate Faculty",onClick:()=>s(t.id),className:"h-8 w-8 text-muted-foreground hover:text-green-600",children:e.jsx(ze,{className:"h-4 w-4 text-green-500"})})]})})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",e.jsx("strong",{children:O.length>0?(y-1)*_+1:0})," to ",e.jsx("strong",{children:Math.min(y*_,N.length)})," of ",e.jsx("strong",{children:N.length})," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>z(t=>Math.max(1,t-1)),disabled:y===1,children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium text-foreground px-2",children:["Page ",y," of ",V||1]}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>z(t=>Math.min(V,t+1)),disabled:y>=V,children:["Next",e.jsx(Be,{className:"h-4 w-4 ml-1"})]})]})]})]}),e.jsx(Ve,{isOpen:W,onClose:()=>k(!1),onSave:a,initialData:J,expertiseOptions:ne}),e.jsx(Ge,{isOpen:I,onClose:()=>$(!1),faculty:L})]})}function ht(){return e.jsx(Ye,{})}export{ht as default};
