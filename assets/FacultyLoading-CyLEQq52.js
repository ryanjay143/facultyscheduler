import{c as y,j as e,m as u,B as T,b as z,X as P,U,r as j}from"./index-hYjaP9Dp.js";import{H}from"./Header-BHhhS4u1.js";import{C as W}from"./clock-BSPBEtfr.js";import{C as D}from"./circle-plus-knpOaSnC.js";import{A as $,a as _,b as E,c as I}from"./accordion-B78Ocj4p.js";import{T as N}from"./triangle-alert-tYE_EtgR.js";import{B}from"./book-RIQO4Wyx.js";import{A as C}from"./index-C_t9zXap.js";import"./chevron-down-BFehub7U.js";import"./calendar-check-CL2k6rM4.js";import"./index-CFdJ_3cI.js";import"./index-Cv-42o4Q.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],O=y("brain-circuit",G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]],R=y("chart-bar-big",V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],A=y("circle-check",q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],J=y("file-stack",Z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Y=y("gauge",X);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],L=y("sparkles",K);function Q({assignmentProgress:s}){const a=Math.round(s);return e.jsxs("div",{className:"p-4 rounded-xl border border-white/20 bg-white/10 text-white shadow-inner",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Assignment Progress"}),e.jsxs("span",{className:"font-bold",children:[a,"% Complete"]})]}),e.jsx("div",{className:"w-full h-2.5 rounded-full bg-white/30 overflow-hidden",children:e.jsx(u.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-amber-300 via-yellow-300 to-white",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.8,ease:"easeInOut"},"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a,role:"progressbar"})})]})}function ee({subject:s,onAssignClick:a}){return e.jsxs(u.div,{layout:!0,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,x:-30,transition:{duration:.2}},className:"p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-lg hover:border-violet-400 transition-all duration-300 flex flex-col justify-between gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("p",{className:"font-bold text-gray-800 text-base",children:[s.code," - ",s.title]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full",children:[e.jsx(W,{size:14}),e.jsx("span",{children:s.schedule})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold text-teal-800 bg-teal-100 rounded-full",children:[e.jsx(R,{size:14}),e.jsxs("span",{children:[s.units," units"]})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-violet-800 bg-violet-100 rounded-full w-fit",children:[e.jsx(O,{size:12})," ",s.expertise]})})]}),e.jsxs(T,{onClick:a,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-semibold text-white bg-gradient-to-r from-violet-600 to-indigo-600 rounded-lg hover:from-violet-700 hover:to-indigo-700 transition-all shadow-md transform hover:scale-105",children:[e.jsx(D,{size:16}),e.jsx("span",{children:"Assign"})]})]})}function k({faculty:s,onUnassign:a}){const o=Math.max(0,s.maxLoad||0),m=Math.max(1,s.maxSubjects||1),t=o>0?s.currentLoad/o*100:0,d=s.assignedSubjects.length,i=Math.min(d/m*100,100),l=t>100,x=d>=m,c=l?"overloaded":x?"limit":"ok",h={overloaded:{label:"Overloaded",icon:N,text:"text-red-700",bg:"bg-red-50",ring:"ring-1 ring-red-200",dot:"bg-red-500"},limit:{label:"Subject limit reached",icon:N,text:"text-yellow-700",bg:"bg-yellow-50",ring:"ring-1 ring-yellow-200",dot:"bg-yellow-500"},ok:{label:"Available",icon:A,text:"text-emerald-700",bg:"bg-emerald-50",ring:"ring-1 ring-emerald-200",dot:"bg-emerald-500"}},b=h[c].icon,f=n=>n.split(" ").map(w=>w[0]).filter(Boolean).slice(0,2).join("").toUpperCase(),v={type:"spring",stiffness:140,damping:20};return e.jsxs(u.div,{layout:!0,initial:{opacity:0,scale:.96,y:6},animate:{opacity:1,scale:1,y:0},whileHover:{y:-2},whileTap:{scale:.997},transition:{duration:.35,ease:"easeOut"},className:`relative overflow-hidden rounded-2xl border bg-white/90 p-5 shadow-sm backdrop-blur-sm hover:shadow-xl ${h[c].ring}`,children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-10 -top-10 h-28 w-28 rounded-full bg-gradient-to-br from-indigo-200/50 via-purple-200/50 to-cyan-200/50 blur-2xl"}),e.jsxs("div",{className:"flex items-start gap-4",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"h-20 w-20 rounded-full border-4 border-white object-cover shadow-md"}):e.jsx("div",{className:"grid h-20 w-20 place-items-center rounded-full border-4 border-white bg-gradient-to-br from-violet-500 to-indigo-500 text-xl font-bold text-white shadow-md",children:f(s.name)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"truncate text-xl font-bold text-gray-900",children:s.name}),e.jsxs("div",{className:`mt-1 inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold ${h[c].bg} ${h[c].text}`,children:[e.jsx("span",{className:`inline-block h-1.5 w-1.5 rounded-full ${h[c].dot}`}),e.jsx(b,{size:12}),e.jsx("span",{children:h[c].label})]})]})}),s.expertise?.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:s.expertise.map(n=>e.jsx("span",{className:"rounded-full border border-indigo-100 bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:n},n))})]})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:`rounded-lg border p-3 ${x?"border-yellow-100 bg-yellow-50":"border-gray-100 bg-gray-50"}`,children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm font-semibold",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600",children:[e.jsx(z,{size:14,className:"text-indigo-500"})," Subject Load (",m," max)"]}),e.jsxs("span",{className:x?"text-yellow-700":"text-gray-800",children:[d," / ",m]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200/70",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${i}%`},transition:v,className:`h-2 rounded-full ${x?"bg-yellow-500":"bg-gradient-to-r from-violet-400 to-purple-500"}`})}),x&&d>0&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs font-semibold text-yellow-700",children:[e.jsx(N,{size:14})," Limit reached"]})]}),e.jsxs("div",{className:`rounded-lg border p-3 ${l?"border-red-100 bg-red-50":"border-gray-100 bg-gray-50"}`,children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm font-semibold",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600",children:[e.jsx(Y,{size:14,className:"text-teal-500"})," Unit Load"]}),e.jsxs("span",{className:l?"text-red-600":"text-gray-800",children:[s.currentLoad," / ",o]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200/70",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${Math.min(t,100)}%`},transition:v,className:`h-2 rounded-full ${l?"bg-red-500":"bg-gradient-to-r from-teal-400 to-cyan-500"}`})}),l&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs font-semibold text-red-600",children:[e.jsx(N,{size:14})," Overloaded"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-3",children:e.jsx($,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(_,{value:"assigned-subjects",className:"border-b-0",children:[e.jsx(E,{className:"rounded-md px-2 py-1 text-md font-semibold text-gray-700 transition-colors hover:bg-gray-100 hover:no-underline focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:e.jsx("div",{className:"flex flex-1 items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{size:16,className:"text-indigo-600"}),e.jsx("span",{children:"View Assigned Subjects"}),e.jsx("span",{className:"ml-1 rounded-full border border-gray-200 bg-gray-100 px-2 py-0.5 text-xs text-gray-700",children:d})]})})}),e.jsx(I,{className:"pt-3",children:e.jsx("div",{className:"space-y-2",children:s.assignedSubjects.length>0?s.assignedSubjects.map(n=>e.jsxs(u.div,{layout:!0,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,x:20},className:"group flex items-center justify-between rounded-lg border border-gray-200 bg-white p-2.5 transition-colors hover:border-indigo-200 hover:bg-indigo-50/40",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"truncate text-sm font-semibold text-gray-800",children:[n.code," - ",n.title]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.schedule||"TBA",e.jsx("span",{className:"mx-1.5 text-gray-300",children:"•"}),typeof n.units=="number"?`${n.units} units`:"—"]})]}),e.jsx("button",{onClick:()=>a(n.id),title:"Unassign subject","aria-label":`Unassign ${n.code}`,className:"rounded-md p-1 text-gray-400 opacity-0 transition-opacity hover:bg-red-50 hover:text-red-500 group-hover:opacity-100",children:e.jsx(P,{size:18})})]},n.id)):e.jsx("p",{className:"py-4 text-center text-sm text-gray-400",children:"No subjects assigned yet."})})})]})})})]})}function se({unassignedSubjects:s,facultyWithAssignments:a,handleOpenAssignModal:o,handleUnassignSubject:m}){const t=a.filter((i,l)=>l%2===0),d=a.filter((i,l)=>l%2!==0);return e.jsxs("div",{className:"grid grid-cols-1 gap-4 items-start mt-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 p-2",children:[e.jsx(B,{className:"text-violet-600",size:28}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Unassigned Subjects (",s.length,")"]})]}),e.jsx(C,{children:s.length>0?e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-1 gap-4",children:s.map(i=>e.jsx(ee,{subject:i,onAssignClick:()=>o(i)},i.id))}):e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-10 flex flex-col items-center justify-center bg-white rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx(A,{size:48,className:"mx-auto text-green-500"}),e.jsx("p",{className:"mt-3 font-semibold text-lg text-gray-700",children:"All Subjects Assigned!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Excellent work, all classes are covered."})]})})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 p-2",children:[e.jsx(U,{className:"text-indigo-600",size:28}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Members"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-1 mb-5 gap-6",children:[e.jsx("div",{className:"w-full flex flex-col gap-6",children:t.map(i=>e.jsx(k,{faculty:i,onUnassign:m},i.id))}),e.jsx("div",{className:"w-full flex flex-col gap-6",children:d.map(i=>e.jsx(k,{faculty:i,onUnassign:m},i.id))})]})]})]})}const te=[{id:"subj-1",code:"CS-301",title:"Data Structures",schedule:"MWF 9:00-10:00",days:["Mon","Wed","Fri"],units:3,expertise:"Algorithms",assignedTo:null},{id:"subj-2",code:"IT-411",title:"Advanced Programming",schedule:"TTH 10:30-12:00",days:["Tue","Thu"],units:3,expertise:"Programming",assignedTo:null},{id:"subj-3",code:"DS-210",title:"Intro to Data Science",schedule:"MWF 1:00-2:00",days:["Mon","Wed","Fri"],units:3,expertise:"Data Science",assignedTo:null},{id:"subj-4",code:"CS-412",title:"Machine Learning",schedule:"TTH 2:30-4:00",days:["Tue","Thu"],units:3,expertise:"Machine Learning",assignedTo:null},{id:"subj-5",code:"IT-205",title:"Database Management",schedule:"MWF 11:00-12:00",days:["Mon","Wed","Fri"],units:3,expertise:"Database",assignedTo:"fac-2"},{id:"subj-6",code:"CS-101",title:"Intro to Computing",schedule:"TTH 8:30-10:00",days:["Tue","Thu"],units:3,expertise:"Programming",assignedTo:null},{id:"subj-7",code:"SYS-300",title:"Systems Architecture",schedule:"MWF 10:00-11:00",days:["Mon","Wed","Fri"],units:3,expertise:"Systems Architecture",assignedTo:null},{id:"subj-8",code:"SE-301",title:"Software Engineering",schedule:"TTH 1:00-2:30",days:["Tue","Thu"],units:3,expertise:"Software Engineering",assignedTo:null},{id:"subj-9",code:"HCI-200",title:"Human-Computer Interaction",schedule:"MWF 3:00-4:00",days:["Mon","Wed","Fri"],units:3,expertise:"HCI",assignedTo:null},{id:"subj-10",code:"NET-350",title:"Computer Networks",schedule:"TTH 11:00-12:30",days:["Tue","Thu"],units:3,expertise:"Computer Networks",assignedTo:null},{id:"subj-11",code:"GAME-310",title:"Game Development",schedule:"MWF 1:00-2:00",days:["Mon","Wed","Fri"],units:3,expertise:"Game Development",assignedTo:null},{id:"subj-12",code:"SEC-450",title:"Cyber Security",schedule:"TTH 4:00-5:30",days:["Tue","Thu"],units:3,expertise:"Cyber Security",assignedTo:"fac-4"},{id:"subj-13",code:"CGV-410",title:"Computer Graphics & Vision",schedule:"MWF 11:00-12:00",days:["Mon","Wed","Fri"],units:3,expertise:"Computer Graphics & Vision",assignedTo:null},{id:"subj-14",code:"SDEV-400",title:"Mobile Software Development",schedule:"TTH 8:30-10:00",days:["Tue","Thu"],units:3,expertise:"Software Development",assignedTo:null}],ie=[{id:"fac-1",name:"Dr. Maria Santos",maxLoad:12,maxSubjects:4,expertise:["Machine Learning","Data Science"],availability:{days:["Tue","Thu"],note:"Prefers TTH"},imageUrl:"https://i.pravatar.cc/150?u=maria.santos"},{id:"fac-2",name:"Prof. Albie Cruz",maxLoad:15,maxSubjects:4,expertise:["Programming","Database","Algorithms"],availability:{days:["Mon","Wed","Fri"],note:"Prefers MWF AM"},imageUrl:"https://i.pravatar.cc/150?u=albie.cruz"},{id:"fac-3",name:"Prof. John Reyes",maxLoad:12,maxSubjects:4,expertise:["Algorithms","Systems Architecture"],availability:{days:["Mon","Tue","Wed","Thu","Fri"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=john.reyes"},{id:"fac-4",name:"Prof. Angela David",maxLoad:12,maxSubjects:4,expertise:["Computer Networks","Cyber Security"],availability:{days:["Tue","Thu"],note:"Prefers TTH PM"},imageUrl:"https://i.pravatar.cc/150?u=angela.david"},{id:"fac-5",name:"Dr. Ben Castro",maxLoad:15,maxSubjects:4,expertise:["Software Engineering","Software Development","Programming"],availability:{days:["Mon","Wed","Fri"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=ben.castro"},{id:"fac-6",name:"Prof. Carla Espino",maxLoad:12,maxSubjects:4,expertise:["HCI","Computer Graphics & Vision"],availability:{days:["Mon","Wed","Fri"],note:"Prefers MWF AM"},imageUrl:"https://i.pravatar.cc/150?u=carla.espino"},{id:"fac-7",name:"Dr. David Garcia",maxLoad:12,maxSubjects:4,expertise:["Game Development","Programming","Computer Graphics & Vision"],availability:{days:["Tue","Thu"],note:"Anytime"},imageUrl:"https://i.pravatar.cc/150?u=david.garcia"}],ae=(s,a)=>!s||!a?!0:s.every(o=>a.includes(o));function je(){const[s,a]=j.useState(te),[o,m]=j.useState(ie),[t,d]=j.useState(!1),[i,l]=j.useState(null),x=s.filter(r=>r.assignedTo===null),c=j.useMemo(()=>s.reduce((r,g)=>r+g.units,0),[s]),h=j.useMemo(()=>s.filter(r=>r.assignedTo!==null).reduce((r,g)=>r+g.units,0),[s]),b=c>0?h/c*100:0,f=r=>{l(r),d(!0)},v=()=>{d(!1),l(null)},n=r=>{i&&(a(g=>g.map(p=>p.id===i.id?{...p,assignedTo:r}:p)),v())},w=r=>{a(g=>g.map(p=>p.id===r?{...p,assignedTo:null}:p))},S=j.useMemo(()=>o.map(r=>{const g=s.filter(M=>M.assignedTo===r.id),p=g.reduce((M,F)=>M+F.units,0);return{...r,assignedSubjects:g,currentLoad:p}}),[s,o]);return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[e.jsx(H,{}),e.jsx("main",{className:"flex-1 min-h-0 p-4 md:p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(u.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white shadow-lg",children:[e.jsx("div",{className:"absolute -right-12 -top-12 h-40 w-40 rounded-full bg-white/10 blur-2xl"}),e.jsx("div",{className:"absolute -left-12 -bottom-12 h-44 w-44 rounded-full bg-white/10 blur-2xl"}),e.jsxs("div",{className:"relative p-6 md:p-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-semibold shadow-sm",children:[e.jsx(L,{size:14}),"Faculty Loading"]}),e.jsx("h1",{className:"mt-2 text-3xl font-extrabold tracking-tight",children:"Assign Subjects, Balance Loads"}),e.jsx("p",{className:"text-white/85",children:"Manage unassigned subjects and keep workloads within limits."}),e.jsx("div",{className:"mt-4",children:e.jsx(Q,{assignmentProgress:b})})]})]}),e.jsx(se,{unassignedSubjects:x,facultyWithAssignments:S,handleOpenAssignModal:f,handleUnassignSubject:w})]})}),e.jsx(C,{children:t&&i&&e.jsx(re,{onClose:v,subject:i,facultyList:S,onAssign:n})})]})}function re({onClose:s,subject:a,facultyList:o,onAssign:m}){return e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 md:p-0 md:items-end md:pb-[env(safe-area-inset-bottom)]",onClick:s,"aria-modal":"true",role:"dialog",children:e.jsxs(u.div,{initial:{scale:.95,y:-16},animate:{scale:1,y:0},exit:{scale:.95,y:-16},className:"bg-white border border-gray-200 rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden md:max-w-none  md:w-[90%] md:rounded-t-2xl md:rounded-b-none md:h-[85vh]",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"p-5 border-b border-gray-200 md:p-4 md:sticky md:top-0 md:bg-white md:z-10",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assign Subject to Faculty"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Select a faculty for"," ",e.jsxs("span",{className:"font-semibold text-indigo-600",children:[a.code," - ",a.title]})," ","(",a.units," units)"]})]}),e.jsx("div",{className:"flex-1 p-3 md:p-4 overflow-y-auto space-y-3",children:o.map(t=>{const d=t.expertise.includes(a.expertise),i=ae(a.days,t.availability.days),l=d&&i,x=t.currentLoad+a.units>t.maxLoad,c=t.assignedSubjects.length>=t.maxSubjects,h=x||c||!i;let b="Assign";x?b="Overloaded":c?b="Limit Reached":i||(b="Conflict");const f=l?"bg-green-50 border-green-200":i?"bg-white":"bg-amber-50 border-amber-200";return e.jsxs("div",{className:`p-4 border rounded-xl flex items-start justify-between gap-4 transition-all ${f} md:flex-col md:items-stretch`,children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-12 h-12 rounded-full md:w-10 md:h-10"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Units: ",t.currentLoad,"/",t.maxLoad," • Subjects:"," ",t.assignedSubjects.length,"/",t.maxSubjects]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 self-end md:self-stretch md:flex-col md:items-stretch",children:[e.jsx("div",{className:"flex flex-col items-end text-xs md:items-start",children:l?e.jsxs("span",{className:"flex items-center gap-1 font-semibold text-green-700",children:[e.jsx(L,{size:14})," Good Match"]}):e.jsxs(e.Fragment,{children:[!d&&e.jsx("span",{className:"text-yellow-700",children:"Mismatched Expertise"}),!i&&e.jsx("span",{className:"text-amber-700 font-semibold",children:"Schedule Conflict"})]})}),e.jsx(T,{onClick:()=>m(t.id),disabled:h,className:"px-4 py-2 w-32 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors md:w-full",children:b})]})]},t.id)})}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end md:sticky md:bottom-0 md:bg-white md:z-10",children:e.jsx(T,{onClick:s,className:"md:w-full",children:"Cancel"})})]})})}export{je as default};
