import{c as pe,r as h,j as s,B as T}from"./index-CAWog89b.js";import{H as je}from"./Header-fzIBFH2g.js";import{S as j,f as w,g as S,h as v,i as y,T as Q,a as Z,b as E,c as R,d as ee,e as C}from"./table-D_A7axM0.js";import{D as te,b as se,c as re,d as ne,e as ae,f as ie}from"./dialog-CEXKMlSD.js";import{P as le}from"./pencil-DAEmiPZn.js";import{T as ce}from"./trash-2-D0eIl_Rs.js";import{D as we}from"./download-BwuIzc9g.js";import"./index-DNcVLEFs.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],oe=pe("calendar-plus",Se),ve=[{id:"cs101",name:"Introduction to Computer Science"},{id:"ma202",name:"Advanced Mathematics"},{id:"ph301",name:"Physics for Engineers"}],Ce=[{id:"a",name:"Section A"},{id:"b",name:"Section B"},{id:"c",name:"Section C"}],Ae=[{id:"f001",name:"Dr. Alice Johnson"},{id:"f002",name:"Prof. Bob Williams"},{id:"f003",name:"Dr. Charlie Brown"}],Me=[{id:"r101",name:"Room 101"},{id:"r205",name:"Room 205 (Lab)"},{id:"r303",name:"Room 303"}];let Pe=0;const Ne=()=>`dialog-schedule-class-${Pe++}`;function Ee({dialogOpen:e,setDialogOpen:t,selectedCell:n}){const[r,a]=h.useState({subject:"",section:"",faculty:"",room:"",status:"Active"}),[l]=h.useState(Ne);h.useEffect(()=>{e&&a({subject:"",section:"",faculty:"",room:"",status:"Active"})},[e]);const i=c=>{c.preventDefault(),console.log("New Schedule Data:",{...r,...n}),t(!1)};return s.jsx(te,{open:e,onOpenChange:t,children:s.jsxs(se,{className:`sm:max-w-[480px] p-0 bg-white rounded-xl shadow-2xl ${l}`,children:[s.jsx(re,{className:"p-6 bg-gray-50 rounded-t-xl border-b",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-indigo-100 text-indigo-600 rounded-lg p-3",children:s.jsx(oe,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-xl font-bold text-gray-900",children:"Add New Schedule"}),n&&s.jsxs(ae,{className:"text-sm text-gray-500 mt-1",children:["For ",n.day," at ",n.time]})]})]})}),s.jsxs("form",{onSubmit:i,className:"px-6 py-6 space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Subject"}),s.jsxs(j,{onValueChange:c=>a({...r,subject:c}),value:r.subject,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a subject"})}),s.jsx(v,{children:ve.map(c=>s.jsx(y,{value:c.id,children:c.name},c.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Section"}),s.jsxs(j,{onValueChange:c=>a({...r,section:c}),value:r.section,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a section"})}),s.jsx(v,{children:Ce.map(c=>s.jsx(y,{value:c.id,children:c.name},c.id))})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Faculty"}),s.jsxs(j,{onValueChange:c=>a({...r,faculty:c}),value:r.faculty,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a faculty member"})}),s.jsx(v,{children:Ae.map(c=>s.jsx(y,{value:c.id,children:c.name},c.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Room"}),s.jsxs(j,{onValueChange:c=>a({...r,room:c}),value:r.room,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a room"})}),s.jsx(v,{children:Me.map(c=>s.jsx(y,{value:c.id,children:c.name},c.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Status"}),s.jsxs(j,{onValueChange:c=>a({...r,status:c}),value:r.status,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a status"})}),s.jsxs(v,{children:[s.jsx(y,{value:"Active",children:"Active"}),s.jsx(y,{value:"Inactive",children:"Inactive"})]})]})]})]}),s.jsxs(ie,{className:"pt-6 flex flex-row sm:justify-end gap-3",children:[s.jsx(T,{type:"button",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t(!1),children:"Cancel"}),s.jsx(T,{type:"submit",className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-md",children:"Save Schedule"})]})]})]})})}const ke={CS101:"bg-green-100 text-green-800 border-l-4 border-green-500",MATH201:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500",ENG102:"bg-sky-100 text-sky-800 border-l-4 border-sky-500",BIO110:"bg-red-100 text-red-800 border-l-4 border-red-500",CHEM101:"bg-orange-100 text-orange-800 border-l-4 border-orange-500",PHYS201:"bg-indigo-100 text-indigo-800 border-l-4 border-indigo-500",HIST101:"bg-amber-100 text-amber-800 border-l-4 border-amber-500",CS102:"bg-pink-100 text-pink-800 border-l-4 border-pink-500",MATH202:"bg-teal-100 text-teal-800 border-l-4 border-teal-500",ENG201:"bg-purple-100 text-purple-800 border-l-4 border-purple-500",BIO210:"bg-lime-100 text-lime-800 border-l-4 border-lime-500",CHEM201:"bg-cyan-100 text-cyan-800 border-l-4 border-cyan-500",PHYS101:"bg-blue-100 text-blue-800 border-l-4 border-blue-500",HIST201:"bg-rose-100 text-rose-800 border-l-4 border-rose-500",CS201:"bg-fuchsia-100 text-fuchsia-800 border-l-4 border-fuchsia-500",ART101:"bg-violet-100 text-violet-800 border-l-4 border-violet-500"},I=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Te=["08:00 - 09:00 AM","09:00 - 10:00 AM","10:00 - 11:00 AM","11:00 - 12:00 PM","12:00 - 01:00 PM","01:00 - 02:00 PM","02:00 - 03:00 PM","03:00 - 04:00 PM","04:00 - 05:00 PM"],Re={Active:"bg-green-200 text-green-900",Inactive:"bg-red-200 text-red-900"},U=[{id:1,subject:"CS101",section:"A",faculty:"Dr. Alice Johnson",room:"101",day:"Monday",time:"08:00 - 09:00 AM",status:"Active"},{id:2,subject:"MATH201",section:"B",faculty:"Prof. Bob Smith",room:"202",day:"Tuesday",time:"10:00 - 11:00 AM",status:"Active"},{id:3,subject:"ENG102",section:"A",faculty:"Ms. Carol Lee",room:"103",day:"Wednesday",time:"09:00 - 10:00 AM",status:"Active"},{id:4,subject:"BIO110",section:"C",faculty:"Dr. David Kim",room:"104",day:"Thursday",time:"11:00 - 12:00 PM",status:"Active"},{id:5,subject:"CHEM101",section:"B",faculty:"Prof. Emma Stone",room:"105",day:"Friday",time:"01:00 - 02:00 PM",status:"Active"},{id:6,subject:"PHYS201",section:"A",faculty:"Dr. Frank Miller",room:"106",day:"Monday",time:"02:00 - 03:00 PM",status:"Active"},{id:7,subject:"HIST101",section:"C",faculty:"Ms. Grace Park",room:"107",day:"Tuesday",time:"03:00 - 04:00 PM",status:"Active"},{id:8,subject:"CS102",section:"A",faculty:"Dr. Henry Adams",room:"108",day:"Wednesday",time:"04:00 - 05:00 PM",status:"Active"},{id:9,subject:"MATH202",section:"B",faculty:"Prof. Irene Chen",room:"109",day:"Thursday",time:"08:00 - 09:00 AM",status:"Active"},{id:10,subject:"ENG201",section:"C",faculty:"Ms. Julia Brown",room:"110",day:"Friday",time:"09:00 - 10:00 AM",status:"Active"},{id:11,subject:"BIO210",section:"A",faculty:"Dr. Kevin White",room:"111",day:"Saturday",time:"10:00 - 11:00 AM",status:"Active"},{id:12,subject:"CHEM201",section:"B",faculty:"Prof. Laura Green",room:"112",day:"Monday",time:"11:00 - 12:00 PM",status:"Active"},{id:13,subject:"PHYS101",section:"C",faculty:"Dr. Mike Black",room:"113",day:"Tuesday",time:"01:00 - 02:00 PM",status:"Active"},{id:14,subject:"HIST201",section:"A",faculty:"Ms. Nora Scott",room:"114",day:"Wednesday",time:"02:00 - 03:00 PM",status:"Active"},{id:15,subject:"CS201",section:"B",faculty:"Dr. Oscar King",room:"115",day:"Thursday",time:"03:00 - 04:00 PM",status:"Active"},{id:16,subject:"ART101",section:"A",faculty:"Mr. Peter Pan",room:"Art Room",day:"Friday",time:"11:00 - 12:00 PM",status:"Active"}],De=h.forwardRef((e,t)=>{const[n,r]=h.useState(null),[a,l]=h.useState(!1),[i,c]=h.useState("A"),d=[...new Set(U.map(o=>o.section))].sort(),g=(o,m)=>{o!=="Sunday"&&(r({day:o,time:m}),l(!0))},b=o=>{alert(`Editing: ${o.subject} in Room ${o.room}`)},M=o=>{window.confirm(`Are you sure you want to delete the schedule for ${o.subject}?`)&&alert(`Deleting: ${o.subject}`)},k=o=>{l(o),o||r(null)};function H(o,m,u){return U.find(p=>p.day===o&&p.time===m&&p.section===u)}return s.jsxs("div",{className:"rounded-xl border bg-purple-100 shadow-lg overflow-hidden ",children:[s.jsx(Ee,{dialogOpen:a,setDialogOpen:k,selectedCell:n}),s.jsxs("div",{className:"p-4 border-b flex items-center gap-4",children:[s.jsx("label",{htmlFor:"section-select",className:"font-semibold text-gray-800",children:"Select Section:"}),s.jsx("select",{id:"section-select",value:i,onChange:o=>c(o.target.value),className:"p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",children:d.map(o=>s.jsxs("option",{value:o,children:["Section ",o]},o))})]}),s.jsx("div",{ref:t,className:"overflow-x-auto md:w-[365px]",children:s.jsxs(Q,{className:"min-w-full divide-y divide-gray-200",children:[s.jsx(Z,{children:s.jsxs(E,{children:[s.jsx(R,{className:"w-40 text-center text-sm font-bold text-gray-600 uppercase tracking-wider py-3 px-4 bg-purple-100",children:"Time"}),I.map(o=>s.jsx(R,{className:"text-center text-sm font-bold text-gray-600 uppercase tracking-wider py-3 px-4 bg-purple-100",children:o},o))]})}),s.jsx(ee,{className:"bg-white divide-y divide-gray-200",children:Te.map(o=>o==="12:00 - 01:00 PM"?s.jsx(E,{children:s.jsx(C,{colSpan:I.length+1,className:"text-center font-bold text-lg text-yellow-800 bg-yellow-50 border-y-2 border-yellow-200",style:{padding:"20px"},children:"Lunch Break"})},o):s.jsxs(E,{className:"hover:bg-gray-50/50 transition-colors",children:[s.jsx(C,{className:"font-semibold text-center text-gray-700 bg-gradient-to-r from-gray-50 to-gray-100",children:o}),I.map(m=>{if(m==="Sunday")return s.jsx(C,{className:"align-middle text-center p-2 h-28 border-l bg-gray-50",children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"NO CLASS"})})},m);const u=H(m,o,i);return s.jsx(C,{className:"align-top p-2 h-28 border-l transition-all duration-200",onClick:()=>!u&&g(m,o),children:u?s.jsxs("div",{className:`group relative flex flex-col h-full p-3 rounded-lg shadow-md transition-all ${ke[u.subject]||"bg-gray-100"}`,children:[s.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),b(u)},className:"p-1.5 rounded-full bg-white/60 hover:bg-white text-gray-700 hover:text-green-600 transition-all",title:"Edit Schedule",children:s.jsx(le,{size:14})}),s.jsx("button",{onClick:p=>{p.stopPropagation(),M(u)},className:"p-1.5 rounded-full bg-white/60 hover:bg-white text-gray-700 hover:text-red-600 transition-all",title:"Delete Schedule",children:s.jsx(ce,{size:14})})]}),s.jsx("div",{className:"font-bold text-sm",children:u.subject}),s.jsx("div",{className:"text-xs font-medium",children:u.faculty}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Room: ",u.room]}),s.jsx("div",{className:"mt-auto text-right",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Re[u.status]}`,children:u.status})})]}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-300 hover:text-green-500 transition-colors cursor-pointer",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})},m)})]},o))})]})})]})}),$e=[{id:"cs101",name:"Introduction to Computer Science"},{id:"ma202",name:"Advanced Mathematics"},{id:"ph301",name:"Physics for Engineers"}],Fe=[{id:"a",name:"Section A"},{id:"b",name:"Section B"},{id:"c",name:"Section C"}],He=[{id:"f001",name:"Dr. Alice Johnson"},{id:"f002",name:"Prof. Bob Williams"},{id:"f003",name:"Dr. Charlie Brown"}],Ie=[{id:"r101",name:"Room 101"},{id:"r205",name:"Room 205 (Lab)"},{id:"r303",name:"Room 303"}];function Le({dialogOpen:e,setDialogOpen:t,selectedCell:n}){const[r,a]=h.useState({subject:"",section:"",faculty:"",room:"",status:"Active"});h.useEffect(()=>{e&&a({subject:"",section:"",faculty:"",room:"",status:"Active"})},[e]);const l=i=>{i.preventDefault(),console.log("New Schedule Data:",{...r,...n}),t(!1)};return s.jsx(te,{open:e,onOpenChange:t,children:s.jsxs(se,{className:"sm:max-w-[480px] p-0 bg-white rounded-xl shadow-2xl",children:[s.jsx(re,{className:"p-6 bg-gray-50 rounded-t-xl border-b",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-indigo-100 text-indigo-600 rounded-lg p-3",children:s.jsx(oe,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-xl font-bold text-gray-900",children:"Add New Schedule"}),n&&s.jsxs(ae,{className:"text-sm text-gray-500 mt-1",children:["For ",n.day," at ",n.time]})]})]})}),s.jsxs("form",{onSubmit:l,className:"px-6 py-6 space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Subject"}),s.jsxs(j,{onValueChange:i=>a({...r,subject:i}),value:r.subject,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a subject"})}),s.jsx(v,{children:$e.map(i=>s.jsx(y,{value:i.id,children:i.name},i.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Section"}),s.jsxs(j,{onValueChange:i=>a({...r,section:i}),value:r.section,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a section"})}),s.jsx(v,{children:Fe.map(i=>s.jsx(y,{value:i.id,children:i.name},i.id))})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Faculty"}),s.jsxs(j,{onValueChange:i=>a({...r,faculty:i}),value:r.faculty,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a faculty member"})}),s.jsx(v,{children:He.map(i=>s.jsx(y,{value:i.id,children:i.name},i.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Room"}),s.jsxs(j,{onValueChange:i=>a({...r,room:i}),value:r.room,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a room"})}),s.jsx(v,{children:Ie.map(i=>s.jsx(y,{value:i.id,children:i.name},i.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Status"}),s.jsxs(j,{onValueChange:i=>a({...r,status:i}),value:r.status,children:[s.jsx(w,{className:"w-full",children:s.jsx(S,{placeholder:"Select a status"})}),s.jsxs(v,{children:[s.jsx(y,{value:"Active",children:"Active"}),s.jsx(y,{value:"Inactive",children:"Inactive"})]})]})]})]}),s.jsxs(ie,{className:"pt-6 flex flex-row sm:justify-end gap-3",children:[s.jsx(T,{type:"button",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t(!1),children:"Cancel"}),s.jsx(T,{type:"submit",className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-md",children:"Save Schedule"})]})]})]})})}const Be={CS101:"bg-green-100 text-green-800 border-l-4 border-green-500",MATH201:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500",ENG102:"bg-sky-100 text-sky-800 border-l-4 border-sky-500",BIO110:"bg-red-100 text-red-800 border-l-4 border-red-500",CHEM101:"bg-orange-100 text-orange-800 border-l-4 border-orange-500",PHYS201:"bg-indigo-100 text-indigo-800 border-l-4 border-indigo-500",HIST101:"bg-amber-100 text-amber-800 border-l-4 border-amber-500",CS102:"bg-pink-100 text-pink-800 border-l-4 border-pink-500",MATH202:"bg-teal-100 text-teal-800 border-l-4 border-teal-500",ENG201:"bg-purple-100 text-purple-800 border-l-4 border-purple-500",BIO210:"bg-lime-100 text-lime-800 border-l-4 border-lime-500",CHEM201:"bg-cyan-100 text-cyan-800 border-l-4 border-cyan-500",PHYS101:"bg-blue-100 text-blue-800 border-l-4 border-blue-500",HIST201:"bg-rose-100 text-rose-800 border-l-4 border-rose-500",CS201:"bg-fuchsia-100 text-fuchsia-800 border-l-4 border-fuchsia-500"},L=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ve=["08:00 - 09:00 AM","09:00 - 10:00 AM","10:00 - 11:00 AM","11:00 - 12:00 PM","12:00 - 01:00 PM","01:00 - 02:00 PM","02:00 - 03:00 PM","03:00 - 04:00 PM","04:00 - 05:00 PM"],Oe={Active:"bg-green-200 text-green-900",Inactive:"bg-red-200 text-red-900"},G=[{id:1,subject:"CS101",section:"A",faculty:"Dr. Alice Johnson",room:"101",day:"Monday",time:"08:00 - 09:00 AM",status:"Active"},{id:2,subject:"MATH201",section:"B",faculty:"Prof. Bob Smith",room:"202",day:"Tuesday",time:"10:00 - 11:00 AM",status:"Active"},{id:3,subject:"ENG102",section:"A",faculty:"Ms. Carol Lee",room:"103",day:"Wednesday",time:"09:00 - 10:00 AM",status:"Active"},{id:4,subject:"BIO110",section:"C",faculty:"Dr. David Kim",room:"104",day:"Thursday",time:"11:00 - 12:00 PM",status:"Active"},{id:5,subject:"CHEM101",section:"B",faculty:"Prof. Emma Stone",room:"105",day:"Friday",time:"01:00 - 02:00 PM",status:"Active"},{id:6,subject:"PHYS201",section:"A",faculty:"Dr. Frank Miller",room:"106",day:"Monday",time:"02:00 - 03:00 PM",status:"Active"},{id:7,subject:"HIST101",section:"C",faculty:"Ms. Grace Park",room:"107",day:"Tuesday",time:"03:00 - 04:00 PM",status:"Active"},{id:8,subject:"CS102",section:"A",faculty:"Dr. Henry Adams",room:"108",day:"Wednesday",time:"04:00 - 05:00 PM",status:"Active"},{id:9,subject:"MATH202",section:"B",faculty:"Prof. Irene Chen",room:"109",day:"Thursday",time:"08:00 - 09:00 AM",status:"Active"},{id:10,subject:"ENG201",section:"C",faculty:"Ms. Julia Brown",room:"110",day:"Friday",time:"09:00 - 10:00 AM",status:"Active"},{id:11,subject:"BIO210",section:"A",faculty:"Dr. Kevin White",room:"111",day:"Saturday",time:"10:00 - 11:00 AM",status:"Active"},{id:12,subject:"CHEM201",section:"B",faculty:"Prof. Laura Green",room:"112",day:"Monday",time:"11:00 - 12:00 PM",status:"Active"},{id:13,subject:"PHYS101",section:"C",faculty:"Dr. Mike Black",room:"113",day:"Tuesday",time:"01:00 - 02:00 PM",status:"Active"},{id:14,subject:"HIST201",section:"A",faculty:"Ms. Nora Scott",room:"114",day:"Wednesday",time:"02:00 - 03:00 PM",status:"Active"},{id:15,subject:"CS201",section:"B",faculty:"Dr. Oscar King",room:"115",day:"Thursday",time:"03:00 - 04:00 PM",status:"Active"}],We=h.forwardRef((e,t)=>{const[n,r]=h.useState(null),[a,l]=h.useState(!1),[i,c]=h.useState("All"),d=["All",...new Set(G.map(o=>o.faculty))].sort(),g=(o,m)=>{o!=="Sunday"&&(r({day:o,time:m}),l(!0))},b=o=>{alert(`Editing schedule for: ${o.faculty}`)},M=o=>{window.confirm(`Are you sure you want to delete the schedule for ${o.subject} with ${o.faculty}?`)&&alert(`Deleting schedule: ${o.subject}`)},k=o=>{l(o),o||r(null)};function H(o,m){return G.find(u=>u.day===o&&u.time===m&&(i==="All"||u.faculty===i))}return s.jsxs("div",{className:"rounded-xl border bg-white shadow-lg overflow-hidden",children:[s.jsx(Le,{dialogOpen:a,setDialogOpen:k,selectedCell:n}),s.jsxs("div",{className:"p-4 bg-purple-100 border-b flex items-center gap-4",children:[s.jsx("label",{htmlFor:"faculty-select",className:"font-semibold text-gray-800",children:"Filter by Faculty:"}),s.jsx("select",{id:"faculty-select",value:i,onChange:o=>c(o.target.value),className:"p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",children:d.map(o=>s.jsx("option",{value:o,children:o},o))})]}),s.jsx("div",{ref:t,className:"overflow-x-auto md:w-[365px]",children:s.jsxs(Q,{className:"min-w-full divide-y divide-gray-200",children:[s.jsx(Z,{children:s.jsxs(E,{children:[s.jsx(R,{className:"w-40 text-center text-sm font-bold text-gray-600 uppercase tracking-wider py-3 px-4 bg-purple-100",children:"Time"}),L.map(o=>s.jsx(R,{className:"text-center text-sm font-bold text-gray-600 uppercase tracking-wider py-3 px-4 bg-purple-100",children:o},o))]})}),s.jsx(ee,{className:"bg-white divide-y divide-gray-200",children:Ve.map(o=>o==="12:00 - 01:00 PM"?s.jsx(E,{children:s.jsx(C,{colSpan:L.length+1,className:"text-center font-bold text-lg text-yellow-800 bg-yellow-50 border-y-2 border-yellow-200",style:{padding:"20px"},children:"Lunch Break"})},o):s.jsxs(E,{className:"hover:bg-gray-50/50 transition-colors",children:[s.jsx(C,{className:"font-semibold text-center text-gray-700 bg-gradient-to-r from-gray-50 to-gray-100",children:o}),L.map(m=>{if(m==="Sunday")return s.jsx(C,{className:"align-middle text-center p-2 h-28 border-l bg-gray-50",children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"NO CLASS"})})},m);const u=H(m,o);return s.jsx(C,{className:"align-top p-2 h-28 border-l transition-all duration-200",onClick:()=>!u&&g(m,o),children:u?s.jsxs("div",{className:`group relative flex flex-col h-full p-3 rounded-lg shadow-md transition-all ${Be[u.subject]||"bg-gray-100"}`,children:[s.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),b(u)},className:"p-1.5 rounded-full bg-white/60 hover:bg-white text-gray-700 hover:text-green-600 transition-all",title:"Edit Schedule",children:s.jsx(le,{size:14})}),s.jsx("button",{onClick:p=>{p.stopPropagation(),M(u)},className:"p-1.5 rounded-full bg-white/60 hover:bg-white text-gray-700 hover:text-red-600 transition-all",title:"Delete Schedule",children:s.jsx(ce,{size:14})})]}),s.jsx("div",{className:"font-bold text-sm",children:u.subject}),s.jsx("div",{className:"text-xs font-medium",children:u.faculty}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Room: ",u.room]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Section: ",u.section]}),s.jsx("div",{className:"mt-auto text-right",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Oe[u.status]}`,children:u.status})})]}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-300 hover:text-green-500 transition-colors cursor-pointer",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})},m)})]},o))})]})})]})});function Ue(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const Ge=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function A(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let P=null;function de(e={}){return P||(e.includeStyleProperties?(P=e.includeStyleProperties,P):(P=A(window.getComputedStyle(document.documentElement)),P))}function D(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function _e(e){const t=D(e,"border-left-width"),n=D(e,"border-right-width");return e.clientWidth+t+n}function ze(e){const t=D(e,"border-top-width"),n=D(e,"border-bottom-width");return e.clientHeight+t+n}function ue(e,t={}){const n=t.width||_e(e),r=t.height||ze(e);return{width:n,height:r}}function qe(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const x=16384;function Ye(e){(e.width>x||e.height>x)&&(e.width>x&&e.height>x?e.width>e.height?(e.height*=x/e.width,e.width=x):(e.width*=x/e.height,e.height=x):e.width>x?(e.height*=x/e.width,e.width=x):(e.width*=x/e.height,e.height=x))}function $(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Ke(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Je(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),a.appendChild(l),l.appendChild(e),Ke(a)}const f=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||f(n,t)};function Xe(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Qe(e,t){return de(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function Ze(e,t,n,r){const a=`.${e}:${t}`,l=n.cssText?Xe(n):Qe(n,r);return document.createTextNode(`${a}{${l}}`)}function _(e,t,n,r){const a=window.getComputedStyle(e,n),l=a.getPropertyValue("content");if(l===""||l==="none")return;const i=Ge();try{t.className=`${t.className} ${i}`}catch{return}const c=document.createElement("style");c.appendChild(Ze(i,n,a,r)),t.appendChild(c)}function et(e,t,n){_(e,t,":before",n),_(e,t,":after",n)}const z="application/font-woff",q="image/jpeg",tt={woff:z,woff2:z,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:q,jpeg:q,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function st(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function O(e){const t=st(e).toLowerCase();return tt[t]||""}function rt(e){return e.split(/,/)[1]}function V(e){return e.search(/^(data:)/)!==-1}function nt(e,t){return`data:${t};base64,${e}`}async function me(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((l,i)=>{const c=new FileReader;c.onerror=i,c.onloadend=()=>{try{l(n({res:r,result:c.result}))}catch(d){i(d)}},c.readAsDataURL(a)})}const B={};function at(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function W(e,t,n){const r=at(e,t,n.includeQueryParams);if(B[r]!=null)return B[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const l=await me(e,n.fetchRequestInit,({res:i,result:c})=>(t||(t=i.headers.get("Content-Type")||""),rt(c)));a=nt(l,t)}catch(l){a=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;l&&(i=typeof l=="string"?l:l.message),i&&console.warn(i)}return B[r]=a,a}async function it(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):$(t)}async function lt(e,t){if(e.currentSrc){const l=document.createElement("canvas"),i=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,i?.drawImage(e,0,0,l.width,l.height);const c=l.toDataURL();return $(c)}const n=e.poster,r=O(n),a=await W(n,r,t);return $(a)}async function ct(e,t){var n;try{if(!((n=e?.contentDocument)===null||n===void 0)&&n.body)return await F(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function ot(e,t){return f(e,HTMLCanvasElement)?it(e):f(e,HTMLVideoElement)?lt(e,t):f(e,HTMLIFrameElement)?ct(e,t):e.cloneNode(he(e))}const dt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",he=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function ut(e,t,n){var r,a;if(he(t))return t;let l=[];return dt(e)&&e.assignedNodes?l=A(e.assignedNodes()):f(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?l=A(e.contentDocument.body.childNodes):l=A(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),l.length===0||f(e,HTMLVideoElement)||await l.reduce((i,c)=>i.then(()=>F(c,n)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function mt(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):de(n).forEach(l=>{let i=a.getPropertyValue(l);l==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),f(e,HTMLIFrameElement)&&l==="display"&&i==="inline"&&(i="block"),l==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),r.setProperty(l,i,a.getPropertyPriority(l))})}function ht(e,t){f(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),f(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function ft(e,t){if(f(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function gt(e,t,n){return f(t,Element)&&(mt(e,t,n),et(e,t,n),ht(e,t),ft(e,t)),t}async function xt(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let l=0;l<n.length;l++){const c=n[l].getAttribute("xlink:href");if(c){const d=e.querySelector(c),g=document.querySelector(c);!d&&g&&!r[c]&&(r[c]=await F(g,t,!0))}}const a=Object.values(r);if(a.length){const l="http://www.w3.org/1999/xhtml",i=document.createElementNS(l,"svg");i.setAttribute("xmlns",l),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const c=document.createElementNS(l,"defs");i.appendChild(c);for(let d=0;d<a.length;d++)c.appendChild(a[d]);e.appendChild(i)}return e}async function F(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>ot(r,t)).then(r=>ut(e,r,t)).then(r=>gt(e,r,t)).then(r=>xt(r,t))}const fe=/url\((['"]?)([^'"]+?)\1\)/g,bt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,yt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function pt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function jt(e){const t=[];return e.replace(fe,(n,r,a)=>(t.push(a),n)),t.filter(n=>!V(n))}async function wt(e,t,n,r,a){try{const l=n?Ue(t,n):t,i=O(t);let c;return a||(c=await W(l,i,r)),e.replace(pt(t),`$1${c}$3`)}catch{}return e}function St(e,{preferredFontFormat:t}){return t?e.replace(yt,n=>{for(;;){const[r,,a]=bt.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function ge(e){return e.search(fe)!==-1}async function xe(e,t,n){if(!ge(e))return e;const r=St(e,n);return jt(r).reduce((l,i)=>l.then(c=>wt(c,i,t,n)),Promise.resolve(r))}async function N(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const l=await xe(a,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function vt(e,t){await N("background",e,t)||await N("background-image",e,t),await N("mask",e,t)||await N("-webkit-mask",e,t)||await N("mask-image",e,t)||await N("-webkit-mask-image",e,t)}async function Ct(e,t){const n=f(e,HTMLImageElement);if(!(n&&!V(e.src))&&!(f(e,SVGImageElement)&&!V(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await W(r,O(r),t);await new Promise((l,i)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...d)=>{try{l(t.onImageErrorHandler(...d))}catch(g){i(g)}}:i;const c=e;c.decode&&(c.decode=l),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function At(e,t){const r=A(e.childNodes).map(a=>be(a,t));await Promise.all(r).then(()=>e)}async function be(e,t){f(e,Element)&&(await vt(e,t),await Ct(e,t),await At(e,t))}function Mt(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const Y={};async function K(e){let t=Y[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Y[e]=t,t}async function J(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let c=i.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),me(c,t.fetchRequestInit,({result:d})=>(n=n.replace(i,`url(${d})`),[i,d]))});return Promise.all(l).then(()=>n)}function X(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=a.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(a,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(i,"gi");for(;;){let d=l.exec(r);if(d===null){if(d=c.exec(r),d===null)break;l.lastIndex=c.lastIndex}else c.lastIndex=l.lastIndex;t.push(d[0])}return t}async function Pt(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{A(a.cssRules||[]).forEach((l,i)=>{if(l.type===CSSRule.IMPORT_RULE){let c=i+1;const d=l.href,g=K(d).then(b=>J(b,t)).then(b=>X(b).forEach(M=>{try{a.insertRule(M,M.startsWith("@import")?c+=1:a.cssRules.length)}catch(k){console.error("Error inserting rule from remote css",{rule:M,error:k})}})).catch(b=>{console.error("Error loading remote css",b.toString())});r.push(g)}})}catch(l){const i=e.find(c=>c.href==null)||document.styleSheets[0];a.href!=null&&r.push(K(a.href).then(c=>J(c,t)).then(c=>X(c).forEach(d=>{i.insertRule(d,i.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",l)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{A(a.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${a.href}`,l)}}),n))}function Nt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ge(t.style.getPropertyValue("src")))}async function Et(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=A(e.ownerDocument.styleSheets),r=await Pt(n,t);return Nt(r)}function ye(e){return e.trim().replace(/["']/g,"")}function kt(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(l=>{t.add(ye(l))}),Array.from(r.children).forEach(l=>{l instanceof HTMLElement&&n(l)})}return n(e),t}async function Tt(e,t){const n=await Et(e,t),r=kt(e);return(await Promise.all(n.filter(l=>r.has(ye(l.style.fontFamily))).map(l=>{const i=l.parentStyleSheet?l.parentStyleSheet.href:null;return xe(l.cssText,i,t)}))).join(`
`)}async function Rt(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Tt(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function Dt(e,t={}){const{width:n,height:r}=ue(e,t),a=await F(e,t,!0);return await Rt(a,t),await be(a,t),Mt(a,t),await Je(a,n,r)}async function $t(e,t={}){const{width:n,height:r}=ue(e,t),a=await Dt(e,t),l=await $(a),i=document.createElement("canvas"),c=i.getContext("2d"),d=t.pixelRatio||qe(),g=t.canvasWidth||n,b=t.canvasHeight||r;return i.width=g*d,i.height=b*d,t.skipAutoScale||Ye(i),i.style.width=`${g}`,i.style.height=`${b}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,i.width,i.height)),c.drawImage(l,0,0,i.width,i.height),i}async function Ft(e,t={}){return(await $t(e,t)).toDataURL()}function Ht(){const[e,t]=h.useState("faculty"),n=()=>{r.current!==null&&Ft(r.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(a=>{const l=document.createElement("a");l.download=`${e}-schedule.png`,l.href=a,l.click()}).catch(a=>{console.error("Oops, something went wrong!",a)})},r=h.useRef(null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row gap-4 justify-between items-center mb-5 md:mb-10",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 tracking-tight",children:"Manage Schedule"}),s.jsxs(T,{onClick:n,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow",children:[s.jsx(we,{className:"w-5 h-5"}),"Download"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage your schedule. You can download the schedule for offline access."}),s.jsxs("div",{className:"flex gap-6 mb-6",children:[s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",value:"faculty",checked:e==="faculty",onChange:a=>t(a.target.value),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"ml-2 text-gray-700 font-medium",children:"Faculty Schedule"})]}),s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",value:"class",checked:e==="class",onChange:a=>t(a.target.value),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"ml-2 text-gray-700 font-medium",children:"Class Schedule"})]})]}),s.jsx("div",{children:e==="class"?s.jsx(De,{ref:r}):s.jsx(We,{ref:r})})]})]})}function _t(){return s.jsxs("div",{className:"flex flex-col h-screen",children:[s.jsx("div",{children:s.jsx(je,{})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:s.jsx(Ht,{})})]})}export{_t as default};
