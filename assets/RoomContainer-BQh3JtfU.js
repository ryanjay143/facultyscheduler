import{r as l,j as e,B as p,e as D,R as q}from"./index-hYjaP9Dp.js";import{H as G}from"./Header-DQr-Gr69.js";import{T as J,a as K,b as R,c as j,d as Q,e as h}from"./table-CLTygtjh.js";import{I as w}from"./input-CWsi7UcC.js";import{S as A,a as S,c as L,d as m,b as B}from"./select-DtZHneaF.js";import{D as U,a as W,b as X,c as Y,e as Z,f as _}from"./dialog-CwVwVjPy.js";import{L as f}from"./label-Cn0wqWF-.js";import{P as $}from"./plus-DVbFfxba.js";import{S as ee}from"./search-CTGO1uLL.js";import{B as se}from"./building-CbgWnydS.js";import{F as ae}from"./funnel-5mLveexv.js";import{S as E}from"./square-pen-CMqerDLv.js";import{T as F}from"./trash-2-BL7ISKRe.js";import{C as te}from"./chevron-left-DptBz5S_.js";import{C as ie}from"./chevron-right-BYqGWRn3.js";import"./index-C_t9zXap.js";import"./index-Cv-42o4Q.js";import"./index-CFdJ_3cI.js";import"./Combination-DLdob3fC.js";import"./chevron-down-BFehub7U.js";import"./check-BXqkWGox.js";import"./chevron-up-MQc75mCd.js";const k=[{id:1,roomNumber:"101",building:"Engineering",type:"Lecture",capacity:40,status:"Available"},{id:2,roomNumber:"202",building:"Science",type:"Laboratory",capacity:30,status:"Occupied"},{id:3,roomNumber:"A1",building:"Main",type:"Auditorium",capacity:120,status:"Maintenance"},{id:4,roomNumber:"303",building:"Business",type:"Lecture",capacity:35,status:"Available"},{id:5,roomNumber:"B2",building:"Arts",type:"Other",capacity:25,status:"Occupied"},{id:6,roomNumber:"404",building:"Engineering",type:"Laboratory",capacity:28,status:"Available"},{id:7,roomNumber:"C1",building:"Science",type:"Lecture",capacity:32,status:"Maintenance"},{id:8,roomNumber:"D5",building:"Main",type:"Other",capacity:20,status:"Available"},{id:9,roomNumber:"E2",building:"Business",type:"Auditorium",capacity:100,status:"Occupied"},{id:10,roomNumber:"F3",building:"Arts",type:"Lecture",capacity:45,status:"Available"},{id:11,roomNumber:"G7",building:"Engineering",type:"Laboratory",capacity:27,status:"Maintenance"},{id:12,roomNumber:"H1",building:"Science",type:"Lecture",capacity:38,status:"Available"},{id:13,roomNumber:"I2",building:"Main",type:"Other",capacity:22,status:"Occupied"},{id:14,roomNumber:"J4",building:"Business",type:"Auditorium",capacity:110,status:"Available"},{id:15,roomNumber:"K6",building:"Arts",type:"Lecture",capacity:50,status:"Occupied"}],z={Available:"bg-green-100 text-green-800",Occupied:"bg-yellow-100 text-yellow-800",Maintenance:"bg-red-100 text-red-800"};function le(){const[u,y]=l.useState(k),[N,g]=l.useState(""),[a,x]=l.useState({building:"All",type:"All"}),[r,n]=l.useState(1),[c]=l.useState(10),[i,d]=l.useState(!1),[o,v]=l.useState(null),b=l.useMemo(()=>u.filter(s=>{const t=N.toLowerCase();return s.roomNumber.toLowerCase().includes(t)||s.building.toLowerCase().includes(t)||s.type.toLowerCase().includes(t)}).filter(s=>a.building==="All"||s.building===a.building).filter(s=>a.type==="All"||s.type===a.type),[u,N,a]),C=l.useMemo(()=>{const s=(r-1)*c;return b.slice(s,s+c)},[b,r,c]),M=Math.ceil(b.length/c),P=()=>{v(null),d(!0)},O=s=>{v(s),d(!0)},T=s=>{window.confirm("Are you sure you want to delete this room?")&&y(u.filter(t=>t.id!==s))},H=s=>{if(o)y(u.map(t=>t.id===o.id?{...o,...s}:t));else{const t={id:Date.now(),...s};y([t,...u])}d(!1)},I=["All",...Array.from(new Set(k.map(s=>s.building)))],V=["All","Lecture","Laboratory","Auditorium","Other"];return e.jsxs("div",{className:"p-3 bg-gray-50/50 min-h-0",children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"Classroom Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and monitor all classrooms and laboratories."})]}),e.jsxs(p,{onClick:P,className:"w-full mt-2 mb-4",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Add Room"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(w,{placeholder:"Search by room or building...",className:"pl-10 w-full",value:N,onChange:s=>{g(s.target.value),n(1)}})]}),e.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 w-full",children:[e.jsxs(A,{value:a.building,onValueChange:s=>{x(t=>({...t,building:s})),n(1)},children:[e.jsxs(S,{className:"w-full",children:[e.jsx(se,{className:"h-4 w-4 mr-2 text-gray-500"}),a.building==="All"?"All Buildings":a.building]}),e.jsx(L,{children:I.map(s=>e.jsx(m,{value:s,children:s},s))})]}),e.jsxs(A,{value:a.type,onValueChange:s=>{x(t=>({...t,type:s})),n(1)},children:[e.jsxs(S,{className:"w-full",children:[e.jsx(ae,{className:"h-4 w-4 mr-2 text-gray-500"}),a.type==="All"?"All Types":a.type]}),e.jsx(L,{children:V.map(s=>e.jsx(m,{value:s,children:s},s))})]})]})]}),e.jsx("div",{className:"rounded-md border block md:hidden",children:e.jsxs(J,{children:[e.jsx(K,{children:e.jsxs(R,{className:"bg-gray-50",children:[e.jsx(j,{children:"Room"}),e.jsx(j,{children:"Building"}),e.jsx(j,{children:"Type"}),e.jsx(j,{className:"text-center",children:"Capacity"}),e.jsx(j,{children:"Status"}),e.jsx(j,{className:"text-center w-32",children:"Actions"})]})}),e.jsx(Q,{children:C.length===0?e.jsx(R,{children:e.jsx(h,{colSpan:6,className:"text-center py-12 text-gray-500",children:"No rooms found."})}):C.map(s=>e.jsxs(R,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(h,{children:e.jsx("p",{className:"font-semibold text-gray-800",children:s.roomNumber})}),e.jsx(h,{children:s.building}),e.jsx(h,{children:s.type}),e.jsx(h,{className:"text-center",children:s.capacity}),e.jsx(h,{children:e.jsx("span",{className:D("px-3 py-1 rounded-full text-xs font-semibold",z[s.status]),children:s.status})}),e.jsxs(h,{className:"text-center",children:[e.jsx("button",{onClick:()=>O(s),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>T(s.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(F,{size:18})})]})]},s.id))})]})}),e.jsx("div",{className:"hidden md:block space-y-3",children:C.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500 border rounded-xl",children:"No rooms found."}):C.map(s=>e.jsx("div",{className:"border rounded-xl p-3 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-800",children:s.roomNumber}),e.jsxs("span",{className:"text-xs text-gray-500",children:["â€¢ ",s.type]})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Building:"})," ",s.building]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Capacity:"})," ",s.capacity]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:D("px-2.5 py-1 rounded-full text-[11px] font-semibold",z[s.status]),children:s.status})})]}),e.jsx("div",{className:"shrink-0",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>O(s),className:"h-8 px-3",children:[e.jsx(E,{size:14,className:"mr-1"})," Edit"]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>T(s.id),className:"h-8 px-3",children:[e.jsx(F,{size:14,className:"mr-1"})," Delete"]})]})})]})},s.id))}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",b.length>0?(r-1)*c+1:0," to"," ",Math.min(r*c,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.max(1,s-1)),disabled:r===1,children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[r," of ",M||1]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.min(M,s+1)),disabled:r>=M,children:["Next",e.jsx(ie,{className:"h-4 w-4 ml-1"})]})]})]})]}),e.jsx(re,{isOpen:i,onClose:()=>d(!1),onSave:H,initialData:o})]})}function re({isOpen:u,onClose:y,onSave:N,initialData:g}){const[a,x]=l.useState({roomNumber:"",building:"",type:"Lecture",capacity:40,status:"Available"});q.useEffect(()=>{x(g||{roomNumber:"",building:"",type:"Lecture",capacity:40,status:"Available"})},[g,u]);const r=i=>{i.preventDefault(),N(a)},n=i=>{const{name:d,value:o}=i.target;x(v=>({...v,[d]:d==="capacity"?Number(o):o}))},c=(i,d)=>{x(o=>({...o,[i]:d}))};return e.jsx(U,{open:u,onOpenChange:y,children:e.jsxs(W,{className:"md:w-[90%]",children:[e.jsx(X,{children:e.jsx(Y,{className:"text-2xl font-bold",children:g?"Edit Room":"Add New Room"})}),e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"grid gap-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(f,{htmlFor:"roomNumber",className:"text-right",children:"Room #"}),e.jsx(w,{id:"roomNumber",name:"roomNumber",value:a.roomNumber,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(f,{htmlFor:"building",className:"text-right",children:"Building"}),e.jsx(w,{id:"building",name:"building",value:a.building,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(f,{htmlFor:"type",className:"text-right",children:"Type"}),e.jsxs(A,{value:a.type,onValueChange:i=>c("type",i),children:[e.jsx(S,{className:"col-span-3",children:e.jsx(B,{})}),e.jsxs(L,{children:[e.jsx(m,{value:"Lecture",children:"Lecture"}),e.jsx(m,{value:"Laboratory",children:"Laboratory"}),e.jsx(m,{value:"Auditorium",children:"Auditorium"}),e.jsx(m,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(f,{htmlFor:"capacity",className:"text-right",children:"Capacity"}),e.jsx(w,{id:"capacity",name:"capacity",type:"number",min:"1",value:a.capacity,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(f,{htmlFor:"status",className:"text-right",children:"Status"}),e.jsxs(A,{value:a.status,onValueChange:i=>c("status",i),children:[e.jsx(S,{className:"col-span-3",children:e.jsx(B,{})}),e.jsxs(L,{children:[e.jsx(m,{value:"Available",children:"Available"}),e.jsx(m,{value:"Occupied",children:"Occupied"}),e.jsx(m,{value:"Maintenance",children:"Maintenance"})]})]})]})]}),e.jsxs(Z,{children:[e.jsx(_,{asChild:!0,children:e.jsx(p,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(p,{type:"submit",children:"Save Room"})]})]})]})})}function Re(){return e.jsxs("div",{className:"flex flex-col min-h-0 bg-gray-50",children:[e.jsx(G,{}),e.jsx("main",{className:"flex-1 min-h-0 p-4 md:p-0",children:e.jsx(le,{})})]})}export{Re as default};
