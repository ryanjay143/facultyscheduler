import{c as z,j as e,d as H,e as B,r as n,M as q,B as b,R as _}from"./index-B39p9ymc.js";import{S as C,f as D,h as T,i as y,T as $,a as W,b as A,c as j,d as G,e as p,g as J}from"./table-8F_mVUdY.js";import{I as O}from"./input-CarveMzT.js";import{T as K}from"./textarea-BeU461yi.js";import{D as Q,a as X,b as Y,c as Z,d as ee,L as S,e as te}from"./label-reH4FIwT.js";import{H as se}from"./Header-6SuFrvsH.js";import{S as ae}from"./search-BxC8wQ-v.js";import{F as k,C as le}from"./funnel-D-JNYfSd.js";import{S as ne}from"./square-pen-B7tlDAD7.js";import{T as re}from"./trash-2-CUAIk29O.js";import{C as ie}from"./chevron-right-CS7m74dL.js";import"./Combination-C9sbcfGO.js";import"./chevron-down-CvJ-M6Lp.js";import"./check-BWLVVXwH.js";import"./chevron-up-34iP0UkX.js";import"./index-BguVF8ia.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],oe=z("circle-plus",ce),de=B("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function M({className:a,variant:d,...u}){return e.jsx("div",{className:H(de({variant:d}),a),...u})}const ue=[{id:1,title:"Midterm Examination Schedule Release",content:"The midterm examination schedule for all departments has been released. Please check the student portal for your respective schedules.",audience:"All Users",status:"Published",date:"August 5, 2025"},{id:2,title:"Faculty Development Seminar on AI in Education",content:"All faculty members are invited to a seminar on integrating AI into the curriculum. It will be held on August 15, 2025, at the main auditorium.",audience:"Faculty Only",status:"Published",date:"August 4, 2025"},{id:3,title:"System Maintenance this Weekend (Aug 9-10)",content:"The university portal will be temporarily unavailable this weekend for scheduled maintenance.",audience:"All Users",status:"Draft",date:"August 2, 2025"},{id:4,title:"Enrollment for Next Semester is Now Open",content:"Enrollment for the upcoming semester is officially open. Please complete the process before the deadline on August 20, 2025.",audience:"Students Only",status:"Published",date:"August 1, 2025"}],me={"All Users":"bg-blue-100 text-blue-800","Faculty Only":"bg-amber-100 text-amber-800","Students Only":"bg-emerald-100 text-emerald-800"},he={Published:"bg-green-100 text-green-800",Draft:"bg-gray-200 text-gray-800"};function ke(){const[a,d]=n.useState(ue),[u,x]=n.useState(""),[s,m]=n.useState({audience:"All",status:"All"}),[l,r]=n.useState(1),[i]=n.useState(10),[h,c]=n.useState(!1),[g,v]=n.useState(null),f=n.useMemo(()=>a.filter(t=>t.title.toLowerCase().includes(u.toLowerCase())).filter(t=>s.audience==="All"||t.audience===s.audience).filter(t=>s.status==="All"||t.status===s.status),[a,u,s]),P=n.useMemo(()=>{const t=(l-1)*i;return f.slice(t,t+i)},[f,l,i]),w=Math.ceil(f.length/i),E=()=>{v(null),c(!0)},I=t=>{v(t),c(!0)},U=t=>{window.confirm("Are you sure you want to delete this announcement?")&&d(a.filter(o=>o.id!==t))},L=(t,o)=>{const F=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});if(g)d(a.map(N=>N.id===g.id?{...g,...t,status:o,date:F}:N));else{const N={id:Date.now(),...t,status:o,date:F};d([N,...a])}c(!1)},R=["All","All Users","Faculty Only","Students Only"],V=["All","Published","Draft"];return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50/50",children:[e.jsx(se,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 ",children:[e.jsxs("header",{className:"mb-6 flex items-center gap-4",children:[e.jsx(q,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Announcements"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create, publish, and manage communications."})]})]}),e.jsxs(b,{onClick:E,className:"w-full mt-2 mb-4",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Create"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg md:w-full border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full md:flex-1",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(O,{placeholder:"Search by title...",className:"pl-10 w-full",value:u,onChange:t=>{x(t.target.value),r(1)}})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2 w-full md:w-auto",children:[e.jsxs(C,{value:s.audience,onValueChange:t=>{m(o=>({...o,audience:t})),r(1)},children:[e.jsxs(D,{className:"w-full md:w-48",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.audience==="All"?"All Audiences":s.audience]}),e.jsx(T,{children:R.map(t=>e.jsx(y,{value:t,children:t},t))})]}),e.jsxs(C,{value:s.status,onValueChange:t=>{m(o=>({...o,status:t})),r(1)},children:[e.jsxs(D,{className:"w-full md:w-40",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.status==="All"?"All Statuses":s.status]}),e.jsx(T,{children:V.map(t=>e.jsx(y,{value:t,children:t},t))})]})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs($,{children:[e.jsx(W,{children:e.jsxs(A,{className:"bg-gray-50",children:[e.jsx(j,{className:"w-[50%]",children:"Title"}),e.jsx(j,{children:"Audience"}),e.jsx(j,{children:"Status"}),e.jsx(j,{className:"hidden md:table-cell",children:"Date"}),e.jsx(j,{className:"text-center w-32",children:"Actions"})]})}),e.jsx(G,{children:P.length===0?e.jsx(A,{children:e.jsx(p,{colSpan:5,className:"text-center py-12 text-gray-500",children:"No announcements found."})}):P.map(t=>e.jsxs(A,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(p,{className:"font-semibold text-gray-800",children:t.title}),e.jsx(p,{children:e.jsx(M,{variant:"outline",className:`${me[t.audience]} border-none`,children:t.audience})}),e.jsx(p,{children:e.jsx(M,{variant:"outline",className:`${he[t.status]} border-none`,children:t.status})}),e.jsx(p,{className:"text-gray-600 hidden md:table-cell",children:t.date}),e.jsxs(p,{className:"text-center",children:[e.jsx("button",{onClick:()=>I(t),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(ne,{size:18})}),e.jsx("button",{onClick:()=>U(t.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(re,{size:18})})]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",f.length>0?(l-1)*i+1:0," to ",Math.min(l*i,f.length)," of ",f.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>r(t=>Math.max(1,t-1)),disabled:l===1,children:[e.jsx(le,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[l," of ",w||1]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>r(t=>Math.min(w,t+1)),disabled:l>=w,children:[e.jsx(ie,{className:"h-4 w-4 ml-1"}),"Next"]})]})]})]})]}),e.jsx(xe,{isOpen:h,onClose:()=>c(!1),onSave:L,initialData:g})]})}function xe({isOpen:a,onClose:d,onSave:u,initialData:x}){const[s,m]=n.useState({title:"",content:"",audience:"All Users",status:"Draft"});_.useEffect(()=>{m(x||{title:"",content:"",audience:"All Users",status:"Draft"})},[x,a]);const l=h=>{u(s,h)},r=h=>{const{name:c,value:g}=h.target;m(v=>({...v,[c]:g}))},i=h=>{m(c=>({...c,audience:h}))};return e.jsx(Q,{open:a,onOpenChange:d,children:e.jsxs(X,{className:"sm:max-w-2xl",children:[e.jsxs(Y,{children:[e.jsx(Z,{className:"text-2xl font-bold",children:x?"Edit Announcement":"Create New Announcement"}),e.jsx(ee,{children:"Fill in the details below. Click publish or save as draft when you're ready."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"title",className:"text-right",children:"Title"}),e.jsx(O,{id:"title",name:"title",value:s.title,onChange:r,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsx(S,{htmlFor:"content",className:"text-right pt-2",children:"Content"}),e.jsx(K,{id:"content",name:"content",value:s.content,onChange:r,className:"col-span-3 min-h-[150px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"audience",className:"text-right",children:"Audience"}),e.jsxs(C,{value:s.audience,onValueChange:i,children:[e.jsx(D,{className:"col-span-3",children:e.jsx(J,{})}),e.jsxs(T,{children:[e.jsx(y,{value:"All Users",children:"All Users"}),e.jsx(y,{value:"Faculty Only",children:"Faculty Only"}),e.jsx(y,{value:"Students Only",children:"Students Only"})]})]})]})]}),e.jsxs(te,{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>l("Draft"),children:"Save as Draft"}),e.jsx(b,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>l("Published"),children:"Publish Now"})]})]})})}export{ke as default};
