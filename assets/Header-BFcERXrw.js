import{r as a,u as A,j as e,L as o,m as u,f as S,t as g}from"./index-BLkMyUsx.js";import{C as b,B as d,A as j,U as N,S as z}from"./index-zoTtYq28.js";const R=[{id:1,type:"New User",message:'A new user "John Doe" has registered.',time:"15m ago",read:!1},{id:2,type:"Report",message:"Weekly sales report is ready for download.",time:"1h ago",read:!1},{id:3,type:"Alert",message:"Server CPU usage is at 92%.",time:"3h ago",read:!0},{id:4,type:"New User",message:'A new user "Jane Smith" has registered.',time:"1d ago",read:!0}],L=({type:r})=>{const t="h-5 w-5 text-white";return r==="New User"?e.jsx(N,{className:t}):r==="Report"?e.jsx(b,{className:t}):r==="Alert"?e.jsx(d,{className:t}):e.jsx(d,{className:t})},O={"New User":"bg-sky-500",Report:"bg-indigo-500",Alert:"bg-rose-500"},I=()=>{const[r,t]=a.useState(!1),[v,i]=a.useState(!1),[n,w]=a.useState(R),c=a.useRef(null),m=a.useRef(null),y=A(),h=localStorage.getItem("user"),l=h?JSON.parse(h):{name:"Admin User",email:"admin@example.com"};a.useEffect(()=>{const s=p=>{c.current&&!c.current.contains(p.target)&&t(!1),m.current&&!m.current.contains(p.target)&&i(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const x=n.filter(s=>!s.read).length,k=()=>{w(n.map(s=>({...s,read:!0}))),g.info("All notifications marked as read.")},C=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),g.success("Logged out successfully!"),y("/facultyscheduler/user-login"),t(!1)},f={hidden:{opacity:0,y:-15,scale:.98,transition:{duration:.15}},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-15,scale:.98,transition:{duration:.15,ease:"easeIn"}}};return e.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-200 md:bg-primary",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(o,{to:"/facultyscheduler/admin/user-dashboard",className:"flex items-center gap-3",children:[e.jsx(u.div,{whileHover:{scale:1.05,rotate:-5},className:"flex items-center justify-center w-9 h-9 bg-primary rounded-lg shadow-md",children:e.jsx(b,{className:"text-white",size:20})}),e.jsx("span",{className:"hidden sm:inline text-lg font-semibold text-slate-100 tracking-wider",children:"Admin Panel"})]})}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>{i(s=>!s),t(!1)},className:"relative p-2 rounded-full text-slate-400 hover:text-slate-100 hover:bg-slate-700/50 transition-colors duration-200",children:[e.jsx(d,{size:22}),x>0&&e.jsx("div",{className:"absolute top-1.5 right-1.5 flex items-center justify-center w-4 h-4 text-[10px] font-bold text-white bg-rose-500 rounded-full border-2 border-slate-900",children:x})]}),e.jsx(j,{children:v&&e.jsxs(u.div,{variants:f,initial:"hidden",animate:"visible",exit:"exit",className:"absolute right-0 mt-3 w-80 sm:w-96 bg-slate-800 rounded-xl shadow-2xl border border-slate-700 z-50 overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[e.jsx("h4",{className:"font-bold text-slate-100",children:"Notifications"}),x>0&&e.jsx("button",{onClick:k,className:"text-xs font-semibold text-indigo-400 hover:underline",children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto divide-y divide-slate-700/50",children:n.length>0?n.map(s=>e.jsxs("div",{className:`flex items-start gap-4 p-4 ${s.read?"":"bg-indigo-500/10"} hover:bg-slate-700/50 transition-colors duration-200`,children:[e.jsx("div",{className:`mt-1 p-2 rounded-full flex-shrink-0 ${O[s.type]||"bg-slate-600"}`,children:e.jsx(L,{type:s.type})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-200",children:s.message}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:s.time})]}),!s.read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 mt-2 ml-auto flex-shrink-0"})]},s.id)):e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx(d,{size:40,className:"mx-auto text-slate-500"}),e.jsx("p",{className:"mt-3 font-semibold text-slate-300",children:"No new notifications"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"You're all caught up!"})]})}),e.jsx("div",{className:"text-center p-2 bg-slate-900/50 border-t border-slate-700",children:e.jsx(o,{to:"/facultyscheduler/admin/notifications",onClick:()=>i(!1),className:"text-sm font-bold text-indigo-400 hover:underline",children:"View all"})})]})})]}),e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>{t(s=>!s),i(!1)},className:"flex items-center gap-2 rounded-full p-1 pl-2 hover:bg-slate-700/50 transition-colors duration-200",children:[e.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[e.jsx("span",{className:"font-semibold text-sm text-slate-200",children:l.name}),e.jsx("span",{className:"text-xs text-slate-400",children:"Administrator"})]}),e.jsx("img",{src:`https://i.pravatar.cc/150?u=${l.email}`,alt:"Profile",className:"w-9 h-9 rounded-full border-2 border-slate-600"})]}),e.jsx(j,{children:r&&e.jsxs(u.div,{variants:f,initial:"hidden",animate:"visible",exit:"exit",className:"absolute right-0 mt-3 w-64 bg-slate-800 rounded-xl shadow-2xl border border-slate-700 z-50 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-slate-700",children:[e.jsx("img",{src:`https://i.pravatar.cc/150?u=${l.email}`,alt:"Profile",className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-100",children:l.name}),e.jsx("p",{className:"text-sm text-slate-400 truncate",children:l.email})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs(o,{to:"/facultyscheduler/admin/profile",onClick:()=>t(!1),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors",children:[e.jsx(N,{size:18}),e.jsx("span",{children:"Profile"})]}),e.jsxs(o,{to:"/facultyscheduler/admin/settings",onClick:()=>t(!1),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors",children:[e.jsx(z,{size:18}),e.jsx("span",{children:"Settings"})]}),e.jsx("hr",{className:"border-t border-slate-700 my-1"}),e.jsxs("button",{onClick:C,className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-rose-400 hover:bg-rose-500/20 hover:text-rose-300 transition-colors",children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Logout"})]})]})]})})]})]})]})})};export{I as H};
