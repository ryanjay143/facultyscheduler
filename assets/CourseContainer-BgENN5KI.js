import{c as ye,j as e,m as he,B as y,b as we,f as ts,r,t as w,a as V,T as rs,k as pe,l as be,n as fe,o as Le,p as as,h as ns,P as Ce,q as ls,i as ge,u as os,A as cs}from"./index-BwoF3DAB.js";import{I as k}from"./input-BSWQgZe9.js";import{S as Z,a as ee,b as se,c as te,d as re,u as is}from"./select-tzyh6y91.js";import{S as ds}from"./sweetalert2.esm.all-ePrzfkxH.js";import{S as oe}from"./square-pen-Dc7ELPwh.js";import{T as ae,P as xe}from"./trash-2-DgRrPUPp.js";import{B as us}from"./book-copy-DVysFZCs.js";import{S as U,C as ve}from"./skeleton-CmpaBvim.js";import{D as K,a as J,b as W,c as X,d as Te,e as G,f as Q}from"./dialog-3hv9oECJ.js";import{T as ke,a as _e,b as D,c as T,d as Ae,e as p,f as Ee}from"./table-BuHfg-K1.js";import{B as ms}from"./badge-Wn-PRMkk.js";import{L as ue}from"./layers-C3z1nbbf.js";import{L as P}from"./label-BpbV8hLz.js";import{S as hs}from"./search-D4TpmK_p.js";import"./Combination-Ch1_HciF.js";import"./check-CFc-h2dS.js";import"./chevron-up-f9CurR6C.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],js=ye("archive",xs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],bs=ye("sliders-horizontal",ps),Ne=["from-purple-600 to-indigo-600","from-blue-500 to-teal-400","from-pink-500 to-rose-500","from-orange-500 to-amber-500","from-green-500 to-lime-500","from-cyan-500 to-sky-500"],fs={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.05}})};function gs({program:t,index:b,onEdit:i,onDelete:l,onManage:s}){const N=typeof t.total_subjects=="number"?t.total_subjects:Object.values(t.semesters||{}).flatMap(u=>u.subjects||[]).length,x=typeof t.total_units=="number"?t.total_units:Object.values(t.semesters||{}).flatMap(u=>u.subjects||[]).reduce((u,d)=>u+(d?.unitsTotal||0),0);return e.jsxs(he.div,{variants:fs,custom:b,initial:"hidden",animate:"visible",exit:"hidden",className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden group flex flex-col transition-all duration-300 hover:shadow-md hover:-translate-y-1",children:[e.jsxs("div",{className:`p-5 bg-gradient-to-br text-white relative ${Ne[b%Ne.length]}`,children:[e.jsx("h2",{className:"text-xl font-bold pr-16",children:t.abbreviation}),e.jsx("p",{className:"opacity-80 truncate text-sm pr-16",children:t.name}),e.jsxs("div",{className:"absolute top-2 right-2 hidden md:flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(y,{size:"icon",variant:"ghost",title:"Edit Program",onClick:u=>{u.stopPropagation(),i(t)},className:"h-8 w-8 bg-black/20 hover:bg-black/40",children:e.jsx(oe,{size:16})}),e.jsx(y,{size:"icon",variant:"ghost",title:"Archive Program",onClick:u=>{u.stopPropagation(),l(t.id)},className:"h-8 w-8 bg-black/20 hover:bg-destructive/80",children:e.jsx(ae,{size:16})})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex md:hidden gap-1",children:[e.jsx(y,{size:"icon",variant:"ghost",title:"Edit Program",onClick:u=>{u.stopPropagation(),i(t)},className:"h-8 w-8 bg-black/20 hover:bg-black/40",children:e.jsx(oe,{size:16})}),e.jsx(y,{size:"icon",variant:"ghost",title:"Archive Program",onClick:u=>{u.stopPropagation(),l(t.id)},className:"h-8 w-8 bg-black/20 hover:bg-destructive/80",children:e.jsx(ae,{size:16})})]})]}),e.jsxs("div",{className:"p-5 flex-grow flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[e.jsx(we,{size:15}),e.jsxs("span",{children:["A.Y. ",t.effectiveYear]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center text-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx(us,{size:15,className:"text-muted-foreground"}),e.jsx("span",{children:"Total Subjects"})]}),e.jsx("span",{className:"px-2.5 py-0.5 bg-muted text-muted-foreground rounded-full font-semibold",children:N})]}),e.jsxs("div",{className:"flex justify-between items-center text-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx(ts,{size:15,className:"text-muted-foreground"}),e.jsx("span",{children:"Total Units"})]}),e.jsx("span",{className:"px-2.5 py-0.5 bg-muted text-muted-foreground rounded-full font-semibold",children:x})]})]})]}),e.jsx(y,{onClick:s,className:"w-full mt-5",variant:"secondary",children:"Manage Curriculum"})]})]})}function vs(){return e.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm p-5 space-y-4",children:[e.jsx(U,{className:"h-8 w-1/4"}),e.jsx(U,{className:"h-5 w-3/4"}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(U,{className:"h-5 w-1/2"}),e.jsx(U,{className:"h-6 w-10 rounded-full"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(U,{className:"h-5 w-1/2"}),e.jsx(U,{className:"h-6 w-10 rounded-full"})]})]}),e.jsx(U,{className:"h-10 w-full mt-5"})]})}function Ns({isOpen:t,onClose:b,program:i,onAddSemester:l,onEditSemester:s,onDeleteSemester:N,onAddSubject:x,onEditSubject:u,onDeleteSubject:d,onSetSemesterStatus:v,refreshKey:_}){const[c,f]=r.useState(i.semesters||{}),[A,I]=r.useState(!1);return r.useEffect(()=>{f(i.semesters||{})},[i.semesters]),r.useEffect(()=>{if(!t)return;(async()=>{const m=localStorage.getItem("accessToken");if(!m){w.error("Authentication required.");return}I(!0);try{const h=await V.get("/semester-with-subjects",{params:{program_id:i.id},headers:{Authorization:`Bearer ${m}`}}),E=Array.isArray(h.data.semesters)?h.data.semesters:[],M={};E.forEach(S=>{const F=`${S.year_level}, ${S.semester_level}`;M[F]={subjects:(S.subjects||[]).map(a=>({code:a.subject_code,name:a.des_title,unitsTotal:a.total_units,unitsLec:a.lec_units,unitsLab:a.lab_units,hoursTotal:a.total_hrs,hoursLec:a.total_lec_hrs,hoursLab:a.total_lab_hrs,prerequisite:a.pre_requisite||"None"})),isActive:S.isActive??!0,startDate:S.startDate,endDate:S.endDate}}),f(M)}catch(h){w.error("Failed to load fresh semester data."),console.error("Failed fetching semesters:",h)}finally{I(!1)}})()},[t,i.id,_]),r.useEffect(()=>{i?.semesters&&f(L=>({...L,...i.semesters}))},[i.semesters]),e.jsx(K,{open:t,onOpenChange:b,children:e.jsxs(J,{className:"max-w-7xl h-[95vh] flex flex-col p-0",children:[e.jsxs(W,{className:"p-6 pb-4 bg-muted/50 border-b rounded-t-lg",children:[e.jsxs(X,{className:"text-2xl md:text-3xl font-bold text-foreground flex items-center gap-3",children:[i.name,e.jsx("span",{className:"text-sm font-semibold text-primary bg-primary/10 px-3 py-1 rounded-full",children:i.abbreviation})]}),e.jsxs(Te,{children:["Academic Year of Effectivity: ",i.effectiveYear]})]}),e.jsx("div",{className:"flex-grow overflow-y-auto px-6 py-4 space-y-8",children:A?e.jsx("div",{className:"space-y-6",children:[1,2].map(L=>e.jsxs("div",{className:"bg-card border rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-muted/60 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-48 bg-muted/30 rounded"})]},L))}):Object.keys(c).length===0?e.jsxs("div",{className:"text-center py-20 text-muted-foreground flex flex-col items-center justify-center h-full",children:[e.jsx(ue,{size:56,className:"mx-auto mb-4"}),e.jsx("h4",{className:"font-semibold text-xl text-foreground",children:"No Semesters Found"}),e.jsx("p",{className:"max-w-md mx-auto mt-2 text-sm",children:"This curriculum is empty. Start by adding a semester."}),e.jsxs(y,{onClick:l,className:"mt-6",children:[e.jsx(ue,{size:16,className:"mr-2"})," Add Year/Semester"]})]}):Object.entries(c).map(([L,m])=>e.jsxs("div",{className:"group/semester bg-card border rounded-xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground",children:L}),e.jsx(ms,{variant:m.isActive?"default":"destructive",children:m.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/semester:opacity-100 transition-opacity",children:[e.jsx(y,{variant:"ghost",size:"icon",title:"Set Status & Dates",className:"h-8 w-8 text-muted-foreground",onClick:()=>v(i,L),children:e.jsx(bs,{size:16})}),e.jsx(y,{variant:"ghost",size:"icon",title:"Rename Semester",className:"h-8 w-8 text-muted-foreground",onClick:()=>s(L),children:e.jsx(oe,{size:16})}),e.jsx(y,{variant:"ghost",size:"icon",title:"Delete Semester",className:"h-8 w-8 text-destructive",onClick:()=>N(L),children:e.jsx(ae,{size:16})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ke,{className:"min-w-[1200px]",children:[e.jsxs(_e,{className:"bg-muted/50 sticky top-0 z-10",children:[e.jsxs(D,{children:[e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r",children:"Course Code"}),e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r w-[350px]",children:"Descriptive Title"}),e.jsx(T,{colSpan:3,className:"text-center border-r",children:"Units"}),e.jsx(T,{colSpan:3,className:"text-center border-r",children:"Hours per week"}),e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r",children:"Pre-requisite"}),e.jsx(T,{rowSpan:2,className:"align-middle w-[50px]"})]}),e.jsxs(D,{children:[e.jsx(T,{className:"text-center border-r",children:"Total"}),e.jsx(T,{className:"text-center border-r",children:"Lec"}),e.jsx(T,{className:"text-center border-r",children:"Lab"}),e.jsx(T,{className:"text-center border-r",children:"Total"}),e.jsx(T,{className:"text-center border-r",children:"Lec"}),e.jsx(T,{className:"text-center border-r",children:"Lab"})]})]}),e.jsx(Ae,{children:m.subjects.length>0?m.subjects.map(h=>e.jsxs(D,{children:[e.jsx(p,{className:"w-[150px] font-semibold uppercase text-center",children:h.code}),e.jsx(p,{className:"text-center",children:h.name}),e.jsx(p,{className:"text-center font-bold text-primary",children:h.unitsTotal}),e.jsx(p,{className:"text-center",children:h.unitsLec}),e.jsx(p,{className:"text-center",children:h.unitsLab}),e.jsx(p,{className:"text-center font-bold text-primary",children:h.hoursTotal}),e.jsx(p,{className:"text-center",children:h.hoursLec}),e.jsx(p,{className:"text-center",children:h.hoursLab}),e.jsx(p,{className:"w-[150px] text-center",children:h.prerequisite}),e.jsx(p,{className:"text-center",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx(y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:()=>u(L,h),children:e.jsx(oe,{size:16})}),e.jsx(y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>d(L,h.code),children:e.jsx(ae,{size:16})})]})})]},h.code)):e.jsx(D,{children:e.jsx(p,{colSpan:10,className:"text-center h-24 text-muted-foreground",children:"No subjects added for this semester."})})}),e.jsx(Ee,{className:"sticky bottom-0 bg-muted/80 backdrop-blur-sm",children:e.jsxs(D,{children:[e.jsx(p,{colSpan:2,className:"text-right font-bold text-lg",children:"SEMESTER TOTALS"}),e.jsx(p,{className:"text-center font-bold text-lg text-primary",children:m.subjects.reduce((h,E)=>h+E.unitsTotal,0)}),e.jsx(p,{className:"text-center font-semibold",children:m.subjects.reduce((h,E)=>h+E.unitsLec,0)}),e.jsx(p,{className:"text-center font-semibold",children:m.subjects.reduce((h,E)=>h+E.unitsLab,0)}),e.jsx(p,{className:"text-center font-bold text-lg text-primary",children:m.subjects.reduce((h,E)=>h+E.hoursTotal,0)}),e.jsx(p,{className:"text-center font-semibold",children:m.subjects.reduce((h,E)=>h+E.hoursLec,0)}),e.jsx(p,{className:"text-center font-semibold",children:m.subjects.reduce((h,E)=>h+E.hoursLab,0)}),e.jsx(p,{colSpan:2})]})})]})}),e.jsx("div",{className:"p-2 border-t",children:e.jsxs(y,{onClick:()=>x(L),variant:"link",children:[e.jsx(xe,{size:16,className:"mr-1"})," Add Subject"]})})]},L))}),e.jsxs(G,{className:"mt-auto p-6 bg-gray-50 border-t rounded-b-lg",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",children:"Cancel"})}),e.jsxs(y,{onClick:l,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ue,{size:16})," Add Year/Semester"]})]})]})})}const Ss=()=>{const i=new Date().getFullYear()+5,l=[];for(let s=2015;s<=i;s++)l.push(String(s));return l},Se=Ss();function ys({isOpen:t,onClose:b,onSave:i,initialData:l}){const[s,N]=r.useState(""),[x,u]=r.useState(""),[d,v]=r.useState(""),[_,c]=r.useState(""),[f,A]=r.useState(!1);r.useEffect(()=>{if(l){N(l.name),u(l.abbreviation);const[m="",h=""]=l.effectiveYear.split("-");v(m),c(h)}else{N(""),u("");const m=new Date().getFullYear();v(String(m)),c(String(m+1))}},[l,t]);const I=async m=>{m.preventDefault(),A(!0);const h={program_name:s,abbreviation:x,year_from:d,year_to:_},E=localStorage.getItem("accessToken");if(!E){w.error("Authentication required."),A(!1);return}const M={Authorization:`Bearer ${E}`};try{const S=!!l,F=S?`/edit-program/${l.id}`:"/add-program",j=await V["post"](F,h,{headers:M});w.success(j.data.message||"Program saved successfully!");const o=j.data.program,R=o.subjects||l?.subjects||{},B=typeof o.total_subjects=="number"?o.total_subjects:Object.keys(R).length,H=typeof o.total_units=="number"?o.total_units:l?.total_units??0,Y={id:o.id,name:o.program_name,abbreviation:o.abbreviation,effectiveYear:`${o.year_from}-${o.year_to}`,semesters:o.semesters||l?.semesters||{},subjects:R,total_subjects:B,total_units:H};i(Y),b()}catch(S){if(V.isAxiosError(S)&&S.response){if(S.response.status===401){w.error("Your session has expired. Please log in again.");return}const F=S.response.data,a=F.errors;if(a&&typeof a=="object"&&Object.keys(a).length>0){const j=Object.keys(a)[0],o=a[j]?.[0];w.error(o||"A validation error occurred.")}else F&&typeof F.message=="string"?w.error(F.message):w.error("An unknown API error occurred.")}else w.error("Failed to connect to the server. Please check your connection."),console.error("Non-Axios error:",S)}finally{A(!1)}},L=m=>{v(m),c(String(Number(m)+1))};return e.jsx(K,{open:t,onOpenChange:b,children:e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(X,{children:l?"Edit Program":"Add New Program"})}),e.jsxs("form",{onSubmit:I,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"progName",children:"Program Name"}),e.jsx(k,{id:"progName",value:s,onChange:m=>N(m.target.value),placeholder:"e.g., Bachelor of Science...",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"progAbbr",children:"Abbreviation"}),e.jsx(k,{id:"progAbbr",value:x,onChange:m=>u(m.target.value),placeholder:"e.g., BSIT",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Effectivity A.Y."}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[e.jsxs(Z,{value:d,onValueChange:L,required:!0,children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"Start Year"})}),e.jsx(te,{children:Se.map(m=>e.jsx(re,{value:m,children:m},m))})]}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsxs(Z,{value:_,onValueChange:c,required:!0,children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"End Year"})}),e.jsx(te,{children:Se.map(m=>e.jsx(re,{value:m,children:m},m))})]})]})]}),e.jsxs(G,{className:"pt-4",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",disabled:f,children:"Cancel"})}),e.jsx(y,{type:"submit",disabled:f,children:f?"Saving...":l?"Save Changes":"Save Program"})]})]})]})})}const me={code:"",name:"",unitsTotal:0,unitsLec:0,unitsLab:0,hoursTotal:0,hoursLec:0,hoursLab:0,prerequisite:""},ws=["1st Year","2nd Year","3rd Year","4th Year"],Ls=["1st Semester","2nd Semester","Summer"];function Cs({isOpen:t,onClose:b,onSave:i,programId:l}){const[s,N]=r.useState(""),[x,u]=r.useState(""),[d,v]=r.useState([me]),[_,c]=r.useState(!1);r.useEffect(()=>{const a=d.map(j=>{const o=(Number(j.unitsLec)||0)+(Number(j.unitsLab)||0),R=(Number(j.hoursLec)||0)+(Number(j.hoursLab)||0);return{...j,unitsTotal:o,hoursTotal:R}});JSON.stringify(a)!==JSON.stringify(d)&&v(a)},[d]);const{totalUnits:f,totalLecUnits:A,totalLabUnits:I,totalHours:L,totalLecHours:m,totalLabHours:h}=r.useMemo(()=>d.reduce((a,j)=>(a.totalUnits+=Number(j.unitsTotal)||0,a.totalLecUnits+=Number(j.unitsLec)||0,a.totalLabUnits+=Number(j.unitsLab)||0,a.totalHours+=Number(j.hoursTotal)||0,a.totalLecHours+=Number(j.hoursLec)||0,a.totalLabHours+=Number(j.hoursLab)||0,a),{totalUnits:0,totalLecUnits:0,totalLabUnits:0,totalHours:0,totalLecHours:0,totalLabHours:0}),[d]),E=()=>v(a=>[...a,me]),M=a=>v(j=>j.filter((o,R)=>R!==a)),S=(a,j,o)=>{v(R=>R.map((B,H)=>{if(H===a){const Y=["unitsLec","unitsLab","hoursLec","hoursLab"].includes(j);return{...B,[j]:Y?o===""?"":Number(o):o}}return B}))},F=async a=>{if(a.preventDefault(),!s||!x){w.error("Please select a year level and semester.");return}if(d.some(o=>!o.code||!o.name)){w.error("Please fill out all subject codes and titles.");return}c(!0);try{const o=localStorage.getItem("accessToken");if(!o){w.error("Authentication required. Please log in again.");return}const R=d.map(Y=>({subject_code:Y.code,des_title:Y.name,total_units:Y.unitsTotal,lec_units:Y.unitsLec,lab_units:Y.unitsLab,total_hrs:Y.hoursTotal,total_lec_hrs:Y.hoursLec,total_lab_hrs:Y.hoursLab,pre_requisite:Y.prerequisite||null})),B={program_id:l,year_level:s,semester_level:x,subjects:R};if((await V.post("/semester-with-subjects",B,{headers:{Authorization:`Bearer ${o}`}})).status===201&&(w.success("Semester and subjects added successfully!"),b(),i)){const Y=`${s}, ${x}`;i(Y,d,!0)}}catch(o){o.response?.status===401?w.error("Session expired. Please log in again."):o.response?.data?.error?w.error(o.response.data.error):w.error("Failed to save semester and subjects. Please try again."),console.error("Error saving semester:",o)}finally{c(!1)}};return r.useEffect(()=>{t&&(N(""),u(""),v([me]))},[t]),e.jsx(K,{open:t,onOpenChange:b,children:e.jsx(rs,{children:e.jsxs(J,{className:"max-w-7xl h-[95vh] flex flex-col",children:[e.jsxs(W,{children:[e.jsx(X,{children:"Add New Semester and Subjects"}),e.jsx(Te,{children:"Add subjects in bulk. Totals are calculated automatically."})]}),e.jsxs("form",{onSubmit:F,className:"flex-grow flex flex-col min-h-0 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"yearLevel",className:"text-base",children:"Year Level"}),e.jsxs(Z,{value:s,onValueChange:N,required:!0,children:[e.jsx(ee,{id:"yearLevel",children:e.jsx(se,{placeholder:"Select a year level"})}),e.jsx(te,{children:ws.map(a=>e.jsx(re,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"semester",className:"text-base",children:"Semester"}),e.jsxs(Z,{value:x,onValueChange:u,required:!0,children:[e.jsx(ee,{id:"semester",children:e.jsx(se,{placeholder:"Select a semester"})}),e.jsx(te,{children:Ls.map(a=>e.jsx(re,{value:a,children:a},a))})]})]})]}),e.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:e.jsxs(ke,{className:"min-w-[1200px]",children:[e.jsxs(_e,{className:"bg-muted/50 sticky top-0 z-10",children:[e.jsxs(D,{children:[e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r",children:"Course Code"}),e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r w-[350px]",children:"Descriptive Title"}),e.jsx(T,{colSpan:3,className:"text-center border-r",children:"Units"}),e.jsx(T,{colSpan:3,className:"text-center border-r",children:"Hours per week"}),e.jsx(T,{rowSpan:2,className:"align-middle text-center border-r",children:"Pre-requisite"}),e.jsx(T,{rowSpan:2,className:"align-middle w-[50px]"})]}),e.jsxs(D,{children:[e.jsx(T,{className:"text-center border-r",children:"Total"}),e.jsx(T,{className:"text-center border-r",children:"Lec"}),e.jsx(T,{className:"text-center border-r",children:"Lab"}),e.jsx(T,{className:"text-center border-r",children:"Total"}),e.jsx(T,{className:"text-center border-r",children:"Lec"}),e.jsx(T,{className:"text-center border-r",children:"Lab"})]})]}),e.jsx(Ae,{children:d.map((a,j)=>e.jsxs(D,{children:[e.jsx(p,{className:"w-[150px]",children:e.jsx(k,{className:"uppercase",placeholder:"e.g. CS101",value:a.code,onChange:o=>S(j,"code",o.target.value)})}),e.jsx(p,{children:e.jsx(k,{placeholder:"e.g. Introduction to Programming",value:a.name,onChange:o=>S(j,"name",o.target.value)})}),e.jsx(p,{children:e.jsxs(pe,{children:[e.jsx(be,{asChild:!0,children:e.jsx(k,{type:"number",value:a.unitsTotal||"",readOnly:!0,className:"text-center font-bold bg-muted/50 cursor-not-allowed"})}),e.jsx(fe,{children:e.jsx("p",{children:"Auto-calculated from Lec and Lab units."})})]})}),e.jsx(p,{children:e.jsx(k,{min:"0",type:"number",value:a.unitsLec||"",onChange:o=>S(j,"unitsLec",o.target.value),className:"text-center"})}),e.jsx(p,{children:e.jsx(k,{min:"0",type:"number",value:a.unitsLab||"",onChange:o=>S(j,"unitsLab",o.target.value),className:"text-center"})}),e.jsx(p,{children:e.jsxs(pe,{children:[e.jsx(be,{asChild:!0,children:e.jsx(k,{type:"number",value:a.hoursTotal||"",readOnly:!0,className:"text-center font-bold bg-muted/50 cursor-not-allowed"})}),e.jsx(fe,{children:e.jsx("p",{children:"Auto-calculated from Lec and Lab hours."})})]})}),e.jsx(p,{children:e.jsx(k,{min:"0",type:"number",value:a.hoursLec||"",onChange:o=>S(j,"hoursLec",o.target.value),className:"text-center"})}),e.jsx(p,{children:e.jsx(k,{min:"0",type:"number",value:a.hoursLab||"",onChange:o=>S(j,"hoursLab",o.target.value),className:"text-center"})}),e.jsx(p,{className:"w-[150px]",children:e.jsx(k,{placeholder:"None",value:a.prerequisite,onChange:o=>S(j,"prerequisite",o.target.value)})}),e.jsx(p,{className:"text-center",children:e.jsx(y,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(j),className:"text-destructive h-8 w-8 shrink-0",children:e.jsx(ae,{size:16})})})]},j))}),e.jsx(Ee,{className:"sticky bottom-0 bg-muted/80 backdrop-blur-sm",children:e.jsxs(D,{children:[e.jsx(p,{colSpan:2,className:"text-right font-bold text-lg",children:"SEMESTER TOTALS"}),e.jsx(p,{className:"text-center font-bold text-lg text-primary",children:f}),e.jsx(p,{className:"text-center font-semibold",children:A}),e.jsx(p,{className:"text-center font-semibold",children:I}),e.jsx(p,{className:"text-center font-bold text-lg text-primary",children:L}),e.jsx(p,{className:"text-center font-semibold",children:m}),e.jsx(p,{className:"text-center font-semibold",children:h}),e.jsx(p,{colSpan:2})]})})]})}),e.jsxs(y,{type:"button",variant:"outline",onClick:E,className:"mt-4 w-full sm:w-auto",children:[e.jsx(xe,{size:16,className:"mr-2"})," Add Subject Row"]}),e.jsxs(G,{className:"mt-5 pt-4 border-t",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",disabled:_,children:"Cancel"})}),e.jsx(y,{type:"submit",disabled:_,children:_?"Saving...":"Save Curriculum"})]})]})]})})})}function Ts({isOpen:t,onClose:b,onSave:i,initialData:l}){const[s,N]=r.useState("");r.useEffect(()=>{t&&N(l||"")},[t,l]);const x=u=>{u.preventDefault(),i(s)};return e.jsx(K,{open:t,onOpenChange:b,children:e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(X,{children:"Rename Semester"})}),e.jsxs("form",{onSubmit:x,className:"py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"semesterName",children:"New Semester Name"}),e.jsx(k,{id:"semesterName",value:s,onChange:u=>N(u.target.value),required:!0})]}),e.jsxs(G,{className:"pt-6",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(y,{type:"submit",children:"Save Changes"})]})]})]})})}function ks({isOpen:t,onClose:b,onSave:i,initialData:l}){const[s,N]=r.useState({code:"",name:"",unitsTotal:0,unitsLec:0,unitsLab:0,hoursTotal:0,hoursLec:0,hoursLab:0,prerequisite:""}),[x,u]=r.useState(null);r.useEffect(()=>{const c=s.unitsLec+s.unitsLab,f=s.hoursLec+s.hoursLab;N(A=>({...A,unitsTotal:c,hoursTotal:f}))},[s.unitsLec,s.unitsLab,s.hoursLec,s.hoursLab]),r.useEffect(()=>{const c=s.unitsLec+s.unitsLab>s.unitsTotal?"Lec + Lab units cannot exceed Total.":null,f=s.hoursLec+s.hoursLab>s.hoursTotal?"Lec + Lab hours cannot exceed Total.":null;u(c||f?{unitError:c,hourError:f}:null)},[s]),r.useEffect(()=>{t&&N(l||{code:"",name:"",unitsTotal:0,unitsLec:0,unitsLab:0,hoursTotal:0,hoursLec:0,hoursLab:0,prerequisite:""})},[t,l]);const d=(c,f)=>{N(A=>({...A,[c]:f}))},v=(c,f)=>{const A=Number(f);d(c,A>=0?A:0)},_=c=>{if(c.preventDefault(),x){w.error("Please fix the validation errors before saving.");return}i(s,!!l)};return e.jsx(K,{open:t,onOpenChange:b,children:e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(X,{children:l?`Edit Subject: ${l.code}`:"Add New Subject"})}),e.jsxs("form",{onSubmit:_,className:"py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"code",children:"Course Code"}),e.jsx(k,{id:"code",value:s.code,onChange:c=>d("code",c.target.value),disabled:!!l,required:!0}),!!l&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Course code cannot be edited."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"prerequisite",children:"Pre-requisite"}),e.jsx(k,{id:"prerequisite",value:s.prerequisite,onChange:c=>d("prerequisite",c.target.value),placeholder:"None"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"name",children:"Descriptive Title"}),e.jsx(k,{id:"name",value:s.name,onChange:c=>d("name",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(P,{className:"font-semibold",children:"Unit Allocation"}),e.jsxs("div",{className:`grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30 ${x?.unitError?"border-destructive":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"unitsTotal",children:"Total"}),e.jsx(k,{id:"unitsTotal",type:"number",value:s.unitsTotal||"",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"unitsLec",children:"Lec"}),e.jsx(k,{id:"unitsLec",type:"number",value:s.unitsLec||"",onChange:c=>v("unitsLec",c.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"unitsLab",children:"Lab"}),e.jsx(k,{id:"unitsLab",type:"number",value:s.unitsLab||"",onChange:c=>v("unitsLab",c.target.value)})]})]}),x?.unitError&&e.jsxs("p",{className:"text-destructive text-sm flex items-center gap-2 mt-2",children:[e.jsx(ve,{size:16}),x.unitError]})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(P,{className:"font-semibold",children:"Hour Allocation"}),e.jsxs("div",{className:`grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30 ${x?.hourError?"border-destructive":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"hoursTotal",children:"Total"}),e.jsx(k,{id:"hoursTotal",type:"number",value:s.hoursTotal||"",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"hoursLec",children:"Lec"}),e.jsx(k,{id:"hoursLec",type:"number",value:s.hoursLec||"",onChange:c=>v("hoursLec",c.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{htmlFor:"hoursLab",children:"Lab"}),e.jsx(k,{id:"hoursLab",type:"number",value:s.hoursLab||"",onChange:c=>v("hoursLab",c.target.value)})]})]}),x?.hourError&&e.jsxs("p",{className:"text-destructive text-sm flex items-center gap-2 mt-2",children:[e.jsx(ve,{size:16}),x.hourError]})]})]}),e.jsxs(G,{className:"mt-8 pt-4 border-t",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(y,{type:"submit",disabled:!!x,children:x?"Fix Errors":l?"Save Changes":"Save Subject"})]})]})]})})}function _s(t,b,{checkForDefaultPrevented:i=!0}={}){return function(s){if(t?.(s),i===!1||!s.defaultPrevented)return b?.(s)}}var ce="Switch",[As,et]=ns(ce),[Es,Ps]=As(ce),Pe=r.forwardRef((t,b)=>{const{__scopeSwitch:i,name:l,checked:s,defaultChecked:N,required:x,disabled:u,value:d="on",onCheckedChange:v,form:_,...c}=t,[f,A]=r.useState(null),I=Le(b,M=>A(M)),L=r.useRef(!1),m=f?_||!!f.closest("form"):!0,[h,E]=as({prop:s,defaultProp:N??!1,onChange:v,caller:ce});return e.jsxs(Es,{scope:i,checked:h,disabled:u,children:[e.jsx(Ce.button,{type:"button",role:"switch","aria-checked":h,"aria-required":x,"data-state":Fe(h),"data-disabled":u?"":void 0,disabled:u,value:d,...c,ref:I,onClick:_s(t.onClick,M=>{E(S=>!S),m&&(L.current=M.isPropagationStopped(),L.current||M.stopPropagation())})}),m&&e.jsx(qe,{control:f,bubbles:!L.current,name:l,value:d,checked:h,required:x,disabled:u,form:_,style:{transform:"translateX(-100%)"}})]})});Pe.displayName=ce;var ze="SwitchThumb",Ye=r.forwardRef((t,b)=>{const{__scopeSwitch:i,...l}=t,s=Ps(ze,i);return e.jsx(Ce.span,{"data-state":Fe(s.checked),"data-disabled":s.disabled?"":void 0,...l,ref:b})});Ye.displayName=ze;var zs="SwitchBubbleInput",qe=r.forwardRef(({__scopeSwitch:t,control:b,checked:i,bubbles:l=!0,...s},N)=>{const x=r.useRef(null),u=Le(x,N),d=is(i),v=ls(b);return r.useEffect(()=>{const _=x.current;if(!_)return;const c=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(c,"checked").set;if(d!==i&&A){const I=new Event("click",{bubbles:l});A.call(_,i),_.dispatchEvent(I)}},[d,i,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...s,tabIndex:-1,ref:u,style:{...s.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qe.displayName=zs;function Fe(t){return t?"checked":"unchecked"}var Oe=Pe,Ys=Ye;const Me=r.forwardRef(({className:t,...b},i)=>e.jsx(Oe,{className:ge("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...b,ref:i,children:e.jsx(Ys,{className:ge("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Me.displayName=Oe.displayName;function qs({isOpen:t,onClose:b,onSave:i,semesterName:l,initialData:s}){const[N,x]=r.useState(!0),[u,d]=r.useState(""),[v,_]=r.useState("");r.useEffect(()=>{t&&s?(x(s.isActive),d(s.startDate||""),_(s.endDate||"")):(x(!0),d(""),_(""))},[t,s]);const c=f=>{if(f.preventDefault(),!u||!v){w.error("Please provide both a start and an end date.");return}l&&i(l,N,u,v)};return e.jsx(K,{open:t,onOpenChange:b,children:e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(X,{children:"Set Semester Status & Dates"})}),e.jsxs("form",{onSubmit:c,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Semester"}),e.jsx("p",{className:"font-semibold text-lg",children:l})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(Me,{id:"semester-status",checked:N,onCheckedChange:x}),e.jsx(P,{htmlFor:"semester-status",children:N?"Active":"Inactive"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"startDate",children:"Start Date"}),e.jsx(k,{id:"startDate",type:"date",value:u,onChange:f=>d(f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"endDate",children:"End Date"}),e.jsx(k,{id:"endDate",type:"date",value:v,onChange:f=>_(f.target.value),required:!0})]})]}),e.jsxs(G,{className:"pt-4",children:[e.jsx(Q,{asChild:!0,children:e.jsx(y,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(y,{type:"submit",children:"Save Settings"})]})]})]})})}function Fs(){const[t,b]=r.useState([]),[i,l]=r.useState(!0),[s,N]=r.useState(""),[x,u]=r.useState("All Years"),[d,v]=r.useState(null),[_,c]=r.useState(!1),[f,A]=r.useState(null),[I,L]=r.useState(!1),[m,h]=r.useState(0),[E,M]=r.useState(!1),[S,F]=r.useState(!1),[a,j]=r.useState(!1),[o,R]=r.useState(null),[B,H]=r.useState(null),[Y,Ie]=r.useState(null),ie=os(),de=r.useCallback(async()=>{l(!0);const n=localStorage.getItem("accessToken");if(!n){w.error("Authentication required."),l(!1),ie("/facultyscheduler/user-login");return}try{const g=await V.get("/program",{headers:{Authorization:`Bearer ${n}`}}),q=(Array.isArray(g.data.programs)?g.data.programs:Object.values(g.data.programs||{})).map(C=>({id:C.id,name:C.program_name,abbreviation:C.abbreviation,effectiveYear:`${C.year_from}-${C.year_to}`,total_subjects:C.total_subjects||0,total_units:C.total_units||0,semesters:C.semesters?Object.entries(C.semesters).reduce((O,[ne,le])=>(O[ne]={subjects:(le.subjects||[]).map($=>({code:$.subject_code,name:$.des_title,unitsTotal:$.total_units,unitsLec:$.lec_units,unitsLab:$.lab_units,hoursTotal:$.total_hrs,hoursLec:$.total_lec_hrs,hoursLab:$.total_lab_hrs,prerequisite:$.pre_requisite||""})),isActive:le.isActive??!0,startDate:le.startDate,endDate:le.endDate},O),{}):{},subjects:C.subjects||{}}));b(q)}catch(g){V.isAxiosError(g)&&g.response?.status===401?(w.error("Unauthorized. Please log in again."),ie("/facultyscheduler/user-login")):w.error("Failed to fetch programs.")}finally{l(!1)}},[ie]);r.useEffect(()=>{de()},[de]);const Re=n=>{b(!!f?z=>z.map(q=>q.id===n.id?n:q):z=>[n,...z]),c(!1)},Be=()=>{A(null),c(!0)},$e=n=>{A(n),c(!0)},De=n=>{ds.fire({title:"Are you sure?",text:"This program will be moved to the archives.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, archive it!"}).then(async g=>{if(g.isConfirmed){const z=localStorage.getItem("accessToken");if(!z){w.error("Authentication required.");return}try{const q=await V.post(`/delete-program/${n}`,{},{headers:{Authorization:`Bearer ${z}`}});w.success(q.data.message||"Program archived successfully."),b(C=>C.filter(O=>O.id!==n))}catch(q){w.error("Failed to archive program."),console.error("Error deleting program:",q)}}})},He=async(n,g,z)=>{d&&(z&&(await de(),h(q=>q+1)),L(!1))},Ue=(n,g,z)=>{if(!d)return;const q={...d,semesters:{...d.semesters}},C={...q.semesters[n]||{subjects:[],isActive:!0}};z?C.subjects=C.subjects.map(O=>O.code===g.code?g:O):C.subjects=[...C.subjects,g],q.semesters[n]=C,b(t.map(O=>O.id===q.id?q:O)),v(q),F(!1),w.success(`Subject successfully ${z?"updated":"added"}!`)},Ve=(n,g)=>{const z=n.semesters[g];z&&(Ie({name:g,semester:z}),v(n),j(!0))},Ke=(n,g,z,q)=>{if(d){const C={...d},O={...C.semesters};O[n]&&(O[n]={...O[n],isActive:g,startDate:z,endDate:q}),C.semesters=O,b(t.map(ne=>ne.id===C.id?C:ne)),v(C),w.success(`Status for "${n}" has been updated.`)}j(!1)},Je=()=>L(!0),We=n=>{R(n),M(!0)},Xe=n=>{console.log("Deleting:",n)},Ge=n=>{console.log("Renaming to:",n)},Qe=n=>{H({semester:n,subject:null}),F(!0)},Ze=(n,g)=>{H({semester:n,subject:g}),F(!0)},es=(n,g)=>{console.log(`Deleting ${g} from ${n}`)},ss=r.useMemo(()=>{const n=new Set(t.map(g=>g.effectiveYear));return["All Years",...Array.from(n).sort((g,z)=>z.localeCompare(g))]},[t]),je=r.useMemo(()=>t.filter(n=>n.name.toLowerCase().includes(s.toLowerCase())||n.abbreviation.toLowerCase().includes(s.toLowerCase())).filter(n=>x==="All Years"||n.effectiveYear===x),[t,s,x]);return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground tracking-tight",children:"Curriculum Management"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage academic programs, semesters, and their subjects."})]}),e.jsx("div",{className:"bg-card p-4 md:p-6 rounded-lg shadow-sm border border-border mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:flex-grow",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),e.jsx(k,{type:"text",placeholder:"Search program...",className:"pl-10 w-full",value:s,onChange:n=>N(n.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[e.jsxs(Z,{value:x,onValueChange:u,children:[e.jsxs(ee,{className:"w-full sm:w-auto md:w-[180px]",children:[e.jsx(we,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(se,{placeholder:"Filter by A.Y."})]}),e.jsx(te,{children:ss.map(n=>e.jsx(re,{value:n,children:n},n))})]}),e.jsxs(y,{onClick:Be,className:"w-full sm:w-auto",children:[e.jsx(xe,{size:16,className:"mr-2"})," Add Program"]})]})]})}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((n,g)=>e.jsx(vs,{},g))}):e.jsx(cs,{children:je.length>0?e.jsx(he.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:je.map((n,g)=>e.jsx(gs,{program:n,index:g,onEdit:$e,onDelete:De,onManage:()=>v(n)},n.id))}):e.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-20 text-muted-foreground",children:[e.jsx(js,{size:56,className:"mx-auto mb-4"}),e.jsx("h4",{className:"font-semibold text-xl text-foreground",children:"No Programs Found"})]})}),e.jsx(ys,{isOpen:_,onClose:()=>c(!1),onSave:Re,initialData:f}),d&&e.jsx(Ns,{isOpen:!!d,onClose:()=>v(null),program:d,onAddSemester:Je,onEditSemester:We,onDeleteSemester:Xe,onAddSubject:Qe,onEditSubject:Ze,onDeleteSubject:es,onSetSemesterStatus:Ve,refreshKey:m}),e.jsx(Cs,{isOpen:I,onClose:()=>L(!1),onSave:He,programId:d?d.id:0}),e.jsx(Ts,{isOpen:E,onClose:()=>M(!1),onSave:Ge,initialData:o}),B&&e.jsx(ks,{isOpen:S,onClose:()=>F(!1),onSave:(n,g)=>Ue(B.semester,n,g),initialData:B.subject,semesterName:B.semester,programId:d?.id??0}),e.jsx(qs,{isOpen:a,onClose:()=>j(!1),onSave:Ke,semesterName:Y?.name||null,initialData:Y?.semester||null})]})}function st(){return e.jsx("main",{children:e.jsx(Fs,{})})}export{st as default};
