import{r as a,u as w,j as e,L as i,m as c,f as k,F as C,M as S,t as z}from"./index-D7TKUts_.js";import{C as I,B as d,A as p,U as L,S as O}from"./index-CswPbFaS.js";import{C as P}from"./chevron-down-DeZoAG-6.js";import{C as R}from"./calendar-check-PuaSQxSv.js";const m=[{id:1,type:"announcement",title:"Midterm Exam schedule is now available.",timestamp:"2 hours ago",read:!1},{id:2,type:"schedule",title:"Your Friday class (IT-412) has been moved to Room 501.",timestamp:"1 day ago",read:!1},{id:3,type:"report",title:"Your Q2 Performance Report is ready.",timestamp:"3 days ago",read:!0},{id:4,type:"announcement",title:"System maintenance scheduled for this weekend.",timestamp:"4 days ago",read:!0}];function B(){const[x,t]=a.useState(!1),[g,r]=a.useState(!1),y=w(),n=a.useRef(null),o=a.useRef(null),u=localStorage.getItem("user"),l=u?JSON.parse(u):{name:"Faculty Member",email:"faculty@university.edu"};a.useEffect(()=>{function s(f){n.current&&!n.current.contains(f.target)&&t(!1),o.current&&!o.current.contains(f.target)&&r(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const h={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95}},b=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),z.success("Logged out successfully!"),y("/facultyscheduler/user-login"),t(!1)},j=({type:s})=>{switch(s){case"announcement":return e.jsx(S,{className:"text-white"});case"schedule":return e.jsx(R,{className:"text-white"});case"report":return e.jsx(C,{className:"text-white"});default:return e.jsx(d,{className:"text-white"})}},N={announcement:"bg-rose-500",schedule:"bg-amber-500",report:"bg-sky-500"},v=m.filter(s=>!s.read).length;return e.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 md:px-6",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(i,{to:"/facultyscheduler/faculty/user-dashboard",className:"flex items-center gap-3",children:[e.jsx(c.div,{whileHover:{scale:1.1,rotate:-10},className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-tr from-purple-600 to-fuchsia-500 shadow-lg",children:e.jsx(I,{className:"text-white",size:22})}),e.jsx("span",{className:"text-xl font-bold text-gray-800 tracking-wide",children:"Faculty Portal"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",ref:o,children:[e.jsxs("button",{onClick:()=>{r(s=>!s),t(!1)},className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsx(d,{size:20,className:"text-gray-600"}),v>0&&e.jsx("div",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),e.jsx(p,{children:g&&e.jsxs(c.div,{variants:h,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2,ease:"easeInOut"},className:"absolute right-0 md:left-[-150px] md:mt-5 top-full mt-3 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-gray-200/80 z-50 overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200/80",children:[e.jsx("h4",{className:"font-bold text-gray-800",children:"Notifications"}),e.jsx("button",{className:"text-xs font-semibold text-purple-600 hover:underline",children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-[350px] overflow-y-auto",children:m.length>0?m.map(s=>e.jsxs("div",{className:`flex items-start gap-3 p-3 hover:bg-gray-50/80 border-b border-gray-100 ${s.read?"":"bg-indigo-50/50"}`,children:[e.jsx("div",{className:`p-2 rounded-full flex-shrink-0 ${N[s.type]||"bg-gray-500"}`,children:e.jsx(j,{type:s.type})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm text-gray-800 ${s.read?"font-medium":"font-semibold"}`,children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.timestamp})]}),!s.read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 ml-auto flex-shrink-0"})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{size:40,className:"mx-auto text-gray-300"}),e.jsx("p",{className:"mt-2 font-semibold text-gray-600",children:"No new notifications"}),e.jsx("p",{className:"text-sm text-gray-400",children:"You're all caught up!"})]})}),e.jsx("div",{className:"text-center p-2 bg-gray-50",children:e.jsx(i,{to:"/facultyscheduler/faculty/notifications",onClick:()=>r(!1),className:"text-sm font-bold text-purple-600 hover:underline",children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{onClick:()=>{t(s=>!s),r(!1)},className:"flex items-center gap-2 focus:outline-none group",children:[e.jsx("img",{src:`https://i.pravatar.cc/150?u=${l.email}`,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-transparent group-hover:border-purple-400 transition-colors duration-300"}),e.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-800",children:l.name}),e.jsx("span",{className:"text-xs text-gray-500",children:"Faculty"})]}),e.jsx(P,{size:18,className:`text-gray-500 transition-transform duration-300 ${x?"rotate-180":""}`})]}),e.jsx(p,{children:x&&e.jsxs(c.div,{variants:h,initial:"hidden",animate:"visible",exit:"exit",className:"absolute right-0 top-full mt-3 w-64 bg-white rounded-xl shadow-2xl border border-gray-200/80 z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200/80",children:[e.jsx("p",{className:"font-bold text-gray-800",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:l.email})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs(i,{to:"/facultyscheduler/faculty/profile",onClick:()=>t(!1),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:[e.jsx(L,{size:16}),e.jsx("span",{children:"My Profile"})]}),e.jsxs(i,{to:"/facultyscheduler/faculty/settings",onClick:()=>t(!1),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:[e.jsx(O,{size:16}),e.jsx("span",{children:"Settings"})]}),e.jsx("hr",{className:"border-t border-gray-200/80 my-1"}),e.jsxs("button",{onClick:b,className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-md text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(k,{size:16}),e.jsx("span",{children:"Logout"})]})]})]})})]})]})]})})}export{B as H};
