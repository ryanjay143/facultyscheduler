import{c as B,r as l,j as e,d as O,e as q,M as _,B as b,R as $}from"./index-Cea-aG3T.js";import{S as C,f as D,h as T,i as y,T as W,a as G,b as A,c as j,d as J,e as p,g as K}from"./table-ldPbU5_A.js";import{I as E}from"./input-Di-SzGc5.js";import{T as Q,D as X,a as Y,b as Z,c as ee,d as te,L as S,e as se}from"./label-BiT1AEGC.js";import{H as ae}from"./Header-BJt9_5ao.js";import{S as le}from"./search-Behsbxc1.js";import{F as k}from"./funnel-ewOCsG-J.js";import{S as ne}from"./square-pen-DbwawpIM.js";import{C as re}from"./chevron-left-DkFqwAsA.js";import{C as ie}from"./chevron-right-BYy1oSwM.js";import"./chevron-down-DENXmW8O.js";import"./check-DrYWNDEG.js";import"./chevron-up-BsATTYIN.js";import"./index-BszymBOK.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],oe=B("circle-plus",ce),I=l.forwardRef(({className:a,...r},i)=>e.jsx("textarea",{className:O("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:i,...r}));I.displayName="Textarea";const de=q("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function M({className:a,variant:r,...i}){return e.jsx("div",{className:O(de({variant:r}),a),...i})}const ue=[{id:1,title:"Midterm Examination Schedule Release",content:"The midterm examination schedule for all departments has been released. Please check the student portal for your respective schedules.",audience:"All Users",status:"Published",date:"August 5, 2025"},{id:2,title:"Faculty Development Seminar on AI in Education",content:"All faculty members are invited to a seminar on integrating AI into the curriculum. It will be held on August 15, 2025, at the main auditorium.",audience:"Faculty Only",status:"Published",date:"August 4, 2025"},{id:3,title:"System Maintenance this Weekend (Aug 9-10)",content:"The university portal will be temporarily unavailable this weekend for scheduled maintenance.",audience:"All Users",status:"Draft",date:"August 2, 2025"},{id:4,title:"Enrollment for Next Semester is Now Open",content:"Enrollment for the upcoming semester is officially open. Please complete the process before the deadline on August 20, 2025.",audience:"Students Only",status:"Published",date:"August 1, 2025"}],me={"All Users":"bg-blue-100 text-blue-800","Faculty Only":"bg-amber-100 text-amber-800","Students Only":"bg-emerald-100 text-emerald-800"},he={Published:"bg-green-100 text-green-800",Draft:"bg-gray-200 text-gray-800"};function Pe(){const[a,r]=l.useState(ue),[i,x]=l.useState(""),[s,m]=l.useState({audience:"All",status:"All"}),[n,c]=l.useState(1),[o]=l.useState(10),[h,d]=l.useState(!1),[g,v]=l.useState(null),f=l.useMemo(()=>a.filter(t=>t.title.toLowerCase().includes(i.toLowerCase())).filter(t=>s.audience==="All"||t.audience===s.audience).filter(t=>s.status==="All"||t.status===s.status),[a,i,s]),P=l.useMemo(()=>{const t=(n-1)*o;return f.slice(t,t+o)},[f,n,o]),w=Math.ceil(f.length/o),U=()=>{v(null),d(!0)},L=t=>{v(t),d(!0)},R=t=>{window.confirm("Are you sure you want to delete this announcement?")&&r(a.filter(u=>u.id!==t))},V=(t,u)=>{const F=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});if(g)r(a.map(N=>N.id===g.id?{...g,...t,status:u,date:F}:N));else{const N={id:Date.now(),...t,status:u,date:F};r([N,...a])}d(!1)},z=["All","All Users","Faculty Only","Students Only"],H=["All","Published","Draft"];return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50/50",children:[e.jsx(ae,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 ",children:[e.jsxs("header",{className:"mb-6 flex items-center gap-4",children:[e.jsx(_,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Announcements"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create, publish, and manage communications."})]})]}),e.jsxs(b,{onClick:U,className:"w-full mt-2 mb-4",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Create"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg md:w-full border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full md:flex-1",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(E,{placeholder:"Search by title...",className:"pl-10 w-full",value:i,onChange:t=>{x(t.target.value),c(1)}})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2 w-full md:w-auto",children:[e.jsxs(C,{value:s.audience,onValueChange:t=>{m(u=>({...u,audience:t})),c(1)},children:[e.jsxs(D,{className:"w-full md:w-48",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.audience==="All"?"All Audiences":s.audience]}),e.jsx(T,{children:z.map(t=>e.jsx(y,{value:t,children:t},t))})]}),e.jsxs(C,{value:s.status,onValueChange:t=>{m(u=>({...u,status:t})),c(1)},children:[e.jsxs(D,{className:"w-full md:w-40",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.status==="All"?"All Statuses":s.status]}),e.jsx(T,{children:H.map(t=>e.jsx(y,{value:t,children:t},t))})]})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(W,{children:[e.jsx(G,{children:e.jsxs(A,{className:"bg-gray-50",children:[e.jsx(j,{className:"w-[50%]",children:"Title"}),e.jsx(j,{children:"Audience"}),e.jsx(j,{children:"Status"}),e.jsx(j,{className:"hidden md:table-cell",children:"Date"}),e.jsx(j,{className:"text-center w-32",children:"Actions"})]})}),e.jsx(J,{children:P.length===0?e.jsx(A,{children:e.jsx(p,{colSpan:5,className:"text-center py-12 text-gray-500",children:"No announcements found."})}):P.map(t=>e.jsxs(A,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(p,{className:"font-semibold text-gray-800",children:t.title}),e.jsx(p,{children:e.jsx(M,{variant:"outline",className:`${me[t.audience]} border-none`,children:t.audience})}),e.jsx(p,{children:e.jsx(M,{variant:"outline",className:`${he[t.status]} border-none`,children:t.status})}),e.jsx(p,{className:"text-gray-600 hidden md:table-cell",children:t.date}),e.jsxs(p,{className:"text-center",children:[e.jsx("button",{onClick:()=>L(t),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(ne,{size:18})}),e.jsx("button",{onClick:()=>R(t.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(Q,{size:18})})]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",f.length>0?(n-1)*o+1:0," to ",Math.min(n*o,f.length)," of ",f.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>c(t=>Math.max(1,t-1)),disabled:n===1,children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[n," of ",w||1]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>c(t=>Math.min(w,t+1)),disabled:n>=w,children:[e.jsx(ie,{className:"h-4 w-4 ml-1"}),"Next"]})]})]})]})]}),e.jsx(xe,{isOpen:h,onClose:()=>d(!1),onSave:V,initialData:g})]})}function xe({isOpen:a,onClose:r,onSave:i,initialData:x}){const[s,m]=l.useState({title:"",content:"",audience:"All Users",status:"Draft"});$.useEffect(()=>{m(x||{title:"",content:"",audience:"All Users",status:"Draft"})},[x,a]);const n=h=>{i(s,h)},c=h=>{const{name:d,value:g}=h.target;m(v=>({...v,[d]:g}))},o=h=>{m(d=>({...d,audience:h}))};return e.jsx(X,{open:a,onOpenChange:r,children:e.jsxs(Y,{className:"sm:max-w-2xl",children:[e.jsxs(Z,{children:[e.jsx(ee,{className:"text-2xl font-bold",children:x?"Edit Announcement":"Create New Announcement"}),e.jsx(te,{children:"Fill in the details below. Click publish or save as draft when you're ready."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"title",className:"text-right",children:"Title"}),e.jsx(E,{id:"title",name:"title",value:s.title,onChange:c,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsx(S,{htmlFor:"content",className:"text-right pt-2",children:"Content"}),e.jsx(I,{id:"content",name:"content",value:s.content,onChange:c,className:"col-span-3 min-h-[150px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"audience",className:"text-right",children:"Audience"}),e.jsxs(C,{value:s.audience,onValueChange:o,children:[e.jsx(D,{className:"col-span-3",children:e.jsx(K,{})}),e.jsxs(T,{children:[e.jsx(y,{value:"All Users",children:"All Users"}),e.jsx(y,{value:"Faculty Only",children:"Faculty Only"}),e.jsx(y,{value:"Students Only",children:"Students Only"})]})]})]})]}),e.jsxs(se,{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>n("Draft"),children:"Save as Draft"}),e.jsx(b,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>n("Published"),children:"Publish Now"})]})]})})}export{Pe as default};
