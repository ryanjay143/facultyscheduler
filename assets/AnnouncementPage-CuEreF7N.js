import{r as a,j as e,M as B,B as b,R as H}from"./index-hYjaP9Dp.js";import{T as V,a as q,b as A,c as j,d as $,e as g}from"./table-CLTygtjh.js";import{I as M}from"./input-CWsi7UcC.js";import{S as C,a as D,c as T,d as N,b as W}from"./select-DtZHneaF.js";import{T as G}from"./textarea-Ou6U5pCn.js";import{B as O}from"./badge-DnA19mhW.js";import{D as J,a as K,b as Q,c as X,d as Y,e as Z}from"./dialog-CwVwVjPy.js";import{L as S}from"./label-Cn0wqWF-.js";import{H as _}from"./Header-DQr-Gr69.js";import{C as ee}from"./circle-plus-knpOaSnC.js";import{S as te}from"./search-CTGO1uLL.js";import{F as k}from"./funnel-5mLveexv.js";import{S as se}from"./square-pen-CMqerDLv.js";import{T as le}from"./trash-2-BL7ISKRe.js";import{C as ae}from"./chevron-left-DptBz5S_.js";import{C as ne}from"./chevron-right-BYqGWRn3.js";import"./index-Cv-42o4Q.js";import"./index-CFdJ_3cI.js";import"./Combination-DLdob3fC.js";import"./chevron-down-BFehub7U.js";import"./check-BXqkWGox.js";import"./chevron-up-MQc75mCd.js";import"./index-C_t9zXap.js";const ie=[{id:1,title:"Midterm Examination Schedule Release",content:"The midterm examination schedule for all departments has been released. Please check the student portal for your respective schedules.",audience:"All Users",status:"Published",date:"August 5, 2025"},{id:2,title:"Faculty Development Seminar on AI in Education",content:"All faculty members are invited to a seminar on integrating AI into the curriculum. It will be held on August 15, 2025, at the main auditorium.",audience:"Faculty Only",status:"Published",date:"August 4, 2025"},{id:3,title:"System Maintenance this Weekend (Aug 9-10)",content:"The university portal will be temporarily unavailable this weekend for scheduled maintenance.",audience:"All Users",status:"Draft",date:"August 2, 2025"},{id:4,title:"Enrollment for Next Semester is Now Open",content:"Enrollment for the upcoming semester is officially open. Please complete the process before the deadline on August 20, 2025.",audience:"Students Only",status:"Published",date:"August 1, 2025"}],re={"All Users":"bg-blue-100 text-blue-800","Faculty Only":"bg-amber-100 text-amber-800","Students Only":"bg-emerald-100 text-emerald-800"},ce={Published:"bg-green-100 text-green-800",Draft:"bg-gray-200 text-gray-800"};function Me(){const[n,p]=a.useState(ie),[f,u]=a.useState(""),[s,o]=a.useState({audience:"All",status:"All"}),[l,i]=a.useState(1),[r]=a.useState(10),[m,c]=a.useState(!1),[h,v]=a.useState(null),x=a.useMemo(()=>n.filter(t=>t.title.toLowerCase().includes(f.toLowerCase())).filter(t=>s.audience==="All"||t.audience===s.audience).filter(t=>s.status==="All"||t.status===s.status),[n,f,s]),P=a.useMemo(()=>{const t=(l-1)*r;return x.slice(t,t+r)},[x,l,r]),w=Math.ceil(x.length/r),E=()=>{v(null),c(!0)},U=t=>{v(t),c(!0)},I=t=>{window.confirm("Are you sure you want to delete this announcement?")&&p(n.filter(d=>d.id!==t))},z=(t,d)=>{const F=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});if(h)p(n.map(y=>y.id===h.id?{...h,...t,status:d,date:F}:y));else{const y={id:Date.now(),...t,status:d,date:F};p([y,...n])}c(!1)},L=["All","All Users","Faculty Only","Students Only"],R=["All","Published","Draft"];return e.jsxs("div",{className:"flex flex-col min-h-0 bg-gray-50",children:[e.jsx(_,{}),e.jsx("main",{className:"flex-1 min-h-0 p-4 md:p-0",children:e.jsxs("div",{className:"mx-auto max-w-7xl p-4 md:p-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white shadow-lg mb-8",children:[e.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-white/10 blur-2xl"}),e.jsx("div",{className:"absolute -left-10 -bottom-10 h-40 w-40 rounded-full bg-white/10 blur-2xl"}),e.jsxs("div",{className:"relative p-6 md:p-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-semibold shadow-sm",children:[e.jsx(B,{size:14}),"Admin â€¢ Announcements"]}),e.jsx("h1",{className:"mt-2 text-3xl md:text-4xl font-extrabold tracking-tight",children:"Announcements"}),e.jsx("p",{className:"text-white/80",children:"Create, publish, and manage communications."}),e.jsx("div",{className:"mt-4",children:e.jsxs(b,{onClick:E,className:"bg-white text-purple-700 hover:bg-white/90",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]}),e.jsxs("div",{className:"bg-white p-6 md:p-4 rounded-2xl shadow-lg border-b-4 border-primary",children:[e.jsxs("div",{className:"flex items-stretch justify-between gap-4 md:flex-col md:items-stretch mb-6",children:[e.jsxs("div",{className:"relative flex-1 md:w-full",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(M,{placeholder:"Search by title...",className:"pl-10 w-full",value:f,onChange:t=>{u(t.target.value),i(1)}})]}),e.jsxs("div",{className:"flex items-center gap-2 md:flex-col md:w-full",children:[e.jsxs(C,{value:s.audience,onValueChange:t=>{o(d=>({...d,audience:t})),i(1)},children:[e.jsxs(D,{className:"w-48 md:w-full",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.audience==="All"?"All Audiences":s.audience]}),e.jsx(T,{children:L.map(t=>e.jsx(N,{value:t,children:t},t))})]}),e.jsxs(C,{value:s.status,onValueChange:t=>{o(d=>({...d,status:t})),i(1)},children:[e.jsxs(D,{className:"w-40 md:w-full",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-500"}),s.status==="All"?"All Statuses":s.status]}),e.jsx(T,{children:R.map(t=>e.jsx(N,{value:t,children:t},t))})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(V,{children:[e.jsx(q,{children:e.jsxs(A,{className:"bg-gray-50",children:[e.jsx(j,{className:"w-[50%]",children:"Title"}),e.jsx(j,{children:"Audience"}),e.jsx(j,{children:"Status"}),e.jsx(j,{className:"table-cell md:hidden",children:"Date"}),e.jsx(j,{className:"text-center w-28",children:"Actions"})]})}),e.jsx($,{children:P.length===0?e.jsx(A,{children:e.jsx(g,{colSpan:5,className:"text-center py-12 text-gray-500",children:"No announcements found."})}):P.map(t=>e.jsxs(A,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(g,{className:"font-semibold text-gray-800 whitespace-normal break-words",children:t.title}),e.jsx(g,{children:e.jsx(O,{variant:"outline",className:`${re[t.audience]} border-none`,children:t.audience})}),e.jsx(g,{children:e.jsx(O,{variant:"outline",className:`${ce[t.status]} border-none`,children:t.status})}),e.jsx(g,{className:"text-gray-600 table-cell md:hidden",children:t.date}),e.jsxs(g,{className:"text-center",children:[e.jsx("button",{onClick:()=>U(t),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(se,{size:18})}),e.jsx("button",{onClick:()=>I(t.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(le,{size:18})})]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing"," ",x.length>0?(l-1)*r+1:0," ","to ",Math.min(l*r,x.length)," of"," ",x.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>i(t=>Math.max(1,t-1)),disabled:l===1,children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[l," of ",w||1]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>i(t=>Math.min(w,t+1)),disabled:l>=w,children:["Next",e.jsx(ne,{className:"h-4 w-4 ml-1"})]})]})]})]})]})}),e.jsx(de,{isOpen:m,onClose:()=>c(!1),onSave:z,initialData:h})]})}function de({isOpen:n,onClose:p,onSave:f,initialData:u}){const[s,o]=a.useState({title:"",content:"",audience:"All Users",status:"Draft"});H.useEffect(()=>{o(u||{title:"",content:"",audience:"All Users",status:"Draft"})},[u,n]);const l=m=>{f(s,m)},i=m=>{const{name:c,value:h}=m.target;o(v=>({...v,[c]:h}))},r=m=>{o(c=>({...c,audience:m}))};return e.jsx(J,{open:n,onOpenChange:p,children:e.jsxs(K,{className:"md:w-[90%]",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-2xl font-bold",children:u?"Edit Announcement":"Create New Announcement"}),e.jsx(Y,{children:"Fill in the details below. Click publish or save as draft when you're ready."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 items-center md:items-stretch gap-4",children:[e.jsx(S,{htmlFor:"title",className:"text-right md:text-left",children:"Title"}),e.jsx(M,{id:"title",name:"title",value:s.title,onChange:i,className:"col-span-3 md:col-span-1",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 items-start md:items-stretch gap-4",children:[e.jsx(S,{htmlFor:"content",className:"text-right md:text-left pt-2 md:pt-0",children:"Content"}),e.jsx(G,{id:"content",name:"content",value:s.content,onChange:i,className:"col-span-3 md:col-span-1 min-h-[150px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 items-center md:items-stretch gap-4",children:[e.jsx(S,{htmlFor:"audience",className:"text-right md:text-left",children:"Audience"}),e.jsxs(C,{value:s.audience,onValueChange:r,children:[e.jsx(D,{className:"col-span-3 md:col-span-1",children:e.jsx(W,{})}),e.jsxs(T,{children:[e.jsx(N,{value:"All Users",children:"All Users"}),e.jsx(N,{value:"Faculty Only",children:"Faculty Only"}),e.jsx(N,{value:"Students Only",children:"Students Only"})]})]})]})]}),e.jsxs(Z,{className:"flex flex-row md:flex-col-reverse md:gap-2 md:space-x-0 justify-end",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>l("Draft"),children:"Save as Draft"}),e.jsx(b,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>l("Published"),children:"Publish Now"})]})]})})}export{Me as default};
