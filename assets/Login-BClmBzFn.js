import{c as i,r as n,u as L,j as e,m as x,B as S,L as z,a as g,t as d}from"./index-hJ5NTOlQ.js";import{C as E,a as I,b as M}from"./card-v145uNde.js";import{I as y}from"./input-DNRZPq4q.js";import{M as _}from"./mail-YENLKyH6.js";import{E as C}from"./eye-cXzi0Yn6.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],P=i("eye-off",$);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],q=i("facebook",H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],W=i("instagram",F);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],O=i("log-in",B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],T=i("lock",R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],D=i("twitter",A),U=()=>{const[h,b]=n.useState(""),[u,w]=n.useState(""),[o,l]=n.useState({}),[m,v]=n.useState(!1),c=L(),[f,p]=n.useState(!1),j=!localStorage.getItem("alreadyLoggedIn");localStorage.setItem("alreadyLoggedIn","true");const N=async r=>{r.preventDefault();const s={};if(h.trim()||(s.email="Email is required"),u.trim()||(s.password="Password is required"),Object.keys(s).length>0){l(s);return}p(!0);try{const t=await g.post("login",{email:h,password:u}),{data:a}=t;switch(localStorage.setItem("accessToken",a.token),localStorage.setItem("user",JSON.stringify(a.user)),console.log("Login successful:",a),d.success("Login successful ðŸŽ‰",{description:j?`Welcome, ${a.user.name}!`:`Welcome back, ${a.user.name}!`}),l({}),a.user.role){case 0:c("/facultyscheduler/admin/user-dashboard");break;case 1:c("/facultyscheduler/dean/user-dashboard");break;case 2:c("/facultyscheduler/faculty/user-dashboard");break;default:c("/facultyscheduler/admin/user-dashboard")}}catch(t){if(console.error("Login error:",t),g.isAxiosError(t)){const a=t.response?.data?.message;t.response?.status===401?(d.error(a||"Invalid credentials ðŸ˜“"),l(k=>({...k,[a?.toLowerCase().includes("email")?"email":"password"]:a}))):d.error("Login failed. Please try again later ðŸ˜“")}else d.error("Network error. Please check your connection ðŸ˜“")}finally{p(!1)}};return e.jsxs("div",{className:"flex flex-col md:p-10 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black px-4",children:[e.jsx(x.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(E,{className:"relative w-full p-8 md:p-2 rounded-3xl bg-white/10 border border-white/20 shadow-2xl backdrop-blur-lg",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20 opacity-50 animate-pulse pointer-events-none"}),e.jsxs(I,{className:"flex flex-col items-center space-y-3 text-white z-10",children:[e.jsxs(x.div,{whileHover:{scale:1.1,rotate:10},className:"relative flex items-center justify-center w-24 h-24 bg-gradient-to-tr from-violet-700 to-fuchsia-500 rounded-full shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-gradient-to-tr from-violet-700 to-fuchsia-500 opacity-50 blur-md"}),e.jsx("span",{className:"relative text-5xl font-bold text-white",children:"FS"})]}),e.jsx("h2",{className:"text-4xl md:text-xl font-extrabold",children:"Welcome Back"}),e.jsx("p",{className:"text-md text-purple-200",children:"Sign in to continue"})]}),e.jsxs(M,{className:"z-10",children:[e.jsxs("form",{className:"space-y-8",onSubmit:N,children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute top-7 left-3 transform -translate-y-1/2 text-purple-400",size:22}),e.jsx(y,{type:"email",value:h,onChange:r=>{const s=r.target.value;b(s),l(t=>({...t,email:s.trim()?void 0:"Email is required"}))},placeholder:"Enter your email",className:`pl-12 py-3 h-14 text-base rounded-lg bg-white shadow-inner focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500 text-black placeholder-white transition-all duration-300 ${o.email?"border-red-500":"border-white/30"}`}),o.email&&e.jsx("span",{className:"text-sm text-red-400 mt-2 block",children:o.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute top-7 left-3 transform -translate-y-1/2 text-purple-400",size:22}),e.jsx(y,{type:m?"text":"password",value:u,onChange:r=>{const s=r.target.value;w(s),l(t=>({...t,password:s.trim()?void 0:"Password is required"}))},placeholder:"Enter your password",className:`pl-12 pr-12 py-3 h-14 text-base rounded-lg bg-white shadow-inner focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500 text-black placeholder-gray-400 transition-all duration-300 ${o.password?"border-red-500":"border-white/30"}`}),e.jsx("button",{type:"button",tabIndex:-1,className:"absolute top-7 right-3 transform -translate-y-1/2 text-purple-400 hover:text-fuchsia-400 focus:outline-none transition-colors duration-300",onClick:()=>v(r=>!r),"aria-label":m?"Hide password":"Show password",children:m?e.jsx(P,{size:22}):e.jsx(C,{size:22})}),o.password&&e.jsx("span",{className:"text-sm text-red-400 mt-2 block",children:o.password})]}),e.jsx(S,{type:"submit",className:"w-full py-4 text-lg font-semibold text-white bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-700 hover:to-fuchsia-600 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300",disabled:f,children:f?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-5 h-5 mr-3"}),e.jsx("span",{children:"Logging in..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(O,{}),e.jsx("span",{children:"Login"})]})})]}),e.jsx("div",{className:"flex justify-end mt-2 z-10",children:e.jsx(z,{to:"/forgot-password",className:"text-sm text-purple-300 hover:underline hover:text-fuchsia-300 transition-colors duration-300 cursor-pointer font-semibold",children:"Forgot password?"})})]})]})}),e.jsx("p",{className:"mt-8 text-md text-white/70",children:"Developed by: RR Web Solution"}),e.jsx("div",{className:"flex space-x-6 mt-6",children:[{icon:e.jsx(q,{size:24,className:"text-white"}),href:"#"},{icon:e.jsx(W,{size:24,className:"text-white"}),href:"#"},{icon:e.jsx(D,{size:24,className:"text-white"}),href:"#"}].map(({icon:r,href:s},t)=>e.jsx(x.a,{href:s,whileHover:{scale:1.2,y:-5},className:"p-3 rounded-full bg-white/20 backdrop-blur-md hover:bg-fuchsia-500/70 transition-all shadow-lg",children:r},t))})]})};export{U as default};
