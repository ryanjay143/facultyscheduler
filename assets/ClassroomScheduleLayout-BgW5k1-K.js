import{c as P,r as m,j as e,B as y,A as E,m as w,X as D,C as F,U as O,b as M}from"./index-hJ5NTOlQ.js";import{S as f,a as S,b as C,c as N,d as k}from"./select-B6mTRo6D.js";import{I as z}from"./input-DNRZPq4q.js";import{C as A}from"./circle-check-big-CsGQCyPJ.js";import{S as Y}from"./square-pen-D4qTmpW9.js";import{C as V}from"./calendar-days-CoNT1TbL.js";import{T as $}from"./triangle-alert-DsW8q5P0.js";import"./Combination-C-PKQ9lL.js";import"./check-L0h3zVVs.js";import"./chevron-up-CyrvZq6b.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],b=P("building",H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_=P("circle-x",W),q=["BS in Computer Science","BS in Information Technology","BA in English"],G=["1st Year","2nd Year","3rd Year","4th Year"],X=[{value:"MTh",label:"Monday / Thursday"},{value:"TF",label:"Tuesday / Friday"},{value:"WS",label:"Wednesday / Saturday"},{value:"MWF",label:"Monday / Wednesday / Friday"},{value:"TTH",label:"Tuesday / Thursday"},{value:"Sat",label:"Saturday"}],B={"BS in Computer Science":{"1st Year":[{id:"cs101",code:"CS 101",title:"Intro to Computing",units:3},{id:"math110",code:"MATH 110",title:"College Algebra",units:3},{id:"eng101",code:"ENG 101",title:"English Composition",units:3}],"2nd Year":[{id:"cs205",code:"CS 205",title:"Algorithms & Data Structures",units:3},{id:"cs210",code:"CS 210",title:"Object-Oriented Programming",units:3},{id:"phy101",code:"PHY 101",title:"General Physics",units:4}]},"BS in Information Technology":{"1st Year":[{id:"it101",code:"IT 101",title:"Foundations of IT",units:3},{id:"net101",code:"NET 101",title:"Networking Essentials",units:3}]}},J=[{id:"A-101",capacity:50,type:"Classroom"},{id:"A-102",capacity:60,type:"Classroom"},{id:"B-203",capacity:40,type:"Lab"},{id:"C-301",capacity:45,type:"Classroom"},{id:"E-210",capacity:70,type:"Lecture Hall"}],K=[{id:1,subjectId:"cs101",course:"BS in Computer Science",yearLevel:"1st Year",dayPair:"MWF",time:"08:30-09:30",instructor:"Dr. Santos",roomId:"A-101"},{id:2,subjectId:"it101",course:"BS in Information Technology",yearLevel:"1st Year",dayPair:"TTH",time:"10:00-11:30",instructor:"Prof. Cruz",roomId:"B-203"},{id:3,subjectId:"cs205",course:"BS in Computer Science",yearLevel:"2nd Year",dayPair:"MTh",time:"13:00-14:30",instructor:"Dr. Reyes",roomId:null}],Q=({curriculum:t,courses:a,yearLevels:i,schedules:l,dayPairings:n,onCreateSchedule:p})=>{const[d,h]=m.useState(""),[o,g]=m.useState(""),[u,c]=m.useState(!1),[x,r]=m.useState(null),I=d&&o&&t[d]?.[o]||[],L=new Set(l.filter(s=>s.course===d&&s.yearLevel===o).map(s=>s.subjectId)),R=s=>{r(s),c(!0)},U=()=>{r(null),c(!1)};return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-background",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Program / Course"}),e.jsxs(f,{value:d,onValueChange:h,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Select a course..."})}),e.jsx(N,{children:a.map(s=>e.jsx(k,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Year Level"}),e.jsxs(f,{value:o,onValueChange:g,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Select a year level..."})}),e.jsx(N,{children:i.map(s=>e.jsx(k,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Curriculum Subjects"}),e.jsxs("div",{className:"space-y-3 mt-4",children:[I.map(s=>{const T=L.has(s.id);return e.jsxs("div",{className:`p-4 rounded-lg border flex items-center justify-between ${T?"bg-green-50 border-green-200":"bg-card"}`,children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold",children:[s.code," - ",s.title]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.units," units"]})]}),T?e.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold text-green-600",children:[e.jsx(A,{size:16})," Scheduled"]}):e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>R(s),children:[e.jsx(Y,{size:14,className:"mr-2"})," Schedule Class"]})]},s.id)}),I.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Select a course and year level to see subjects."})]})]}),e.jsx(E,{children:u&&x&&e.jsx(Z,{isOpen:u,onClose:U,subject:x,course:d,yearLevel:o,dayPairings:n,onCreateSchedule:p})})]})},Z=({onClose:t,subject:a,course:i,yearLevel:l,dayPairings:n,onCreateSchedule:p})=>{const[d,h]=m.useState(""),[o,g]=m.useState(""),[u,c]=m.useState(""),x=()=>{if(!d||!o||!u){alert("Please fill all fields.");return}p({subjectId:a.id,course:i,yearLevel:l,dayPair:d,time:o,instructor:u,roomId:null}),t()};return e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",onClick:t,children:e.jsxs(w.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-card rounded-xl shadow-xl w-full max-w-lg flex flex-col",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Schedule Class"}),e.jsxs("p",{className:"text-sm text-primary font-semibold",children:[a.code," - ",a.title]})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(D,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2 mb-1",children:[e.jsx(V,{size:14})," Day Pairing"]}),e.jsxs(f,{value:d,onValueChange:h,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Select day pairing..."})}),e.jsx(N,{children:n.map(r=>e.jsx(k,{value:r.value,children:r.label},r.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2 mb-1",children:[e.jsx(F,{size:14})," Time"]}),e.jsx(z,{value:o,onChange:r=>g(r.target.value),placeholder:"e.g., 08:30-10:00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2 mb-1",children:[e.jsx(O,{size:14})," Instructor"]}),e.jsx(z,{value:u,onChange:r=>c(r.target.value),placeholder:"Enter instructor name..."})]})]}),e.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[e.jsx(y,{variant:"ghost",onClick:t,children:"Cancel"}),e.jsx(y,{onClick:x,children:"Confirm Schedule"})]})]})})},ee=({rooms:t,schedules:a})=>{const i=new Set(a.map(l=>l.roomId));return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(l=>{const n=i.has(l.id);return e.jsxs("div",{className:`p-4 border rounded-lg ${n?"bg-red-50":"bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-lg",children:l.id}),e.jsxs("span",{className:`flex items-center gap-2 text-sm font-semibold ${n?"text-red-600":"text-green-600"}`,children:[n?e.jsx(_,{size:16}):e.jsx(A,{size:16}),n?"In Use":"Available"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[l.type," - Capacity: ",l.capacity]})]},l.id)})})},se=({rooms:t})=>e.jsxs("div",{className:"p-4 bg-background rounded-lg border",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Master Schedule Overview"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"grid grid-cols-6 min-w-[800px] gap-2",children:[e.jsx("div",{className:"font-bold text-center",children:"Time"}),t.map(a=>e.jsx("div",{className:"font-bold text-center",children:a.id},a.id)),e.jsx("p",{className:"col-span-6 text-center text-muted-foreground py-16",children:"Full schedule grid would be rendered here."})]})})]}),j=({title:t,value:a,icon:i,color:l})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm flex items-center gap-5",children:[e.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${l}`,children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a})]})]});function ue(){const[t,a]=m.useState("Schedule"),[i,l]=m.useState(K),[n,p]=m.useState(J),d=i.filter(c=>c.roomId===null),h=new Set(i.map(c=>c.roomId).filter(Boolean)).size,o=c=>{l(x=>[...x,{...c,id:Date.now()}])},g=c=>{l(x=>x.map(r=>r.id===c.id?c:r))},u=()=>{switch(t){case"Creation":return e.jsx(Q,{curriculum:B,courses:q,yearLevels:G,schedules:i,rooms:n,dayPairings:X,onCreateSchedule:o,onUpdateSchedule:g});case"Rooms":return e.jsx(ee,{rooms:n,schedules:i});default:return e.jsx(se,{schedules:i,rooms:n,curriculum:B})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Classroom Scheduling"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage, create, and view classroom assignments across all departments."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(j,{title:"Total Rooms",value:n.length,icon:b,color:"text-blue-500"}),e.jsx(j,{title:"Rooms in Use",value:h,icon:b,color:"text-indigo-500"}),e.jsx(j,{title:"Total Classes Scheduled",value:i.length,icon:M,color:"text-green-500"}),e.jsx(j,{title:"Unassigned Classes",value:d.length,icon:$,color:"text-yellow-500"})]}),e.jsxs("div",{className:"bg-card border rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-muted p-1 rounded-lg",children:[e.jsx(v,{title:"Master Schedule",icon:M,isActive:t==="Schedule",onClick:()=>a("Schedule")}),e.jsx(v,{title:"Class Creation",icon:Y,isActive:t==="Creation",onClick:()=>a("Creation")}),e.jsx(v,{title:"Room Management",icon:b,isActive:t==="Rooms",onClick:()=>a("Rooms")})]})}),e.jsx("div",{className:"p-4",children:u()})]})]})}const v=({title:t,icon:a,isActive:i,onClick:l})=>e.jsxs("button",{onClick:l,className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-md transition-colors ${i?"bg-background text-primary shadow-sm":"text-muted-foreground hover:text-primary"}`,children:[e.jsx(a,{size:16}),t]});export{ue as default};
