import{r as l,j as e,B as f,R as I}from"./index-BLkMyUsx.js";import{H as k}from"./Header-BFcERXrw.js";import{T as z,a as V,b as M,c as b,d as q,e as h}from"./table-BIOPnmDB.js";import{I as w}from"./input-WflGtCZB.js";import{S as A,a as C,c as S,d as m,b as O}from"./select-D9RIGLBK.js";import{D as G,a as J,b as K,c as $,e as Q,f as U}from"./dialog-Csu5SxBN.js";import{L as N}from"./label-D0ZBlBzo.js";import{P as W}from"./plus-Dem5oljm.js";import{S as X}from"./search-CGPL69eI.js";import{B as Y}from"./building-ByBGv6xT.js";import{F as Z}from"./funnel-Z_e-tKA-.js";import{S as _}from"./square-pen-D3ygAFAu.js";import{T as ee}from"./trash-2-DoDUb1_3.js";import{C as se}from"./chevron-left-ZQdPw_JH.js";import{C as ae}from"./chevron-right-CxK00VL3.js";import"./index-zoTtYq28.js";import"./index-D9yhg_pm.js";import"./index-B_fBrJXk.js";import"./index-_mz4RNV1.js";import"./chevron-down-CO_QTR_1.js";import"./check-BeLhDsqd.js";import"./chevron-up-hEhCsCIY.js";const T=[{id:1,roomNumber:"101",building:"Engineering",type:"Lecture",capacity:40,status:"Available"},{id:2,roomNumber:"202",building:"Science",type:"Laboratory",capacity:30,status:"Occupied"},{id:3,roomNumber:"A1",building:"Main",type:"Auditorium",capacity:120,status:"Maintenance"},{id:4,roomNumber:"303",building:"Business",type:"Lecture",capacity:35,status:"Available"},{id:5,roomNumber:"B2",building:"Arts",type:"Other",capacity:25,status:"Occupied"},{id:6,roomNumber:"404",building:"Engineering",type:"Laboratory",capacity:28,status:"Available"},{id:7,roomNumber:"C1",building:"Science",type:"Lecture",capacity:32,status:"Maintenance"},{id:8,roomNumber:"D5",building:"Main",type:"Other",capacity:20,status:"Available"},{id:9,roomNumber:"E2",building:"Business",type:"Auditorium",capacity:100,status:"Occupied"},{id:10,roomNumber:"F3",building:"Arts",type:"Lecture",capacity:45,status:"Available"},{id:11,roomNumber:"G7",building:"Engineering",type:"Laboratory",capacity:27,status:"Maintenance"},{id:12,roomNumber:"H1",building:"Science",type:"Lecture",capacity:38,status:"Available"},{id:13,roomNumber:"I2",building:"Main",type:"Other",capacity:22,status:"Occupied"},{id:14,roomNumber:"J4",building:"Business",type:"Auditorium",capacity:110,status:"Available"},{id:15,roomNumber:"K6",building:"Arts",type:"Lecture",capacity:50,status:"Occupied"}],te={Available:"bg-green-100 text-green-800",Occupied:"bg-yellow-100 text-yellow-800",Maintenance:"bg-red-100 text-red-800"};function ie(){const[u,j]=l.useState(T),[y,p]=l.useState(""),[a,x]=l.useState({building:"All",type:"All"}),[r,n]=l.useState(1),[c]=l.useState(10),[i,o]=l.useState(!1),[d,v]=l.useState(null),g=l.useMemo(()=>u.filter(s=>{const t=y.toLowerCase();return s.roomNumber.toLowerCase().includes(t)||s.building.toLowerCase().includes(t)||s.type.toLowerCase().includes(t)}).filter(s=>a.building==="All"||s.building===a.building).filter(s=>a.type==="All"||s.type===a.type),[u,y,a]),R=l.useMemo(()=>{const s=(r-1)*c;return g.slice(s,s+c)},[g,r,c]),L=Math.ceil(g.length/c),D=()=>{v(null),o(!0)},B=s=>{v(s),o(!0)},F=s=>{window.confirm("Are you sure you want to delete this room?")&&j(u.filter(t=>t.id!==s))},E=s=>{if(d)j(u.map(t=>t.id===d.id?{...d,...s}:t));else{const t={id:Date.now(),...s};j([t,...u])}o(!1)},P=["All",...Array.from(new Set(T.map(s=>s.building)))],H=["All","Lecture","Laboratory","Auditorium","Other"];return e.jsxs("div",{className:"p-3 bg-gray-50/50 min-h-screen",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Classroom Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and monitor all classrooms and laboratories."})]}),e.jsxs(f,{onClick:D,className:"w-full mt-2 mb-4",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Add Room"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg md:w-[400px] border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full md:flex-1",children:[e.jsx(X,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(w,{placeholder:"Search by room or building...",className:"pl-10 w-full",value:y,onChange:s=>{p(s.target.value),n(1)}})]}),e.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 w-full md:w-auto",children:[e.jsxs(A,{value:a.building,onValueChange:s=>{x(t=>({...t,building:s})),n(1)},children:[e.jsxs(C,{className:"w-full md:w-[360px]",children:[e.jsx(Y,{className:"h-4 w-4 mr-2 text-gray-500"}),a.building==="All"?"All Buildings":a.building]}),e.jsx(S,{children:P.map(s=>e.jsx(m,{value:s,children:s},s))})]}),e.jsxs(A,{value:a.type,onValueChange:s=>{x(t=>({...t,type:s})),n(1)},children:[e.jsxs(C,{className:"w-full md:w-[360px]",children:[e.jsx(Z,{className:"h-4 w-4 mr-2 text-gray-500"}),a.type==="All"?"All Types":a.type]}),e.jsx(S,{children:H.map(s=>e.jsx(m,{value:s,children:s},s))})]})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(z,{children:[e.jsx(V,{children:e.jsxs(M,{className:"bg-gray-50",children:[e.jsx(b,{children:"Room"}),e.jsx(b,{children:"Building"}),e.jsx(b,{children:"Type"}),e.jsx(b,{className:"text-center",children:"Capacity"}),e.jsx(b,{children:"Status"}),e.jsx(b,{className:"text-center w-32",children:"Actions"})]})}),e.jsx(q,{children:R.length===0?e.jsx(M,{children:e.jsx(h,{colSpan:6,className:"text-center py-12 text-gray-500",children:"No rooms found."})}):R.map(s=>e.jsxs(M,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(h,{children:e.jsx("p",{className:"font-semibold text-gray-800",children:s.roomNumber})}),e.jsx(h,{children:s.building}),e.jsx(h,{children:s.type}),e.jsx(h,{className:"text-center",children:s.capacity}),e.jsx(h,{children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${te[s.status]}`,children:s.status})}),e.jsxs(h,{className:"text-center",children:[e.jsx("button",{onClick:()=>B(s),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(_,{size:18})}),e.jsx("button",{onClick:()=>F(s.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(ee,{size:18})})]})]},s.id))})]})}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",g.length>0?(r-1)*c+1:0," to ",Math.min(r*c,g.length)," of ",g.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.max(1,s-1)),disabled:r===1,children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[r," of ",L||1]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.min(L,s+1)),disabled:r>=L,children:[e.jsx(ae,{className:"h-4 w-4 ml-1"}),"Next"]})]})]})]}),e.jsx(le,{isOpen:i,onClose:()=>o(!1),onSave:E,initialData:d})]})}function le({isOpen:u,onClose:j,onSave:y,initialData:p}){const[a,x]=l.useState({roomNumber:"",building:"",type:"Lecture",capacity:40,status:"Available"});I.useEffect(()=>{x(p||{roomNumber:"",building:"",type:"Lecture",capacity:40,status:"Available"})},[p,u]);const r=i=>{i.preventDefault(),y(a)},n=i=>{const{name:o,value:d}=i.target;x(v=>({...v,[o]:o==="capacity"?Number(d):d}))},c=(i,o)=>{x(d=>({...d,[i]:o}))};return e.jsx(G,{open:u,onOpenChange:j,children:e.jsxs(J,{className:"sm:max-w-[480px]",children:[e.jsx(K,{children:e.jsx($,{className:"text-2xl font-bold",children:p?"Edit Room":"Add New Room"})}),e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"grid gap-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(N,{htmlFor:"roomNumber",className:"text-right",children:"Room #"}),e.jsx(w,{id:"roomNumber",name:"roomNumber",value:a.roomNumber,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(N,{htmlFor:"building",className:"text-right",children:"Building"}),e.jsx(w,{id:"building",name:"building",value:a.building,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(N,{htmlFor:"type",className:"text-right",children:"Type"}),e.jsxs(A,{value:a.type,onValueChange:i=>c("type",i),children:[e.jsx(C,{className:"col-span-3",children:e.jsx(O,{})}),e.jsxs(S,{children:[e.jsx(m,{value:"Lecture",children:"Lecture"}),e.jsx(m,{value:"Laboratory",children:"Laboratory"}),e.jsx(m,{value:"Auditorium",children:"Auditorium"}),e.jsx(m,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(N,{htmlFor:"capacity",className:"text-right",children:"Capacity"}),e.jsx(w,{id:"capacity",name:"capacity",type:"number",min:"1",value:a.capacity,onChange:n,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(N,{htmlFor:"status",className:"text-right",children:"Status"}),e.jsxs(A,{value:a.status,onValueChange:i=>c("status",i),children:[e.jsx(C,{className:"col-span-3",children:e.jsx(O,{})}),e.jsxs(S,{children:[e.jsx(m,{value:"Available",children:"Available"}),e.jsx(m,{value:"Occupied",children:"Occupied"}),e.jsx(m,{value:"Maintenance",children:"Maintenance"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(U,{asChild:!0,children:e.jsx(f,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(f,{type:"submit",children:"Save Room"})]})]})]})})}function Me(){return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[e.jsx("div",{children:e.jsx(k,{})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsx(ie,{})})]})}export{Me as default};
