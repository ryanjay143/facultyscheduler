import{r as c,j as e,B as p,R as $,X as J}from"./index-hYjaP9Dp.js";import{H as U}from"./Header-DQr-Gr69.js";import{T as X,a as K,b as k,c as b,d as Q,e as v}from"./table-CLTygtjh.js";import{I as w}from"./input-CWsi7UcC.js";import{S as C,a as S,c as A,d as N,b as E}from"./select-DtZHneaF.js";import{D as W,a as Y,b as Z,c as _,e as ee,f as se}from"./dialog-CwVwVjPy.js";import{L as h}from"./label-Cn0wqWF-.js";import{B as T}from"./badge-DnA19mhW.js";import{P as ae}from"./plus-DVbFfxba.js";import{S as te}from"./search-CTGO1uLL.js";import{B as re}from"./briefcase-9UdCl_uU.js";import{F as le}from"./funnel-5mLveexv.js";import{S as B}from"./square-pen-CMqerDLv.js";import{T as H}from"./trash-2-BL7ISKRe.js";import{C as ie}from"./chevron-left-DptBz5S_.js";import{C as ne}from"./chevron-right-BYqGWRn3.js";import"./index-C_t9zXap.js";import"./index-Cv-42o4Q.js";import"./index-CFdJ_3cI.js";import"./Combination-DLdob3fC.js";import"./chevron-down-BFehub7U.js";import"./check-BXqkWGox.js";import"./chevron-up-MQc75mCd.js";const R=[{id:1,name:"Dr. Alice Johnson",designation:"Professor",expertise:["Software Engineering","HCI"],department:"Computer Science",email:"alice.j@university.edu",status:"Active",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:2,name:"Prof. Bob Smith",designation:"Associate Professor",expertise:["Cyber Security"],department:"Mathematics",email:"bob.s@university.edu",status:"Inactive",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:3,name:"Dr. Carol Lee",designation:"Professor",expertise:["Computer Graphics & Vision","Game Development"],department:"Physics",email:"carol.l@university.edu",status:"Active",avatar:"https://randomuser.me/api/portraits/women/68.jpg"},{id:4,name:"Dr. Emily Clark",designation:"Asst. Professor",expertise:["Cyber Security","Computer Networks"],department:"Computer Science",email:"emily.c@university.edu",status:"Active",avatar:"https://randomuser.me/api/portraits/women/65.jpg"},{id:5,name:"Dr. Michael Brown",designation:"Department Head",expertise:["Programming"],department:"History",email:"michael.b@university.edu",status:"Active",avatar:"https://randomuser.me/api/portraits/men/45.jpg"}],V={Active:"bg-green-100 text-green-800",Inactive:"bg-red-100 text-red-800"};function ce(){const[m,f]=c.useState(R),[y,u]=c.useState(""),[l,D]=c.useState({department:"All",status:"All"}),[r,n]=c.useState(1),[o]=c.useState(10),[g,x]=c.useState(!1),[j,F]=c.useState(null),a=c.useMemo(()=>m.filter(s=>{const t=y.toLowerCase();return s.name.toLowerCase().includes(t)||s.department.toLowerCase().includes(t)||s.designation.toLowerCase().includes(t)||s.expertise.some(O=>O.toLowerCase().includes(t))}).filter(s=>l.department==="All"||s.department===l.department).filter(s=>l.status==="All"||s.status===l.status),[m,y,l]),i=c.useMemo(()=>{const s=(r-1)*o;return a.slice(s,s+o)},[a,r,o]),d=Math.ceil(a.length/o),P=()=>{F(null),x(!0)},I=s=>{F(s),x(!0)},L=s=>{window.confirm("Are you sure you want to delete this faculty member?")&&f(m.filter(t=>t.id!==s))},M=s=>{if(j)f(m.map(t=>t.id===j.id?{...j,...s}:t));else{const t={id:Date.now(),...s};f([t,...m])}x(!1)},z=["All",...Array.from(new Set(R.map(s=>s.department)))],q=["All","Active","Inactive"],G=["Computer Networks","HCI","Computer Graphics & Vision","Software Engineering","Software Development","Cyber Security","Programming","Game Development"];return e.jsxs("div",{className:"p-4 bg-gray-50 min-h-0",children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"Faculty Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Add, edit, and manage all faculty members."})]}),e.jsxs(p,{onClick:P,className:"w-full mt-2 mb-4",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Add Faculty"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(w,{placeholder:"Search faculty...",className:"pl-10 w-full",value:y,onChange:s=>{u(s.target.value),n(1)}})]}),e.jsxs("div",{className:"flex flex-row md:flex-col items-center gap-2 w-full",children:[e.jsxs(C,{value:l.department,onValueChange:s=>{D(t=>({...t,department:s})),n(1)},children:[e.jsxs(S,{className:"w-full",children:[e.jsx(re,{className:"h-4 w-4 mr-2 text-gray-500"}),l.department==="All"?"All Departments":l.department]}),e.jsx(A,{children:z.map(s=>e.jsx(N,{value:s,children:s},s))})]}),e.jsxs(C,{value:l.status,onValueChange:s=>{D(t=>({...t,status:s})),n(1)},children:[e.jsxs(S,{className:"w-full",children:[e.jsx(le,{className:"h-4 w-4 mr-2 text-gray-500"}),l.status==="All"?"All Statuses":l.status]}),e.jsx(A,{children:q.map(s=>e.jsx(N,{value:s,children:s},s))})]})]})]}),e.jsx("div",{className:"rounded-md border block md:hidden",children:e.jsxs(X,{children:[e.jsx(K,{children:e.jsxs(k,{className:"bg-gray-50",children:[e.jsx(b,{children:"Faculty Member"}),e.jsx(b,{children:"Department"}),e.jsx(b,{className:"md:hidden",children:"Expertise"}),e.jsx(b,{children:"Status"}),e.jsx(b,{className:"text-center",children:"Actions"})]})}),e.jsx(Q,{children:i.length===0?e.jsx(k,{children:e.jsx(v,{colSpan:5,className:"text-center py-12 text-gray-500",children:"No faculty members found."})}):i.map(s=>e.jsxs(k,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(v,{className:"min-w-[250px]",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.designation})]})]})}),e.jsx(v,{className:"min-w-[150px]",children:s.department}),e.jsx(v,{className:"text-gray-600 md:hidden min-w-[200px]",children:e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.expertise.map(t=>e.jsx(T,{variant:"secondary",children:t},t))})}),e.jsx(v,{className:"min-w-[120px]",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${V[s.status]}`,children:s.status})}),e.jsxs(v,{className:"text-center min-w-[120px]",children:[e.jsx("button",{onClick:()=>I(s),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(B,{size:18})}),e.jsx("button",{onClick:()=>L(s.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(H,{size:18})})]})]},s.id))})]})}),e.jsx("div",{className:"hidden md:block space-y-3",children:i.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500 border rounded-xl",children:"No faculty members found."}):i.map(s=>e.jsx("div",{className:"border rounded-xl p-3 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200 shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-800 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.designation})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] font-semibold whitespace-nowrap ${V[s.status]}`,children:s.status})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Dept:"})," ",s.department]}),s.expertise.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:s.expertise.map(t=>e.jsx(T,{variant:"secondary",className:"text-[10px] py-0.5 px-2",children:t},t))}),e.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>I(s),className:"h-8 px-3",children:[e.jsx(B,{size:14,className:"mr-1"})," Edit"]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>L(s.id),className:"h-8 px-3",children:[e.jsx(H,{size:14,className:"mr-1"})," Delete"]})]})]})]})},s.id))}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600 order-2 md:order-1",children:["Showing ",a.length>0?(r-1)*o+1:0," to"," ",Math.min(r*o,a.length)," of ",a.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.max(1,s-1)),disabled:r===1,children:[e.jsx(ie,{className:"h-4 w-4 mr-1"}),"Prev"]}),e.jsxs("span",{className:"font-medium",children:[r," of ",d||1]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>n(s=>Math.min(d,s+1)),disabled:r>=d,children:["Next",e.jsx(ne,{className:"h-4 w-4 ml-1"})]})]})]})]}),e.jsx(de,{isOpen:g,onClose:()=>x(!1),onSave:M,initialData:j,departments:z.filter(s=>s!=="All"),expertiseOptions:G})]})}function de({isOpen:m,onClose:f,onSave:y,initialData:u,departments:l,expertiseOptions:D}){const[r,n]=c.useState({name:"",designation:"",expertise:[],department:l[0]||"",email:"",status:"Active",avatar:""});$.useEffect(()=>{n(u||{name:"",designation:"",expertise:[],department:l[0]||"",email:"",status:"Active",avatar:`https://avatar.iran.liara.run/public/${Math.floor(Math.random()*100)}`})},[u,m,l]);const o=a=>{a.preventDefault(),y(r)},g=a=>{const{name:i,value:d}=a.target;n(P=>({...P,[i]:d}))},x=(a,i)=>{n(d=>({...d,[a]:i}))},j=a=>{a&&!r.expertise.includes(a)&&n(i=>({...i,expertise:[...i.expertise,a]}))},F=a=>{n(i=>({...i,expertise:i.expertise.filter(d=>d!==a)}))};return e.jsx(W,{open:m,onOpenChange:f,children:e.jsxs(Y,{className:"md:w-[90%] overflow-auto max-h-[90vh]",children:[e.jsx(Z,{children:e.jsx(_,{className:"text-2xl font-bold",children:u?"Edit Faculty":"Add New Faculty"})}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"grid gap-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"name",className:"text-right",children:"Name"}),e.jsx(w,{id:"name",name:"name",value:r.name,onChange:g,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"designation",className:"text-right",children:"Designation"}),e.jsx(w,{id:"designation",name:"designation",value:r.designation,onChange:g,className:"col-span-3",placeholder:"e.g., Professor",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsx(h,{htmlFor:"expertise",className:"text-right pt-2",children:"Expertise"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(C,{onValueChange:j,children:[e.jsx(S,{children:e.jsx(E,{placeholder:"Add an expertise..."})}),e.jsx(A,{children:D.map(a=>e.jsx(N,{value:a,children:a},a))})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Array.isArray(r.expertise)&&r.expertise.map(a=>e.jsxs(T,{variant:"secondary",className:"pl-3 pr-1 py-1 text-sm",children:[a,e.jsx("button",{type:"button",onClick:()=>F(a),className:"ml-2 rounded-full hover:bg-gray-300 p-0.5","aria-label":`Remove ${a}`,children:e.jsx(J,{size:14})})]},a))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"email",className:"text-right",children:"Email"}),e.jsx(w,{id:"email",name:"email",type:"email",value:r.email,onChange:g,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"department",className:"text-right",children:"Department"}),e.jsxs(C,{value:r.department,onValueChange:a=>x("department",a),children:[e.jsx(S,{className:"col-span-3",children:e.jsx(E,{})}),e.jsx(A,{children:l.map(a=>e.jsx(N,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"status",className:"text-right",children:"Status"}),e.jsxs(C,{value:r.status,onValueChange:a=>x("status",a),children:[e.jsx(S,{className:"col-span-3",children:e.jsx(E,{})}),e.jsxs(A,{children:[e.jsx(N,{value:"Active",children:"Active"}),e.jsx(N,{value:"Inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"avatar",className:"text-right",children:"Avatar URL"}),e.jsx(w,{id:"avatar",name:"avatar",value:r.avatar,onChange:g,className:"col-span-3"})]})]}),e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(p,{type:"submit",children:"Save Changes"})]})]})]})})}function Ie(){return e.jsxs("div",{className:"flex flex-col min-h-0 bg-gray-50",children:[e.jsx(U,{}),e.jsx("main",{className:"flex-1 min-h-0 p-4 md:p-0",children:e.jsx(ce,{})})]})}export{Ie as default};
