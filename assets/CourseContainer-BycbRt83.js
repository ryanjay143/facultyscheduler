import{c as P,r as l,j as e,B as m,m as j}from"./index-1Ll9qi83.js";import{H as ee}from"./Header-CKJ93gu9.js";import{I as y}from"./input-BAUmZZww.js";import{T as I,L as N}from"./label-hIgZcbOv.js";import{P as q}from"./plus-CImTTc1Y.js";import{S as se}from"./search-CDeneNSB.js";import{S as E}from"./square-pen-z41BCx4R.js";import{A as k}from"./index-CKFBYMR-.js";import"./index-DY3tsZXR.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ae=P("book",te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ie=P("hash",re);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_=P("layers",ne);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oe=P("star",le),ce=[{id:1,name:"Bachelor of Science in Information Technology",abbreviation:"BSIT",subjects:{"1st Year, 1st Semester":[{code:"IT101",name:"Introduction to Computing",units:3},{code:"CS101",name:"Computer Programming 1",units:3}],"1st Year, 2nd Semester":[{code:"IT102",name:"Fundamentals of Database Systems",units:3}]}},{id:2,name:"Bachelor of Science in Computer Science",abbreviation:"BSCS",subjects:{"1st Year, 1st Semester":[{code:"CS110",name:"Discrete Mathematics",units:3}]}},{id:3,name:"Bachelor of Science in Business Administration",abbreviation:"BSBA",subjects:{"1st Year, 1st Semester":[{code:"BA101",name:"Principles of Management",units:3}]}},{id:4,name:"Bachelor of Arts in Communication",abbreviation:"BA Comm",subjects:{"1st Year, 1st Semester":[{code:"COMM101",name:"Intro to Mass Communication",units:3}]}}],Y=["from-purple-600 to-indigo-600","from-blue-500 to-teal-400","from-pink-500 to-rose-500","from-orange-500 to-amber-500","from-green-500 to-lime-500","from-cyan-500 to-sky-500"],de={hidden:{opacity:0,y:30},visible:a=>({opacity:1,y:0,transition:{delay:a*.05,type:"spring",stiffness:100}})},A={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},z={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.95}};function me(){const[a,o]=l.useState(ce),[n,d]=l.useState(""),[r,c]=l.useState(null),[u,h]=l.useState(!1),[x,v]=l.useState(!1),[b,C]=l.useState(!1),[M,T]=l.useState(null),[S,F]=l.useState(null),[w,L]=l.useState(null),H=()=>{T(null),h(!0)},$=s=>{T(s),h(!0)},U=s=>{window.confirm("Are you sure you want to delete this program and all its subjects? This action cannot be undone.")&&o(a.filter(t=>t.id!==s))},D=s=>{if(M)o(a.map(t=>t.id===M.id?{...t,...s}:t));else{const t={id:Date.now(),...s,subjects:{"1st Year, 1st Semester":[]}};o([...a,t])}h(!1)},V=s=>{F({semester:s,subject:null}),v(!0)},K=(s,t)=>{F({semester:s,subject:t}),v(!0)},R=(s,t,i)=>{if(!window.confirm(`Are you sure you want to delete subject ${i}?`))return;const g=a.map(p=>{if(p.id===s){const f={...p};return f.subjects[t]=f.subjects[t].filter(B=>B.code!==i),f}return p});o(g)},G=(s,t)=>{if(!r)return;const i=!!S?.subject,g=a.map(p=>{if(p.id===r.id){const f={...p,subjects:{...p.subjects}};if(i){const B=S.subject.code;f.subjects[s]=f.subjects[s].map(O=>O.code===B?t:O)}else f.subjects[s].push(t);return f}return p});o(g),v(!1)},J=()=>{L(null),C(!0)},Q=s=>{L(s),C(!0)},W=s=>{!r||!window.confirm(`Are you sure you want to delete the semester "${s}" and all its subjects? This action cannot be undone.`)||o(a.map(t=>{if(t.id===r.id){const i={...t.subjects};return delete i[s],{...t,subjects:i}}return t}))},X=s=>{if(!r||!s.trim())return;const t=!!w;o(a.map(i=>{if(i.id===r.id){const g={...i.subjects};if(g[s]&&s!==w)return alert("A semester with this name already exists."),i;if(t){const p=g[w];delete g[w],g[s]=p}else g[s]=[];return{...i,subjects:g}}return i})),C(!1)},Z=a.filter(s=>s.name.toLowerCase().includes(n.toLowerCase())||s.abbreviation.toLowerCase().includes(n.toLowerCase()));return l.useEffect(()=>{if(r){const s=a.find(t=>t.id===r.id);c(s||null)}},[a,r]),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen ",children:[e.jsxs("header",{className:"mb-8 flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Curriculum Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Add, edit, and manage academic programs and their subjects."})]}),e.jsxs(m,{onClick:H,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold px-5 py-3 rounded-lg shadow-lg hover:bg-purple-700 transition-transform hover:scale-105",children:[e.jsx(q,{size:20})," Add Program"]})]}),e.jsxs("div",{className:"mb-8 relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:22}),e.jsx(y,{type:"text",placeholder:"Search for a program...",className:"pl-12 pr-4 py-3 border border-gray-200 rounded-full w-full max-w-lg focus:ring-2 focus:ring-purple-400 transition shadow-sm",value:n,onChange:s=>d(s.target.value)})]}),e.jsx(j.div,{className:"grid grid-cols-1 md:grid-cols-1 gap-8",initial:"hidden",animate:"visible",children:Z.map((s,t)=>e.jsxs(j.div,{variants:de,custom:t,className:"bg-white rounded-2xl shadow-lg overflow-hidden group transition-all duration-300 hover:shadow-2xl flex flex-col",children:[e.jsxs("div",{className:`p-6 bg-gradient-to-br text-white relative ${Y[t%Y.length]}`,children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.abbreviation}),e.jsx("p",{className:"opacity-80 truncate",children:s.name}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>$(s),className:"p-2 bg-black/20 rounded-full hover:bg-black/40 transition-colors",children:e.jsx(E,{size:16})}),e.jsx("button",{onClick:()=>U(s.id),className:"p-2 bg-black/20 rounded-full hover:bg-red-500/80 transition-colors",children:e.jsx(I,{size:16})})]})]}),e.jsxs("div",{className:"p-6 flex-grow flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-center text-gray-600 mb-4",children:[e.jsx("span",{className:"font-semibold",children:"Total Subjects"}),e.jsx("span",{className:"px-3 py-1 bg-gray-300 text-gray-700 rounded-full font-bold text-sm",children:Object.values(s.subjects).flat().length})]}),e.jsx(m,{onClick:()=>c(s),variant:"outline",className:"w-full mt-2 shadow-lg hover:bg-primary hover:text-white transition-colors",children:"Manage Subjects"})]})]},s.id))}),e.jsx(k,{children:r&&e.jsx(j.div,{variants:A,initial:"hidden",animate:"visible",exit:"exit",className:"fixed inset-0 bg-black/70 flex justify-center items-center z-[100] p-4",onClick:()=>c(null),children:e.jsxs(j.div,{variants:z,className:"bg-gray-100 p-8 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:r.name}),e.jsx("p",{className:"text-purple-600 font-semibold",children:r.abbreviation})]}),e.jsxs(m,{onClick:J,className:"flex items-center gap-2 bg-primary",children:[e.jsx(_,{size:16})," Add New Semester"]})]}),e.jsx("div",{className:"overflow-y-auto space-y-6 pr-4",children:Object.keys(r.subjects).length===0?e.jsxs("div",{className:"text-center py-16 text-gray-500",children:[e.jsx(_,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:"font-semibold text-lg",children:"No Semesters Found"}),e.jsx("p",{children:'Click "Add New Semester" to get started.'})]}):Object.entries(r.subjects).map(([s,t])=>e.jsxs("div",{className:"group/semester",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 top-0 bg-gray-100 py-2 -mx-8 px-8 border-b border-t",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-700",children:s}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover/semester:opacity-100 transition-opacity",children:[e.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Q(s),children:e.jsx(E,{size:16})}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-100 hover:text-red-600",onClick:()=>W(s),children:e.jsx(I,{size:16})})]})]}),e.jsxs("div",{className:"space-y-3",children:[t.map(i=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center border border-gray-200 group/subject",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg text-purple-600",children:e.jsx(ae,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(ie,{size:14}),i.code]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(oe,{size:14}),i.units," Units"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover/subject:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>K(s,i),className:"p-2 text-gray-500 hover:text-blue-600",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>R(r.id,s,i.code),className:"p-2 text-gray-500 hover:text-red-600",children:e.jsx(I,{size:18})})]})]},i.code)),t.length===0&&e.jsx("p",{className:"text-gray-500 italic text-center py-4",children:"No subjects added for this semester."})]}),e.jsxs(m,{onClick:()=>V(s),variant:"link",className:"mt-2 text-purple-600 px-0",children:[e.jsx(q,{size:16,className:"mr-1"})," Add Subject to this Semester"]})]},s))})]})})}),e.jsx(k,{children:u&&e.jsx(ue,{onClose:()=>h(!1),onSave:D,initialData:M})}),e.jsx(k,{children:x&&S&&e.jsx(xe,{onClose:()=>v(!1),onSave:s=>G(S.semester,s),initialData:S.subject})}),e.jsx(k,{children:b&&e.jsx(be,{onClose:()=>C(!1),onSave:X,initialData:w})})]})}function ue({onClose:a,onSave:o,initialData:n}){const[d,r]=l.useState(n?.name||""),[c,u]=l.useState(n?.abbreviation||""),h=x=>{x.preventDefault(),d&&c&&o({name:d,abbreviation:c})};return e.jsx(j.div,{variants:A,initial:"hidden",animate:"visible",exit:"exit",className:"fixed inset-0 bg-black/60 flex justify-center items-center z-[101] p-4",onClick:a,children:e.jsxs(j.div,{variants:z,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",onClick:x=>x.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:n?"Edit Program":"Add New Program"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(N,{htmlFor:"progName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Program Name"}),e.jsx(y,{id:"progName",type:"text",value:d,onChange:x=>r(x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(N,{htmlFor:"progAbbr",className:"block text-sm font-medium text-gray-700 mb-1",children:"Abbreviation (e.g., BSIT)"}),e.jsx(y,{id:"progAbbr",type:"text",value:c,onChange:x=>u(x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(m,{type:"submit",children:"Save Program"})]})]})]})})}function xe({onClose:a,onSave:o,initialData:n}){const[d,r]=l.useState(n?.code||""),[c,u]=l.useState(n?.name||""),[h,x]=l.useState(n?.units||3),v=b=>{b.preventDefault(),d&&c&&h>0&&o({code:d,name:c,units:h})};return e.jsx(j.div,{variants:A,initial:"hidden",animate:"visible",exit:"exit",className:"fixed inset-0 bg-black/60 flex justify-center items-center z-[101] p-4",onClick:a,children:e.jsxs(j.div,{variants:z,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",onClick:b=>b.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:n?"Edit Subject":"Add New Subject"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(N,{htmlFor:"subCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Code"}),e.jsx(y,{id:"subCode",type:"text",value:d,onChange:b=>r(b.target.value),disabled:!!n,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400 disabled:bg-gray-100",required:!0}),!!n&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Subject code cannot be changed."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(N,{htmlFor:"subName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name"}),e.jsx(y,{id:"subName",type:"text",value:c,onChange:b=>u(b.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(N,{htmlFor:"subUnits",className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),e.jsx(y,{id:"subUnits",type:"number",min:"1",value:h,onChange:b=>x(Number(b.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(m,{type:"submit",children:"Save Subject"})]})]})]})})}function be({onClose:a,onSave:o,initialData:n}){const[d,r]=l.useState(n||""),c=u=>{u.preventDefault(),o(d)};return e.jsx(j.div,{variants:A,initial:"hidden",animate:"visible",exit:"exit",className:"fixed inset-0 bg-black/60 flex justify-center items-center z-[101] p-4",onClick:a,children:e.jsxs(j.div,{variants:z,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:n?"Edit Semester":"Add New Semester"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(N,{htmlFor:"semesterName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester Name"}),e.jsx(y,{id:"semesterName",value:d,onChange:u=>r(u.target.value),placeholder:"e.g., 2nd Year, 1st Semester",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-400",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[e.jsx(m,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(m,{type:"submit",children:"Save Semester"})]})]})]})})}function we(){return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[e.jsx("div",{children:e.jsx(ee,{})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsx(me,{})})]})}export{we as default};
