const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-nToRZ2zG.js","assets/index-jewFnda3.js","assets/index-CIBEs6Lf.css"])))=>i.map(i=>d[i]);
import{c as ce,r as x,j as e,R as Te,a as V,B as G,d as we,A as J,m as K,e as ie,f as Me,b as le,U as ne,F as be,g as $e,_ as ge}from"./index-jewFnda3.js";import{T as Z,a as ee,b as R,c as E,d as te,e as _}from"./table-Cff0lIBG.js";import{S as C,a as F,b as I,c as D,d as T}from"./select-D4GS9LRo.js";import{L as Y}from"./loader-circle-CALl4o6w.js";import{F as Ce}from"./funnel-CwtRiCHc.js";import{I as Fe}from"./input-FCWlxxaT.js";import{S as Ie}from"./search-C2F7uf3w.js";import{C as De}from"./clipboard-list-DKOHj1Qr.js";import"./Combination-Dvpv-IvI.js";import"./check-C4K5SOAd.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Re=ce("chart-bar",Pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],de=ce("graduation-cap",ze);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ve=ce("grid-3x3",He),je=s=>{try{const[i,p]=s.split(":").map(Number),m=i>=12?"PM":"AM";return`${i%12||12}:${String(p).padStart(2,"0")}${m}`}catch{return s}},Ve=s=>{const i=new Map;s.forEach(m=>{i.has(m.faculty_id)||i.set(m.faculty_id,[]),i.get(m.faculty_id).push(m)});const p=[];return i.forEach(m=>{const d=m[0].faculty,j=d.id,w=d.user.name,v=m.map(a=>{let o=0;a.type==="LEC"?o=a.subject.total_lec_hrs??a.subject.lec_units??0:a.type==="LAB"&&(o=a.subject.total_lab_hrs??a.subject.lab_units??0);const c=je(a.start_time),n=je(a.end_time),l=a.subject.des_title;return{loadCode:`${a.subject.subject_code} ${a.type}`,payingHours:o,section:a.section,day:a.day,time:`${c}-${n}`,room:a.room.roomNumber,remarks:l,remarkRowSpan:0}});v.sort((a,o)=>a.remarks.localeCompare(o.remarks));const h=[];for(let a=0;a<v.length;a++){const o=v[a];if(a===0||v[a].remarks!==v[a-1].remarks){const c=o.remarks;let n=1;for(let l=a+1;l<v.length&&v[l].remarks===c;l++)n++;o.remarkRowSpan=n}h.push(o)}const S=d.t_load_units,u=h.reduce((a,o)=>a+(o.remarkRowSpan>0?1:0),0),g=v.reduce((a,o)=>a+o.payingHours,0),r=Math.max(0,g-S),b=g.toString();p.push({facultyId:j,name:w,loadString:b,calculatedLoad:S,preps:u,overload:r,subjects:h})}),p.sort((m,d)=>m.name.localeCompare(d.name)),p};function Oe(){const[s,i]=x.useState("all"),[p,m]=x.useState([]),[d,j]=x.useState(!0),[w,v]=x.useState(!1),[h,S]=x.useState(""),u="get-facultyLoading-reports",g="accessToken";x.useEffect(()=>{(async()=>{j(!0),v(!1),S("");const c=localStorage.getItem(g);if(!c){j(!1),v(!0),S("Authentication token not found in Local Storage. Please log in.");return}try{const l=(await V.get(u,{headers:{Authorization:`Bearer ${c}`,Accept:"application/json"}})).data;if(l.success&&Array.isArray(l.facultyLoading))m(l.facultyLoading);else throw new Error("Invalid data structure or success: false received")}catch(n){console.error("Error fetching data with axios:",n),v(!0),V.isAxiosError(n)&&n.response?S(`API Error: ${n.response.statusText} (${n.response.status}). Is the token valid?`):S("Network error or failed to connect to the API.")}finally{j(!1)}})()},[]);const r=x.useMemo(()=>Ve(p),[p]),b=x.useMemo(()=>s==="all"?r:r.filter(o=>o.facultyId.toString()===s),[s,r]),a=x.useMemo(()=>{const o=new Map;return r.forEach(n=>o.set(n.facultyId,n.name)),Array.from(o.entries()).map(([n,l])=>({id:n,name:l})).sort((n,l)=>n.name.localeCompare(l.name))},[r]);return d?e.jsxs("div",{className:"p-10 text-center flex flex-col items-center justify-center text-primary",children:[e.jsx(Y,{className:"h-8 w-8 animate-spin mb-3"}),e.jsx("p",{children:"Loading faculty load reports..."})]}):w?e.jsxs("div",{className:"p-10 text-center text-destructive border border-destructive/50 rounded-lg",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Failed to Load Data"}),e.jsx("p",{children:h||"An unknown error occurred while fetching the data."})]}):e.jsxs("div",{className:"bg-card p-4 md:p-6 rounded-lg shadow-sm border border-border",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(C,{value:s,onValueChange:i,children:[e.jsxs(F,{className:"w-full md:w-64",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(I,{placeholder:"Filter by Faculty"})]}),e.jsxs(D,{children:[e.jsx(T,{value:"all",children:"All Faculty"}),a.map(o=>e.jsx(T,{value:o.id.toString(),children:o.name},o.id))]})]})}),e.jsx("div",{className:"rounded-lg border overflow-x-auto",children:e.jsx("div",{children:e.jsxs(Z,{className:"w-full",children:[e.jsx(ee,{className:"bg-card sticky top-0 z-10",children:e.jsxs(R,{children:[e.jsx(E,{className:"w-[100px] border-r",children:"Name of Faculty"}),e.jsx(E,{className:"w-[100px] border-r",children:"Load"}),e.jsx(E,{className:"w-[80px] border-r",children:"Section"}),e.jsx(E,{className:"text-center w-[100px] border-r",children:"Paying Hours"}),e.jsx(E,{className:"w-[80px]",children:"Day"}),e.jsx(E,{className:"w-[150px]",children:"Time"}),e.jsx(E,{className:"w-[80px] border-r",children:"Room"}),e.jsx(E,{className:"min-w-[250px] border-r",children:"Remarks"}),e.jsx(E,{className:"w-[80px] text-right border-r",children:"Total Load"}),e.jsx(E,{className:"w-[100px] text-center",children:"Preps"})]})}),e.jsxs(te,{children:[b.map((o,c)=>{const n=o.subjects.length,l=o.overload>0,f=c%2===1?"bg-accent/10":"";return n===0?null:e.jsx(Te.Fragment,{children:o.subjects.map((t,y)=>{const N=y===n-1,k=y===0,L=t.remarkRowSpan>0,$=t.section&&t.section.trim()!=="";return e.jsxs(R,{className:`${f} ${N?"border-b-4 border-gray-300":"border-b border-border/50"}`,children:[k&&e.jsx(_,{rowSpan:n,className:"font-bold text-base align-top border-r whitespace-nowrap",children:o.name}),e.jsx(_,{className:"text-sm font-medium border-r uppercase",children:t.loadCode}),e.jsx(_,{className:"text-sm border-r whitespace-nowrap",children:$?t.section:e.jsxs("span",{className:"inline-flex items-center rounded-md bg-destructive/10 px-2 py-1 text-xs font-medium text-destructive ring-1 ring-inset ring-destructive/20",children:["Unassigned ",e.jsx("br",{}),"Section"]})}),e.jsx(_,{className:"text-center font-medium border-r",children:t.payingHours||""}),e.jsx(_,{className:"text-sm",children:t.day}),e.jsx(_,{className:"text-sm",children:t.time}),e.jsx(_,{className:"text-sm border-r",children:t.room}),L&&e.jsx(_,{rowSpan:t.remarkRowSpan,className:"text-sm text-muted-foreground border-r whitespace-normal align-top",children:t.remarks}),k&&e.jsx(_,{rowSpan:n,className:"text-center font-bold text-lg align-top border-r",children:e.jsxs("div",{className:"py-1",children:[e.jsx("span",{className:"text-xl font-bold",children:o.loadString}),l&&e.jsxs("div",{className:"text-destructive font-semibold text-xs mt-1",children:["overload ",o.overload]})]})}),k&&e.jsx(_,{rowSpan:n,className:"text-center align-top",children:o.preps===1?"prep":`${o.preps} preps`})]},`${o.facultyId}-${y}`)})},o.facultyId)}),b.length===0&&e.jsx(R,{children:e.jsx(_,{colSpan:10,className:"h-24 text-center text-muted-foreground",children:"No faculty load data found for the selected filter."})})]})]})})})]})}const Ne=64,re=60,Ke=s=>{const i=Math.floor(s/60),p=s%60,m=i>=12?"PM":"AM",d=i%12||12;return`${String(d)}:${String(p).padStart(2,"0")}${m}`},Ye=(s=7,i=21,p=re)=>{const m=[],d=s*60,j=i*60;for(let w=d;w<j;w+=p)m.push(Ke(w));return m},P=Ye(7,21,re),X=[{value:"all",label:"All Days (Unfiltered)",days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},{value:"Monday",label:"Monday Schedule",days:["Monday"]},{value:"Tuesday",label:"Tuesday Schedule",days:["Tuesday"]},{value:"Wednesday",label:"Wednesday Schedule",days:["Wednesday"]},{value:"Thursday",label:"Thursday Schedule",days:["Thursday"]},{value:"Friday",label:"Friday Schedule",days:["Friday"]},{value:"Saturday",label:"Saturday Schedule",days:["Saturday"]}],We=[{value:"all",label:"All Classes"},{value:"LEC",label:"Lecture (LEC)"},{value:"LAB",label:"Laboratory (LAB)"}],Q=s=>{try{const[i,p]=s.split(":").map(Number),m=i>=12?"PM":"AM";return`${i%12||12}:${String(p).padStart(2,"0")}${m}`}catch{return s}},O=s=>{const[i,p]=s.split(":").map(Number);return i*60+p},Se=s=>{const i=s.match(/(\d{1,2}):(\d{2})(am|pm)/i);if(!i)return"";let p=parseInt(i[1],10);const m=i[2],d=i[3].toLowerCase();return d==="pm"&&p!==12&&(p+=12),d==="am"&&p===12&&(p=0),`${String(p).padStart(2,"0")}:${m}`},Ue=s=>{const i={},p=new Set;return s.forEach(m=>{const d=m.faculty_loading,j=d.room.roomNumber,w=d.subject.subject_code,v=d.faculty.user.name,h=m.section,S=d.type,u=`${Q(d.start_time)}-${Q(d.end_time)}`,g=d.start_time.substring(0,5),r=d.end_time.substring(0,5),b=O(g),o=O(r)-b,c=Math.ceil(o/re);if(c<=0)return;const n=c*Ne;for(let l=0;l<P.length;l++){const f=P[l],t=Se(f);if(!t)continue;const y=O(t);if(b===y){const N=`${j}_${f}`,k=e.jsxs("div",{style:{height:`${n}px`,marginTop:"0px"},className:"absolute w-full top-0 left-0 text-center flex flex-col justify-center p-1.5 bg-green-100/80 border-2 border-green-300 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer z-10",children:[e.jsxs("span",{className:"font-extrabold uppercase text-sm text-green-800 leading-tight block",children:[w," ",h]}),e.jsx("span",{className:"text-xs font-medium text-gray-700 mt-1 block",children:v}),e.jsxs("span",{className:"text-xs text-green-700/80 mt-0.5 block",children:[d.day," | ",u," | ",d.room.roomNumber," | ",S]})]});i[N]={content:k,rowSpan:c};for(let L=1;L<c;L++)l+L<P.length&&p.add(`${j}_${P[l+L]}`);break}}}),{gridData:i,coveredKeys:p}},qe=s=>{const i={},p=new Set;return s.forEach(m=>{const d=m.faculty_loading,j=`${m.year_level}-${m.section}`,w=d.subject.subject_code,v=d.faculty.user.name,h=d.room.roomNumber,S=d.type,u=`${Q(d.start_time)}-${Q(d.end_time)}`,g=d.start_time.substring(0,5),r=d.end_time.substring(0,5),b=O(g),o=O(r)-b,c=Math.ceil(o/re);if(c<=0)return;const n=c*Ne;for(let l=0;l<P.length;l++){const f=P[l],t=Se(f);if(!t)continue;const y=O(t);if(b===y){const N=`${j}_${f}`,k=e.jsxs("div",{style:{height:`${n}px`,marginTop:"0px"},className:"absolute w-full top-0 left-0 text-center flex flex-col justify-center p-1.5 bg-blue-100/80 border-2 border-blue-300 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer z-10",children:[e.jsxs("span",{className:"font-extrabold uppercase text-sm text-blue-800 leading-tight block",children:[w," (",S,")"]}),e.jsx("span",{className:"text-xs font-medium text-gray-700 mt-1 block",children:v}),e.jsxs("span",{className:"text-xs text-blue-700/80 mt-0.5 block",children:[d.day," | ",u," | ",h]})]});i[N]={content:k,rowSpan:c};for(let L=1;L<c;L++)l+L<P.length&&p.add(`${j}_${P[l+L]}`);break}}}),{gridData:i,coveredKeys:p}};function Be({rooms:s,filteredScheduleData:i,selectedDayFilter:p,setSelectedDayFilter:m,selectedClassType:d,setSelectedClassType:j,roomSearchQuery:w,setRoomSearchQuery:v}){return e.jsx(J,{mode:"wait",children:e.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"bg-card p-4 md:p-6 rounded-xl shadow-2xl border-2 border-border overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4 gap-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-700 flex items-center",children:[e.jsx(we,{className:"h-5 w-5 mr-2 text-primary"})," Room Schedule Filters"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[e.jsxs(C,{value:p,onValueChange:m,children:[e.jsxs(F,{className:"w-full sm:w-[180px] border-primary/50 shadow-sm",children:[e.jsx(ie,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Select Day"})]}),e.jsx(D,{children:X.map(h=>e.jsx(T,{value:h.value,children:h.label},h.value))})]}),e.jsxs(C,{value:d,onValueChange:h=>j(h),children:[e.jsxs(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:[e.jsx(ve,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Class Type"})]}),e.jsx(D,{children:We.map(h=>e.jsx(T,{value:h.value,children:h.label},h.value))})]}),e.jsxs("div",{className:"relative w-full sm:w-[200px]",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Fe,{placeholder:"Search Room...",value:w,onChange:h=>v(h.target.value),className:"pl-10 border-primary/50 shadow-sm"})]})]})]}),e.jsx("div",{children:e.jsxs(Z,{className:"w-full table-fixed border-collapse border-primary/20",children:[e.jsx(ee,{className:"bg-primary sticky top-0 z-50 shadow-lg",children:e.jsxs(R,{children:[e.jsx(E,{className:"w-[150px] border-r border-b border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Time Slot"}),s.map(h=>e.jsx(E,{className:"w-[150px] border-r border-b border-primary-foreground/30 text-center font-extrabold whitespace-nowrap text-primary-foreground text-sm uppercase",children:h},h))]})}),e.jsx(te,{children:P.map(h=>e.jsxs(R,{className:"h-16 border-b border-gray-200 hover:bg-muted/50 transition-colors duration-200",children:[e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-middle p-2 font-bold text-xs whitespace-pre-line bg-muted/40 text-gray-700 sticky left-0 z-5",children:h}),s.map(S=>{const u=`${S}_${h}`,g=i.gridData[u];return i.coveredKeys.has(u)&&!g?e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm border-dashed border-gray-300 bg-background/50 relative"},u):g?e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm relative",children:g.content},u):e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm border-dashed border-gray-300 bg-background/50 relative"},u)})]},h))})]})})]},"room-schedule-content")})}function Ge({backendData:s}){const[i,p]=x.useState("all"),[m,d]=x.useState("all"),[j,w]=x.useState("all"),v=x.useMemo(()=>{const r=new Set;return s.forEach(b=>b.year_level&&r.add(b.year_level)),["all",...Array.from(r).sort()]},[s]),h=x.useMemo(()=>{const r=new Set;return s.forEach(b=>b.program?.abbreviation&&r.add(b.program.abbreviation)),["all",...Array.from(r).sort()]},[s]),S=x.useMemo(()=>{const r=X.find(a=>a.value===i),b=r?r.days:[];return s.filter(a=>{const o=b.includes(a.faculty_loading.day),c=m==="all"||String(a.year_level)===m,n=j==="all"||a.program?.abbreviation===j;return o&&c&&n})},[i,s,m,j]),u=x.useMemo(()=>{const r=new Set;return S.forEach(b=>{b.year_level&&b.section&&r.add(`${b.year_level}-${b.section}`)}),Array.from(r).sort((b,a)=>b.localeCompare(a))},[S]),g=x.useMemo(()=>qe(S),[S]);return e.jsx(J,{mode:"wait",children:e.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"bg-card p-4 md:p-6 rounded-xl shadow-2xl border-2 border-border overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4 gap-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-700 flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2 text-primary"})," Year Level Schedule Filters"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[e.jsxs(C,{value:i,onValueChange:p,children:[e.jsxs(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:[e.jsx(ie,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Select Day"})]}),e.jsx(D,{children:X.map(r=>e.jsx(T,{value:r.value,children:r.label},r.value))})]}),e.jsxs(C,{value:m,onValueChange:d,children:[e.jsx(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:e.jsx(I,{placeholder:"Year Level"})}),e.jsxs(D,{children:[e.jsx(T,{value:"all",children:"All Year Levels"}),v.filter(r=>r!=="all").map(r=>e.jsxs(T,{value:String(r),children:["Year ",r]},r))]})]}),e.jsxs(C,{value:j,onValueChange:w,children:[e.jsx(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:e.jsx(I,{placeholder:"Program"})}),e.jsx(D,{children:h.map(r=>e.jsx(T,{value:r,children:r==="all"?"All Programs":r},r))})]})]})]}),e.jsxs("div",{children:[e.jsxs(Z,{className:"w-full table-fixed border-collapse border-primary/20",children:[e.jsx(ee,{className:"bg-primary sticky top-0 z-50 shadow-lg",children:e.jsxs(R,{children:[e.jsx(E,{className:"w-[150px] border-r border-b border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Time Slot"}),u.map(r=>e.jsx(E,{className:"w-[150px] border-r border-b border-primary-foreground/30 text-center font-extrabold whitespace-nowrap text-primary-foreground text-sm uppercase",children:r.replace("-"," - Section ")},r))]})}),e.jsx(te,{children:P.map(r=>e.jsxs(R,{className:"h-16 border-b border-gray-200 hover:bg-muted/50 transition-colors duration-200",children:[e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-middle p-2 font-bold text-xs whitespace-pre-line bg-muted/40 text-gray-700 sticky left-0 z-5",children:r}),u.map(b=>{const a=`${b}_${r}`,o=g.gridData[a];return g.coveredKeys.has(a)&&!o?e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm border-dashed border-gray-300 bg-background/50 relative"},a):o?e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm relative",children:o.content},a):e.jsx(_,{className:"w-[150px] border-r border-r-gray-300 align-top p-0 text-center text-sm border-dashed border-gray-300 bg-background/50 relative"},a)})]},r))})]}),u.length===0&&e.jsx("div",{className:"p-8 text-center text-muted-foreground bg-muted/50 rounded-lg mt-4",children:"No schedule data found for the selected filters."})]})]},"yearlevel-schedule-content")})}const Xe="get-classSchedule-reports",Qe="accessToken";function Je(){const[s,i]=x.useState("room"),[p,m]=x.useState([]),[d,j]=x.useState(!0),[w,v]=x.useState(!1),[h,S]=x.useState("all"),[u,g]=x.useState("all"),[r,b]=x.useState("");x.useEffect(()=>{(async()=>{j(!0),v(!1);const l=localStorage.getItem(Qe);if(!l){j(!1);return}try{const f=await V.get(Xe,{headers:{Authorization:`Bearer ${l}`,Accept:"application/json"}});if(f.data.success&&Array.isArray(f.data.classSchedule))m(f.data.classSchedule);else throw new Error("Invalid data structure")}catch(f){console.error("Error fetching class schedule:",f),v(!0)}finally{j(!1)}})()},[]);const a=x.useMemo(()=>{const n=X.find(f=>f.value===h),l=n?n.days:[];return p.filter(f=>{const t=l.includes(f.faculty_loading.day),y=u==="all"||f.faculty_loading.type===u;return t&&y})},[h,p,u]),o=x.useMemo(()=>{const n=new Set;return a.forEach(l=>{const f=l?.faculty_loading?.room?.roomNumber;f&&f.toString().trim()!==""&&n.add(f.toString())}),Array.from(n).filter(l=>l.toLowerCase().includes(r.toLowerCase())).sort((l,f)=>l.localeCompare(f))},[a,r]),c=x.useMemo(()=>{const n=a.filter(l=>o.includes(l.faculty_loading.room.roomNumber));return Ue(n)},[a,o]);return d?e.jsxs("div",{className:"p-10 text-center flex flex-col items-center justify-center text-primary",children:[e.jsx(Y,{className:"h-8 w-8 animate-spin mb-3"}),e.jsx("p",{children:"Loading class schedules..."})]}):w?e.jsx("div",{className:"p-10 text-center text-destructive border border-destructive/50 rounded-lg",children:"Error loading class schedule data."}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"border-b border-border mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-1 bg-muted p-1 rounded-lg",children:[e.jsxs(G,{variant:s==="room"?"default":"ghost",onClick:()=>i("room"),className:"flex items-center gap-2 px-4 py-2 h-9 text-sm font-semibold transition-all",children:[e.jsx(we,{size:16})," Room Schedule View"]}),e.jsxs(G,{variant:s==="yearLevel"?"default":"ghost",onClick:()=>i("yearLevel"),className:"flex items-center gap-2 px-4 py-2 h-9 text-sm font-semibold transition-all",children:[e.jsx(de,{size:16})," Year Level View"]})]})}),s==="room"&&e.jsx(Be,{rooms:o,filteredScheduleData:c,selectedDayFilter:h,setSelectedDayFilter:S,selectedClassType:u,setSelectedClassType:g,roomSearchQuery:r,setRoomSearchQuery:b}),s==="yearLevel"&&e.jsx(Ge,{backendData:p})]})}function Ze(){const[s,i]=x.useState([]),[p,m]=x.useState(!0),[d,j]=x.useState(null),w=21,v=3,h=w+v;return x.useEffect(()=>{(async()=>{try{m(!0),j(null);const u=localStorage.getItem("accessToken");if(!u){j("Authentication token not found. Please log in."),m(!1);return}const g={headers:{Authorization:`Bearer ${u}`}},r=await V.get("get-faculty-loading",g);if(!r.data||!r.data.success||!Array.isArray(r.data.data)){j("Invalid response from server when fetching faculty loading."),m(!1);return}const b=r.data.data,a=new Map;b.forEach(c=>{const n=c.faculty?.id??c.faculty_id,l=c.faculty?.user?.name??`Faculty ${n}`;let f=0;c.type==="LEC"?f=c.subject.total_lec_hrs??c.subject.lec_units??0:c.type==="LAB"?f=c.subject.total_lab_hrs??c.subject.lab_units??0:f=(c.subject.total_lec_hrs??c.subject.lec_units??0)+(c.subject.total_lab_hrs??c.subject.lab_units??0);const t=c.faculty&&typeof c.faculty.t_load_units=="number"?c.faculty.t_load_units:w,y=c.faculty&&typeof c.faculty.overload_units=="number"?c.faculty.overload_units:v,N=a.get(n);N?N.sum+=f:a.set(n,{name:l,sum:f,limit:t,overloadUnits:y})});const o=Array.from(a.entries()).map(([c,n])=>({facultyId:c,name:n.name,t_load_units:n.sum,limit:n.limit,overloadUnits:n.overloadUnits}));o.sort((c,n)=>c.name.localeCompare(n.name)),i(o)}catch(u){const g=V.isAxiosError(u)&&u.response?.data?.message?u.response.data.message:"Could not connect to the server or fetch data.";console.error("Error fetching faculty workload data:",u),j(g)}finally{m(!1)}})()},[]),p?e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Faculty Workload Management"}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm border text-center text-muted-foreground flex flex-col items-center justify-center",children:[" ",e.jsx(Y,{className:"h-8 w-8 animate-spin mb-3 text-primary"})," ",e.jsx("p",{children:"Loading Faculty Workloads..."})," "]})]}):d?e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-destructive",children:"Data Error"}),e.jsx("div",{className:"bg-card p-6 rounded-lg shadow-sm border border-destructive text-center text-destructive",children:e.jsxs("p",{children:["Error: ",d]})})]}):s.length===0?e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Faculty Workload Management"}),e.jsx("div",{className:"bg-card p-6 rounded-lg shadow-sm border text-center text-muted-foreground",children:e.jsx("p",{children:"No active faculty found to display workload data."})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"pb-2",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-3",children:[e.jsx(Re,{className:"h-6 w-6 text-primary"}),"Faculty Workload Management"]}),e.jsxs("p",{className:"text-muted-foreground text-sm mt-1 ml-9",children:["Overview of current unit loads vs. a standard teaching load of ",e.jsxs("span",{className:"font-semibold",children:[w," units"]})," with an allowed overload of ",e.jsxs("span",{className:"font-semibold",children:[v," units"]})," (Total: ",h," units)."]})]}),e.jsx("div",{className:"bg-card p-4 md:p-6 rounded-lg shadow-sm border border-border",children:e.jsx("div",{className:"space-y-6",children:s.map(S=>{const u=S.t_load_units,g=S.limit||w,r=S.overloadUnits??v,b=g+r;let a="text-primary",o="";return u>b?(a="text-red-600",o=`(EXCESSIVE OVERLOAD +${u-b})`):u>g?(a="text-yellow-500",o=`(OVERLOAD +${u-g} of ${r})`):u===g?(a="text-primary",o="(FULL LOAD)"):(a="text-muted-foreground",o=`(${g-u} units left)`),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold text-foreground",children:S.name})]}),e.jsxs("span",{className:`font-mono font-bold ${a}`,children:[u,"/",g,o&&e.jsx("span",{className:`ml-1 text-sm ${a}`,children:o})]})]}),e.jsx("div",{className:"w-full h-3 rounded overflow-hidden bg-border",children:(()=>{const c=g,n=b,l=Math.max(u,n,1),f=Math.max(0,Math.min(u,c)),t=Math.max(0,Math.min(u,n)-c),y=Math.max(0,u-n),N=f/l*100,k=t/l*100,L=y/l*100;return e.jsxs("div",{className:"flex h-3 w-full",children:[e.jsx("div",{style:{width:`${N}%`},className:"bg-primary"}),e.jsx("div",{style:{width:`${k}%`},className:"bg-yellow-500"}),e.jsx("div",{style:{width:`${L}%`},className:"bg-red-600"})]})})()})]},S.name)})})})]})}const et=(s,i)=>{try{const p=m=>{const[d,j]=m.split(":").map(Number),w=d>=12?"pm":"am";return`${d%12||12}:${String(j).padStart(2,"0")}${w}`};return`${p(s.substring(0,5))}-${p(i.substring(0,5))}`}catch{return`${s}-${i}`}},tt="get-classSchedule-reports",rt="accessToken",st=()=>{const[s,i]=x.useState([]),[p,m]=x.useState(!0),[d,j]=x.useState(!1),[w,v]=x.useState("all"),[h,S]=x.useState("all"),[u,g]=x.useState("all"),[r,b]=x.useState("all");x.useEffect(()=>{(async()=>{m(!0),j(!1);const y=localStorage.getItem(rt);if(!y){m(!1),j(!0);return}try{const N=await V.get(tt,{headers:{Authorization:`Bearer ${y}`,Accept:"application/json"}});if(N.data.success&&Array.isArray(N.data.classSchedule))i(N.data.classSchedule);else throw new Error("Invalid data structure or API response")}catch(N){console.error("Error fetching study load:",N),j(!0)}finally{m(!1)}})()},[]);const a=x.useMemo(()=>{const t=new Set;return s.forEach(y=>y.program?.abbreviation&&t.add(y.program.abbreviation)),["all",...Array.from(t).sort()]},[s]),o=x.useMemo(()=>{const t=new Set;return s.forEach(y=>y.year_level&&t.add(y.year_level)),["all",...Array.from(t).sort((y,N)=>y-N)]},[s]),c=x.useMemo(()=>{const t=new Set;return s.filter(y=>(w==="all"||y.program?.abbreviation===w)&&(h==="all"||String(y.year_level)===h)).forEach(y=>y.section&&t.add(y.section)),["all",...Array.from(t).sort()]},[s,w,h]),n=x.useMemo(()=>{const t=new Set;return s.forEach(y=>{const N=y.faculty_loading?.faculty?.user?.name;N&&t.add(N)}),["all",...Array.from(t).sort()]},[s]),l=x.useMemo(()=>s.filter(t=>{const y=w==="all"||t.program?.abbreviation===w,N=h==="all"||String(t.year_level)===h,k=u==="all"||t.section===u,L=t.faculty_loading?.faculty?.user?.name||"";return y&&N&&k&&(r==="all"||L===r)}).map(t=>({course:`${t.faculty_loading.subject.subject_code} ${t.year_level}`.trim(),section:t.section,type:t.faculty_loading.type,day:t.faculty_loading.day,time:et(t.faculty_loading.start_time,t.faculty_loading.end_time),room:t.faculty_loading.room?.roomNumber||"N/A",teacher:t.faculty_loading.faculty.user.name})),[s,w,h,u,r]),f=x.useMemo(()=>{const t=w!=="all"?w:"",y=h!=="all"?`${h} Year`:"",N=u!=="all"?u:"",k=r!=="all"?r:"",L=[y,N,t].filter(se=>se);let $=L.join(" ");return L.length===0&&($="Entire Study Load"),r!=="all"&&$!=="Entire Study Load"?$+=` (Assigned to: ${k})`:r!=="all"&&($=`Assigned to: ${k}`),$},[w,h,u,r]);return p?e.jsxs("div",{className:"p-10 text-center flex flex-col items-center justify-center text-primary bg-card rounded-xl shadow-lg border border-border min-h-[300px]",children:[e.jsx(Y,{className:"h-8 w-8 animate-spin mb-3"}),e.jsx("p",{children:"Loading student study load data..."})]}):d?e.jsx("div",{className:"p-10 text-center text-destructive border border-destructive/50 rounded-lg bg-card shadow-lg min-h-[300px]",children:"Error loading student study load data. Please check the API and your connection."}):e.jsx(J,{mode:"wait",children:e.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"bg-card p-4 md:p-6 rounded-xl shadow-2xl border-2 border-border overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4 gap-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-700 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-primary"})," Student Study Load Filters"]}),e.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[e.jsxs(C,{value:w,onValueChange:v,children:[e.jsxs(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:[e.jsx(de,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Program"})]}),e.jsx(D,{children:a.map(t=>e.jsx(T,{value:t,children:t==="all"?"All Programs":t},t))})]}),e.jsxs(C,{value:h,onValueChange:S,children:[e.jsxs(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:[e.jsx(ve,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Year Level"})]}),e.jsxs(D,{children:[e.jsx(T,{value:"all",children:"All Year Levels"}),o.filter(t=>t!=="all").map(t=>e.jsxs(T,{value:String(t),children:["Year ",t]},t))]})]}),e.jsxs(C,{value:u,onValueChange:g,children:[e.jsxs(F,{className:"w-full sm:w-[150px] border-primary/50 shadow-sm",children:[e.jsx(ne,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Section"})]}),e.jsx(D,{children:c.map(t=>e.jsx(T,{value:t,children:t==="all"?"All Sections":t},t))})]}),e.jsxs(C,{value:r,onValueChange:b,children:[e.jsxs(F,{className:"w-full sm:w-[180px] border-primary/50 shadow-sm",children:[e.jsx(ne,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx(I,{placeholder:"Faculty"})]}),e.jsxs(D,{children:[e.jsx(T,{value:"all",children:"All Faculty"}),n.filter(t=>t!=="all").map(t=>e.jsx(T,{value:t,children:t},t))]})]})]})]}),e.jsxs("div",{className:"border border-border rounded-lg shadow-inner overflow-hidden",children:[e.jsx("div",{className:"p-3",children:e.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider",children:f})}),e.jsxs(Z,{className:"w-full border-collapse",children:[e.jsx(ee,{className:"bg-primary sticky top-0 z-10",children:e.jsxs(R,{className:"border-b-0",children:[e.jsxs(E,{className:"w-[18%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:[" ","Subject / Course"]}),e.jsx(E,{className:"w-[8%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Section"}),e.jsxs(E,{className:"w-[8%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:[" ","Type"]}),e.jsx(E,{className:"w-[10%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Day"}),e.jsx(E,{className:"w-[15%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Time"}),e.jsx(E,{className:"w-[10%] border-r border-primary-foreground/30 text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Room"}),e.jsx(E,{className:"w-[20%] text-center font-extrabold text-primary-foreground text-sm uppercase",children:"Teacher"})]})}),e.jsx(te,{children:l.length>0?l.map((t,y)=>e.jsxs(R,{className:"border-b border-gray-200 hover:bg-muted/50 transition-colors",children:[e.jsx(_,{className:"border-r border-gray-300 align-middle p-2 text-sm font-medium text-gray-800",children:t.course}),e.jsx(_,{className:"border-r border-gray-300 align-middle p-2 text-center text-sm font-semibold text-gray-700",children:t.section}),e.jsxs(_,{className:"border-r border-gray-300 align-middle p-2 text-center text-sm font-semibold text-gray-700 uppercase",children:[" ",t.type==="LEC"?"Lecture":t.type==="LAB"?"Laboratory":t.type]}),e.jsx(_,{className:"border-r border-gray-300 align-middle p-2 text-center text-sm font-semibold text-gray-700",children:t.day}),e.jsx(_,{className:"border-r border-gray-300 align-middle p-2 text-center text-sm text-gray-700 whitespace-nowrap",children:t.time}),e.jsx(_,{className:"border-r border-gray-300 align-middle p-2 text-center text-sm text-gray-700",children:t.room}),e.jsx(_,{className:"align-middle p-2 text-sm text-gray-700",children:t.teacher})]},y)):e.jsx(R,{children:e.jsxs(_,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:[" ","No study load data found for the selected filters."]})})})]})]})]},"studyload-content")})};function at(){const[s,i]=x.useState("loading"),[p,m]=x.useState({totalFaculty:0,assignedSubjects:0,totalUnitsLoaded:0}),[d,j]=x.useState(!0),[w,v]=x.useState(null);x.useEffect(()=>{(async()=>{try{j(!0),v(null);const r=localStorage.getItem("accessToken");if(!r){v("Authentication token not found. Please log in."),j(!1);return}const b={headers:{Authorization:`Bearer ${r}`}},a=await V.get("reports/kpis",b);a.data.success?m(a.data.data):v("Failed to load KPI data from the server.")}catch(r){console.error("Error fetching KPI data:",r),v("Could not connect to the API or fetch KPI data.")}finally{j(!1)}})()},[]);const h=[{label:"Total Faculty",value:p.totalFaculty,icon:ne},{label:"Assigned Subjects",value:p.assignedSubjects,icon:le},{label:"Total Units Loaded",value:p.totalUnitsLoaded,icon:De}],S=()=>d?e.jsxs("div",{className:"flex justify-center items-center h-20 border rounded-xl bg-card",children:[e.jsx(Y,{className:"h-6 w-6 animate-spin text-primary mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading Metrics..."})]}):w?e.jsxs("div",{className:"bg-red-50 border border-red-300 text-red-700 p-4 rounded-xl",children:[e.jsx("p",{className:"font-semibold",children:"KPI Load Error"}),e.jsx("p",{className:"text-sm",children:w})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((g,r)=>e.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"bg-card p-5 rounded-xl border shadow-sm flex items-center gap-5 border-border",children:[e.jsx("div",{className:"p-3 rounded-lg bg-primary/10 text-primary",children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:g.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:g.label})]})]},g.label))}),u=()=>{(async()=>{const g=`
        <div style="width:100%; padding:12px 16px; margin-bottom:8px; box-sizing:border-box; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:6px;">
          <h2 style="margin:0; font-size:18px; color:#111827; font-weight:700;">${s.charAt(0).toUpperCase()+s.slice(1)} Report</h2>
          <div style="font-size:12px; color:#374151; margin-top:4px;">Generated: ${new Date().toLocaleString()}</div>
        </div>
      `;try{const r=await ge(()=>import("./html2canvas.esm-BfxBtG_O.js"),[]),b=r.default||r,{jsPDF:a}=await ge(async()=>{const{jsPDF:z}=await import("./jspdf.es.min-nToRZ2zG.js").then(U=>U.j);return{jsPDF:z}},__vite__mapDeps([0,1,2])),o=document.getElementById("report-content");let c=null;if(o){const z=Array.from(o.querySelectorAll("table"));c=z.find(U=>{const H=U.getClientRects();return H&&H.length>0&&Array.from(H).some(ae=>ae.width>0&&ae.height>0)})||(z.length?z[0]:null)}const n=c||o||document.body,l=s==="schedules"&&!!c,f=document.createElement("div");f.style.background="#ffffff",f.style.boxSizing="border-box",f.style.padding="6px",l&&(f.style.fontSize="12px");const t=document.createElement("div");t.innerHTML=g,f.appendChild(t);const y=n.cloneNode(!0);if(l)try{y.querySelectorAll("th, td").forEach(A=>{A.style.fontSize="12px",A.style.padding="8px 6px"}),y.querySelectorAll("table").forEach(A=>{A.style.fontSize="12px",A.style.borderSpacing="0"});const H=96;y.querySelectorAll("tr").forEach(A=>{A.style.height="auto",A.style.minHeight="auto"}),y.querySelectorAll("td").forEach(A=>{A.style.height="auto",A.style.position="static",A.style.verticalAlign="top";const M=A.querySelector("div");if(M&&(M.style.position==="absolute"||M.className.includes("absolute"))){M.style.position="static",M.style.top="auto",M.style.left="auto",M.style.width="100%",M.style.boxSizing="border-box",A.style.padding="0";const fe=M.style.height.match(/(\d+)px/);if(fe){const Ae=parseInt(fe[1],10),ye=Math.round(Ae/64);ye>0&&(M.style.height=`${ye*H}px`)}const oe=M.querySelector("span:first-child");oe&&(oe.style.fontSize="16px",oe.style.fontWeight="700");const q=M.querySelectorAll("span");q.length>1&&(q[1].style.fontSize="14px"),q.length>2&&(q[2].style.fontSize="13px")}else A.classList.contains("bg-muted/40")||(A.style.minHeight=`${H}px`,A.style.height=`${H}px`,A.style.padding="4px")})}catch{}f.appendChild(y),f.style.position="fixed",f.style.left="-9999px",document.body.appendChild(f);const N=await b(f,{scale:l?3:2.5,useCORS:!0}),k=N.toDataURL("image/png");document.body.removeChild(f);const L=new a({orientation:l?"landscape":"portrait",unit:"pt",format:"a4"}),$=L.internal.pageSize.getWidth(),se=L.internal.pageSize.getHeight(),W=(z=>z*2.83464567)(l?6:10),me=$-W*2,_e=se-W*2,ue=N.width,xe=N.height,pe=Math.min(me/ue,_e/xe),he=ue*pe,Le=xe*pe,Ee=W+(me-he)/2,ke=W;L.addImage(k,"PNG",Ee,ke,he,Le),L.save(`${s}-report.pdf`);return}catch(r){console.warn("html2canvas/jsPDF not available, falling back to print window. Error:",r);const b=document.getElementById("report-content");if(!b){window.print();return}const a=Array.from(b.querySelectorAll("table")),o=a.find(y=>{const N=y.getClientRects();return N&&N.length>0&&Array.from(N).some(k=>k.width>0&&k.height>0)})||(a.length?a[0]:null),c=s==="schedules"&&!!o,n=g+(o?o.outerHTML:b.innerHTML),l=window.open("","_blank");if(!l){alert("Unable to open print window (popup blocked).");return}const f=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')).map(y=>y.outerHTML).join(`
`),t=c?"<style>@page { size: A4 landscape; margin: 6mm; } @media print { body { -webkit-print-color-adjust: exact; padding: 6mm; box-sizing: border-box; font-size:12px; } table { width: 100%; border-collapse: collapse; } table th, table td { padding: 8px 6px; font-size:12px; } thead { display: table-header-group; } tbody { display: table-row-group; } tr { page-break-inside: avoid; } }</style>":"<style>@page { size: A4 portrait; margin: 10mm; } @media print { body { -webkit-print-color-adjust: exact; padding: 10mm; box-sizing: border-box; } table { width: 100%; border-collapse: collapse; } thead { display: table-header-group; } tbody { display: table-row-group; } tr { page-break-inside: avoid; } }</style>";l.document.write(`<html><head><title>Report</title>${t}${f}</head><body>${n}</body></html>`),l.document.close(),l.focus(),setTimeout(()=>{l.print(),l.close()},600)}})()};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"mb-8 flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground tracking-tight",children:"Generate Reports"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"View and export faculty loading, schedules, and workloads."})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(G,{variant:"outline",onClick:()=>u(),children:[e.jsx(be,{className:"h-4 w-4 mr-2"})," Export PDF"]})})]}),e.jsx("div",{className:"mb-8",children:S()}),e.jsx("div",{className:"border-b border-border mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-1 bg-muted p-1 rounded-lg",children:[e.jsx(B,{id:"loading",activeTab:s,setActiveTab:i,icon:e.jsx(be,{size:16}),children:"Loading"}),e.jsx(B,{id:"schedules",activeTab:s,setActiveTab:i,icon:e.jsx(ie,{size:16}),children:"Schedules"}),e.jsx(B,{id:"workloads",activeTab:s,setActiveTab:i,icon:e.jsx($e,{size:16}),children:"Workloads"}),e.jsx(B,{id:"studyload",activeTab:s,setActiveTab:i,icon:e.jsx(le,{size:16}),children:"Study Load"})]})}),e.jsx(J,{mode:"wait",children:e.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsxs("div",{id:"report-content",children:[s==="loading"&&e.jsx(Oe,{}),s==="schedules"&&e.jsx(Je,{}),s==="workloads"&&e.jsx(Ze,{}),s==="studyload"&&e.jsx(st,{})]})},s)})]})}const B=({id:s,activeTab:i,setActiveTab:p,icon:m,children:d})=>e.jsxs(G,{variant:i===s?"default":"ghost",onClick:()=>p(s),className:"flex items-center gap-2 px-4 py-2 h-9 text-sm font-semibold transition-all",children:[m," ",d]});function gt(){return e.jsx(at,{})}export{gt as default};
