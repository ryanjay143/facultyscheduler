import{c as Q,r as m,j as e,B as j,a as $,m as C,U as z,b as Z,X as ee,C as te}from"./index-BLkMyUsx.js";import{H as re}from"./Header-BcZ-GgjR.js";import{I as G}from"./input-WflGtCZB.js";import{D as se,a as ae,b as ie,c as ne,d as le,e as oe}from"./dialog-Csu5SxBN.js";import{S as R}from"./search-CGPL69eI.js";import{F as de}from"./funnel-Z_e-tKA-.js";import{M as A}from"./map-pin-C4CwHioC.js";import{C as M}from"./clock-CcvdsnYT.js";import{U as B,A as W}from"./index-zoTtYq28.js";import{C as ce}from"./calendar-days-D_kaEv6u.js";import{C as H}from"./circle-check-big-CIQGTfl7.js";import{C as me}from"./circle-plus-BgS_mtOU.js";import{B as xe}from"./badge-Cnm9Jtdm.js";import{C as ge}from"./circle-x-DwOq4219.js";import{S as ue,a as pe,b as he,c as ye,d as be}from"./select-D9RIGLBK.js";import{B as fe}from"./building-ByBGv6xT.js";import{T as L}from"./triangle-alert-BfukfLjW.js";import"./chevron-down-CO_QTR_1.js";import"./calendar-check-Fjfi1xHj.js";import"./index-B_fBrJXk.js";import"./index-_mz4RNV1.js";import"./index-D9yhg_pm.js";import"./check-BeLhDsqd.js";import"./chevron-up-hEhCsCIY.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ne=Q("tag",je),F={"Computer Science":"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100","Information Technology":"bg-green-50 text-green-700 border-green-200 hover:bg-green-100","Data Science":"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100",English:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100",Mathematics:"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",Physics:"bg-indigo-50 text-indigo-700 border-indigo-200 hover:bg-indigo-100",History:"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100",Business:"bg-cyan-50 text-cyan-700 border-cyan-200 hover:bg-cyan-100",Arts:"bg-pink-50 text-pink-700 border-pink-200 hover:bg-pink-100",Science:"bg-lime-50 text-lime-700 border-lime-200 hover:bg-lime-100"},p=8,ve=12,E=p+ve,q=60,I=2,we=q*I,Ce=(E-p)*q,O=Ce*I,Ae=s=>{const r=s>=12?"PM":"AM";return`${s%12||12}:00 ${r}`},_=s=>{const r=s.trim().match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)?$/i);if(!r)return null;let i=parseInt(r[1],10);const l=r[2]?parseInt(r[2],10):0,o=(r[3]||"").toUpperCase();return o==="PM"&&i<12&&(i+=12),o==="AM"&&i===12&&(i=0),i<0||i>23||l<0||l>59?null:i*60+l},U=s=>{if(!s||typeof s!="string")return null;const r=s.split(/-|–|—/);if(r.length<2)return null;const i=_(r[0]),l=_(r[1]);return i==null||l==null||l<=i?null:{start:i,end:l}},Me=s=>s.substring(0,3),Se=s=>Array.isArray(s)?s.join(", "):"",Te=s=>{const r=U(s);if(!r)return"";const i=r.end-r.start,l=Math.floor(i/60),o=i%60;return l&&o?`${l}h ${o}m`:l?`${l}h`:`${o}m`},Pe=({classes:s})=>{const r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[i,l]=m.useState(""),[o,x]=m.useState(!1),[a,d]=m.useState(null),h=m.useMemo(()=>{if(!i.trim())return s;const n=i.toLowerCase();return s.filter(t=>[t?.code,t?.title,t?.room??"",t?.department??"",Array.isArray(t?.days)?t.days.join(" "):"",t?.time??"",t?.facultyName??t?.instructor??""].filter(Boolean).join(" ").toLowerCase().includes(n))},[s,i]),y=m.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long"}),[]),u=m.useMemo(()=>Array.from({length:E-p+1},(n,t)=>p+t),[]),c=n=>n*I,b=n=>Math.max(p*60,Math.min(E*60,n)),N=n=>{d(n),x(!0)};return e.jsxs("div",{className:"rounded-2xl",children:[e.jsxs("div",{className:"mb-6 rounded-2xl border bg-gradient-to-r from-slate-50 to-white p-4 sm:p-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Weekly Schedule"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Explore all your classes neatly organized by day and time."})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(R,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400",size:20,"aria-hidden":!0}),e.jsx(G,{type:"text",value:i,onChange:n=>l(n.target.value),placeholder:"Search by course, code, room, department, or faculty...","aria-label":"Search schedule",className:"pl-12 pr-4 py-2 w-full rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 transition-shadow"})]}),e.jsxs(j,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-xl border-gray-300 hover:bg-gray-100","aria-label":"Open filters",children:[e.jsx(de,{size:16}),e.jsx("span",{className:"font-medium",children:"Filter"})]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Object.entries(F).map(([n,t])=>e.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-2.5 py-1 text-xs font-medium ${t}`,title:n,children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-current opacity-60"}),n]},n))})]}),h.length===0?e.jsxs("div",{className:"rounded-xl border bg-white p-10 text-center text-gray-600",children:[e.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-blue-50 text-blue-600",children:e.jsx(R,{size:20})}),e.jsx("p",{className:"font-medium",children:"No classes match your search."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try a different keyword or clear the search."})]}):e.jsx("div",{className:"overflow-x-auto rounded-xl border bg-white shadow-sm",children:e.jsxs("div",{className:"grid w-full min-w-0 grid-cols-[96px_repeat(6,minmax(0,1fr))]",children:[e.jsx("div",{className:"sticky left-0 z-10 bg-gray-100 p-4 font-semibold text-gray-700 border-b border-r",children:"Time"}),r.map(n=>e.jsxs("div",{className:`p-4 font-semibold text-center border-b border-r ${n===y?"bg-blue-50 text-blue-800":"bg-gray-100 text-gray-700"}`,title:n===y?"Today":void 0,children:[n,n===y&&e.jsx("span",{className:"ml-2 align-middle text-[10px] font-bold uppercase tracking-wide text-blue-700",children:"Today"})]},n)),e.jsx("div",{className:"relative border-r bg-white",style:{height:O},children:u.map((n,t)=>{const g=c((n-p)*60),f=t%2===0,S=t===u.length-1;return e.jsxs("div",{className:"absolute left-0 right-0",style:{top:g},children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:`absolute left-2 px-1.5 py-0.5 text-sm font-medium ${f?"text-gray-600":"text-gray-500"}`,style:{top:S?-8:8},children:Ae(n)})]},n)})}),r.map(n=>e.jsxs("div",{className:"relative border-r",style:{height:O},children:[u.slice(0,u.length-1).map((t,g)=>{const f=c((t-p)*60);return e.jsx("div",{className:`${g%2===0?"bg-white":"bg-gray-50"}`,style:{position:"absolute",left:0,right:0,top:f,height:we},"aria-hidden":"true"},`${n}-bg-${t}`)}),u.map(t=>{const g=c((t-p)*60);return e.jsx("div",{className:"absolute left-0 right-0 border-t border-gray-200",style:{top:g},"aria-hidden":"true"},`${n}-line-${t}`)}),h.filter(t=>Array.isArray(t?.days)&&t.days.includes(Me(n))&&typeof t?.time=="string"&&U(t.time)).map(t=>{const g=U(t.time),f=b(g.start),S=b(g.end),V=Math.max(0,f-p*60),Y=Math.max(15,S-f),K=c(V),X=Math.max(32,c(Y)),T=t.facultyName??t.instructor,J=P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),N(t))};return e.jsx("div",{role:"button",tabIndex:0,onClick:()=>N(t),onKeyDown:J,"aria-label":`${t.code}: ${t.title} in ${t.room??"TBA"}`,className:`absolute left-2 right-2 rounded-lg border shadow-sm text-xs md:text-sm cursor-pointer transition-all duration-200 ease-in-out hover:-translate-y-0.5 hover:shadow-lg ${F[t.department??""]||"bg-gray-50 text-gray-800 border-gray-200 hover:bg-gray-100"}`,style:{top:K+4,height:X-8},title:`${t.title} • ${t.room??"TBA"}`,children:e.jsxs("div",{className:"p-2.5 md:p-3 h-full flex flex-col",children:[e.jsx("p",{className:"mb-1 font-bold text-sm leading-tight",children:t.code}),e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-gray-600",children:[e.jsx($,{size:14,"aria-hidden":!0}),e.jsx("p",{className:"truncate",title:typeof t.title=="string"?t.title:"",children:t.title})]}),e.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-2 text-gray-600",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/60 px-2 py-0.5 text-[11px] font-medium border",children:[e.jsx(A,{size:12,"aria-hidden":!0}),e.jsx("span",{children:t.room??"TBA"})]}),t.time&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/60 px-2 py-0.5 text-[11px] font-medium border",children:[e.jsx(M,{size:12,"aria-hidden":!0}),e.jsx("span",{children:t.time})]}),T&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/60 px-2 py-0.5 text-[11px] font-medium border",children:[e.jsx(B,{size:12,"aria-hidden":!0}),e.jsx("span",{className:"truncate max-w-[10rem]",title:T,children:T})]})]})]})},t.id)})]},n))]})}),e.jsx(se,{open:o,onOpenChange:x,children:e.jsxs(ae,{className:"sm:max-w-lg",children:[e.jsxs(ie,{children:[e.jsxs(ne,{className:"flex items-center gap-2",children:[e.jsx(Ne,{size:18,className:"text-gray-500"}),a?.code||"Class details"]}),e.jsx(le,{children:"Detailed information for the selected class schedule."})]}),e.jsxs("div",{className:"space-y-3",children:[a?.title&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx($,{size:16,className:"mt-0.5 text-gray-500"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:a.title}),a.department&&e.jsx("p",{className:"text-sm text-gray-500",children:a.department})]})]}),(a?.facultyName||a?.instructor)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"text-gray-800",children:a?.facultyName??a?.instructor})]}),(a?.time||a?.days?.length)&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{size:16,className:"mt-0.5 text-gray-500"}),e.jsxs("div",{className:"min-w-0 text-gray-800",children:[e.jsxs("div",{children:[a?.time?a.time:null,a?.time&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:Te(a.time)})]}),a?.days?.length?e.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(ce,{size:14,className:"text-gray-500"}),e.jsx("span",{children:Se(a.days)})]}):null]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"text-gray-800",children:a?.room??"TBA"})]})]}),e.jsx(oe,{children:e.jsx(j,{variant:"outline",onClick:()=>x(!1),children:"Close"})})]})})]})},De={"Computer Science":{badge:"bg-blue-50 text-blue-700 border-blue-200",border:"border-blue-200",text:"text-blue-700",ring:"ring-blue-200",dot:"bg-blue-500",cardAccent:"from-blue-500/70 to-blue-400/40"},"Information Technology":{badge:"bg-green-50 text-green-700 border-green-200",border:"border-green-200",text:"text-green-700",ring:"ring-green-200",dot:"bg-green-500",cardAccent:"from-green-500/70 to-green-400/40"},"Data Science":{badge:"bg-purple-50 text-purple-700 border-purple-200",border:"border-purple-200",text:"text-purple-700",ring:"ring-purple-200",dot:"bg-purple-500",cardAccent:"from-purple-500/70 to-purple-400/40"},English:{badge:"bg-yellow-50 text-yellow-700 border-yellow-200",border:"border-yellow-200",text:"text-yellow-700",ring:"ring-yellow-200",dot:"bg-yellow-500",cardAccent:"from-yellow-500/70 to-yellow-400/40"},Mathematics:{badge:"bg-red-50 text-red-700 border-red-200",border:"border-red-200",text:"text-red-700",ring:"ring-red-200",dot:"bg-red-500",cardAccent:"from-red-500/70 to-red-400/40"},Physics:{badge:"bg-indigo-50 text-indigo-700 border-indigo-200",border:"border-indigo-200",text:"text-indigo-700",ring:"ring-indigo-200",dot:"bg-indigo-500",cardAccent:"from-indigo-500/70 to-indigo-400/40"},History:{badge:"bg-orange-50 text-orange-700 border-orange-200",border:"border-orange-200",text:"text-orange-700",ring:"ring-orange-200",dot:"bg-orange-500",cardAccent:"from-orange-500/70 to-orange-400/40"},Business:{badge:"bg-cyan-50 text-cyan-700 border-cyan-200",border:"border-cyan-200",text:"text-cyan-700",ring:"ring-cyan-200",dot:"bg-cyan-500",cardAccent:"from-cyan-500/70 to-cyan-400/40"},Arts:{badge:"bg-pink-50 text-pink-700 border-pink-200",border:"border-pink-200",text:"text-pink-700",ring:"ring-pink-200",dot:"bg-pink-500",cardAccent:"from-pink-500/70 to-pink-400/40"},Science:{badge:"bg-lime-50 text-lime-700 border-lime-200",border:"border-lime-200",text:"text-lime-700",ring:"ring-lime-200",dot:"bg-lime-500",cardAccent:"from-lime-500/70 to-lime-400/40"}},ke=s=>s&&De[s]||{badge:"bg-gray-50 text-gray-700 border-gray-200",border:"border-gray-200",text:"text-gray-700",ring:"ring-gray-200",dot:"bg-gray-500",cardAccent:"from-gray-500/60 to-gray-400/40"},$e={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{staggerChildren:.06,delayChildren:.02}}},ze={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},Re=({classes:s,onAssignClick:r,showSearch:i=!0})=>{const[l,o]=m.useState(""),x=m.useMemo(()=>{if(!l.trim())return s;const a=l.toLowerCase();return s.filter(d=>[d.code,d.title,d.department,d.room,d.days?.join(" "),d.time].filter(Boolean).join(" ").toLowerCase().includes(a))},[s,l]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Unassigned Classes"}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-600",children:s.length})]}),i&&e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx(R,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx(G,{value:l,onChange:a=>o(a.target.value),placeholder:"Search code, title, dept, or time...","aria-label":"Search unassigned classes",className:"pl-10"})]})]}),x.length===0?e.jsxs("div",{className:"rounded-xl border border-dashed border-gray-300 bg-white p-10 text-center",children:[e.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-50 text-green-600",children:e.jsx(H,{size:24})}),e.jsx("p",{className:"text-base font-semibold text-gray-700",children:"No Unassigned Classes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l?"No classes match your search.":"All classes have been assigned a room."})]}):e.jsx(C.div,{variants:$e,initial:"hidden",animate:"visible",className:"space-y-3",children:e.jsx(W,{initial:!1,children:x.map(a=>{const d=ke(a.department);return e.jsxs(C.div,{variants:ze,layout:!0,exit:{opacity:0,y:-6},className:"group relative overflow-hidden rounded-xl border bg-white shadow-sm transition-all hover:shadow-md",children:[e.jsx("div",{className:`pointer-events-none absolute inset-y-0 left-0 w-1.5 bg-gradient-to-b ${d.cardAccent}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute inset-0 rounded-xl ring-0 transition group-hover:ring-2 ${d.ring}`,"aria-hidden":"true"}),e.jsxs("div",{className:"relative flex items-start justify-between gap-4 p-4 sm:p-5",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-gray-300","aria-hidden":"true"}),e.jsxs("p",{className:"truncate text-sm font-bold text-gray-800 sm:text-base",title:`${a.code} - ${a.title}`,children:[a.code," — ",a.title]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-gray-600",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border px-2 py-0.5 font-medium ${d.badge}`,title:a.department,children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${d.dot}`,"aria-hidden":"true"}),a.department]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 font-medium",children:[e.jsx(M,{size:14,className:"text-gray-500","aria-hidden":"true"}),e.jsxs("span",{className:"truncate",children:[Array.isArray(a.days)?a.days.join(", "):"",a.time?` • ${a.time}`:""]})]}),a.room&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 font-medium",children:[e.jsx(A,{size:14,className:"text-gray-500","aria-hidden":"true"}),e.jsx("span",{className:"truncate",children:a.room})]})]})]}),e.jsx("div",{className:"shrink-0 self-center",children:e.jsxs(j,{onClick:()=>r(a),"aria-label":`Assign room for ${a.code}`,className:"inline-flex items-center gap-2 rounded-lg px-3.5 py-2 transition-transform group-hover:translate-x-0.5",children:[e.jsx(me,{size:16}),"Assign Room"]})})]})]},a.id)})})})]})},Be=({rooms:s})=>!s||s.length===0?e.jsxs("div",{className:"rounded-xl border border-dashed border-gray-300 bg-white p-10 text-center text-gray-600",children:[e.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-gray-100 text-gray-700",children:e.jsx(z,{size:22})}),e.jsx("p",{className:"font-semibold text-gray-800",children:"No rooms to show"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters or check back later."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map(r=>{const i=!!r.available,l=i?"from-green-500/70 to-green-400/40":"from-red-500/70 to-red-400/40",o=i?"border-green-200":"border-red-200",x=i?"bg-green-600 text-white hover:bg-green-600":"bg-red-600 text-white hover:bg-red-600";return e.jsxs("div",{role:"region","aria-label":`Room ${r.id} — ${i?"Available":"In Use"}`,className:`group relative overflow-hidden rounded-xl border bg-white ${o} shadow-sm transition-all hover:shadow-md`,children:[e.jsx("div",{className:`pointer-events-none absolute inset-y-0 left-0 w-1.5 bg-gradient-to-b ${l}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute inset-0 rounded-xl ring-0 ring-offset-0 transition group-hover:ring-2 ${i?"ring-green-200":"ring-red-200"}`,"aria-hidden":"true"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("p",{className:"truncate text-lg font-bold text-gray-900",title:`Room ${r.id}`,children:r.id}),e.jsx(xe,{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium ${x}`,variant:"secondary",children:i?e.jsxs(e.Fragment,{children:[e.jsx(H,{size:14,className:"opacity-90"}),"Available"]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{size:14,className:"opacity-90"}),"In Use"]})})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-gray-700",children:[e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 font-medium",children:r.type??"General"}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 font-medium",children:[e.jsx(z,{size:14,className:"text-gray-500","aria-hidden":"true"}),"Capacity: ",typeof r.capacity=="number"?r.capacity:"N/A"]}),e.jsxs("span",{className:`ml-auto inline-flex items-center gap-1 font-medium ${i?"text-green-700":"text-red-700"}`,"aria-hidden":"true",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),i?"Open":"Busy"]})]})]})]},String(r.id))})}),v=({title:s,value:r,icon:i,color:l})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm flex items-center gap-5",children:[e.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${l}`,children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]})]}),Ee=({onClose:s,classInfo:r,availableRooms:i,onConfirm:l})=>{const[o,x]=m.useState(""),[a,d]=m.useState(!1),h="assign-classroom-heading",y="assign-classroom-description",u=m.useRef(null),c=m.useMemo(()=>{const t=new Map;return i.forEach(g=>t.set(String(g.id),g)),t},[i]),b=o?c.get(o):void 0;m.useEffect(()=>{const t=setTimeout(()=>u.current?.focus(),0);return()=>clearTimeout(t)},[]);const N=t=>{t.key==="Escape"&&(t.stopPropagation(),s())},n=async()=>{if(b)try{d(!0),l&&await Promise.resolve(l(b)),s()}finally{d(!1)}};return e.jsx(C.div,{role:"dialog","aria-modal":"true","aria-labelledby":h,"aria-describedby":y,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s,onKeyDown:N,children:e.jsxs(C.div,{initial:{scale:.96,y:12,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.96,y:12,opacity:0},transition:{type:"spring",stiffness:380,damping:28},className:"relative w-full max-w-lg overflow-hidden rounded-2xl border bg-white shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"relative border-b bg-gradient-to-r from-slate-50 to-white px-6 py-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50 text-blue-600",children:e.jsx(Z,{size:20,"aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{id:h,className:"truncate text-xl font-bold text-gray-900",children:"Assign Classroom"}),e.jsxs("p",{id:y,className:"mt-0.5 text-sm text-gray-600",children:["Assigning"," ",e.jsxs("span",{className:"font-medium",children:[r.code," — ",r.title]})]})]})]}),e.jsx(j,{ref:u,onClick:s,variant:"ghost",className:"absolute right-2 top-2 h-9 w-9 p-0 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(ee,{size:18})})]}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"mb-5 rounded-xl border bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 font-semibold text-gray-800",children:[e.jsx($,{size:16,className:"text-gray-500","aria-hidden":"true"}),r.code]}),r.department&&e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs font-medium text-gray-700",children:r.department}),(r.days?.length||r.time)&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs font-medium text-gray-700",children:[e.jsx(M,{size:14,className:"text-gray-500","aria-hidden":"true"}),e.jsxs("span",{className:"truncate",children:[Array.isArray(r.days)?r.days.join(", "):""," ",r.time?`• ${r.time}`:""]})]}),r.instructor&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs font-medium text-gray-700",children:[e.jsx(B,{size:14,className:"text-gray-500","aria-hidden":"true"}),e.jsx("span",{className:"truncate max-w-[10rem]",title:r.instructor,children:r.instructor})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available Rooms"}),i.length===0?e.jsx("div",{className:"flex items-center justify-between rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:e.jsx("span",{children:"No rooms available for this timeslot."})}):e.jsxs(ue,{value:o,onValueChange:x,children:[e.jsx(pe,{className:"w-full rounded-lg",children:e.jsx(he,{placeholder:"Select a room..."})}),e.jsx(ye,{className:"rounded-xl",children:i.map(t=>e.jsx(be,{value:String(t.id),children:e.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[e.jsx("span",{className:"shrink-0 font-medium",children:t.id}),t.type&&e.jsx("span",{className:"shrink-0 rounded-md border border-gray-200 bg-gray-50 px-1.5 py-0.5 text-[11px] font-medium text-gray-700",children:t.type}),typeof t.capacity=="number"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-gray-600",children:[e.jsx(z,{size:12,"aria-hidden":"true"}),t.capacity]}),t.location&&e.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 truncate text-[11px] text-gray-500",children:[e.jsx(A,{size:12,"aria-hidden":"true"}),t.location]})]})},String(t.id)))})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t bg-slate-50 px-6 py-4",children:[e.jsx(j,{variant:"ghost",onClick:s,children:"Cancel"}),e.jsxs(j,{onClick:n,disabled:!b||a,className:"inline-flex items-center gap-2",children:[e.jsx(H,{size:16}),a?"Assigning...":"Confirm Assignment"]})]})]})})},D=[{id:1,code:"CS-301",title:"Data Structures",department:"Computer Science",time:"8:00 AM - 9:30 AM",days:["Mon","Wed","Fri"],room:"A-101",instructor:"Dr. Santos",facultyName:"Dr. Santos"},{id:3,code:"DS-210",title:"Intro to Data Science",department:"Data Science",time:"1:00 PM - 2:30 PM",days:["Mon","Wed","Fri"],room:"A-102",instructor:"Dr. Santos",facultyName:"Dr. Santos"},{id:5,code:"ENG-101",title:"English Composition",department:"English",time:"10:30 AM - 12:00 PM",days:["Mon","Wed","Fri"],room:"D-105",instructor:"Dr. Lee",facultyName:"Dr. Lee"},{id:7,code:"PHY-101",title:"General Physics",department:"Physics",time:"3:00 PM - 4:30 PM",days:["Mon","Wed","Fri"],room:void 0,instructor:"Dr. Chen",facultyName:"Dr. Chen"},{id:9,code:"HIST-210",title:"World History",department:"History",time:"10:30 AM - 12:00 PM",days:["Mon","Wed","Fri"],room:"E-210",instructor:"Dr. Jones",facultyName:"Dr. Jones"},{id:11,code:"BA-205",title:"Business Law",department:"Business",time:"8:00 AM - 9:30 AM",days:["Mon","Wed","Fri"],room:"D-105",instructor:"Prof. Miller",facultyName:"Prof. Miller"},{id:13,code:"ENG-250",title:"Shakespeare",department:"English",time:"3:00 PM - 4:30 PM",days:["Mon","Wed","Fri"],room:"A-101",instructor:"Dr. Lee",facultyName:"Dr. Lee"},{id:2,code:"IT-411",title:"Advanced Programming",department:"Information Technology",time:"10:30 AM - 12:00 PM",days:["Tue","Thu"],room:"B-203",instructor:"Prof. Cruz",facultyName:"Prof. Cruz"},{id:4,code:"CS-412",title:"Machine Learning",department:"Computer Science",time:"3:00 PM - 4:30 PM",days:["Tue","Thu"],room:"C-301",instructor:"Prof. Reyes",facultyName:"Prof. Reyes"},{id:6,code:"MATH-202",title:"Calculus II",department:"Mathematics",time:"8:00 AM - 9:30 AM",days:["Tue","Thu"],room:void 0,instructor:"Prof. Garcia",facultyName:"Prof. Garcia"},{id:8,code:"ART-100",title:"Art History",department:"Arts",time:"1:00 PM - 2:30 PM",days:["Tue","Thu"],room:"F-115",instructor:"Prof. Davis",facultyName:"Prof. Davis"},{id:10,code:"CHEM-101",title:"General Chemistry",department:"Science",time:"10:30 AM - 12:00 PM",days:["Tue","Thu"],room:void 0,instructor:"Dr. White",facultyName:"Dr. White"},{id:12,code:"CS-101",title:"Intro to Computing",department:"Computer Science",time:"3:00 PM - 4:30 PM",days:["Tue","Thu"],room:"B-203",instructor:"Prof. Cruz",facultyName:"Prof. Cruz"},{id:14,code:"IT-101",title:"Foundations of IT",department:"Information Technology",time:"8:00 AM - 9:30 AM",days:["Sat"],room:"G-300",instructor:"Prof. Cruz",facultyName:"Prof. Cruz"},{id:15,code:"CS-205",title:"Algorithms",department:"Computer Science",time:"10:30 AM - 12:00 PM",days:["Sat"],room:"A-102",instructor:"Dr. Santos",facultyName:"Dr. Santos"},{id:16,code:"MATH-110",title:"College Algebra",department:"Mathematics",time:"1:00 PM - 2:30 PM",days:["Sat"],room:void 0,instructor:"Prof. Garcia",facultyName:"Prof. Garcia"},{id:17,code:"ENG-205",title:"Creative Writing",department:"English",time:"3:00 PM - 4:30 PM",days:["Sat"],room:"D-105",instructor:"Dr. Lee",facultyName:"Dr. Lee"}],w=[{id:"A-101",capacity:50,type:"Classroom",available:!1},{id:"A-102",capacity:60,type:"Classroom",available:!1},{id:"B-203",capacity:40,type:"Lab",available:!1},{id:"C-301",capacity:45,type:"Classroom",available:!1},{id:"D-105",capacity:30,type:"Classroom",available:!1},{id:"E-210",capacity:70,type:"Lecture Hall",available:!0},{id:"F-115",capacity:35,type:"Lab",available:!0},{id:"G-300",capacity:50,type:"Classroom",available:!0}];function lt(){const[s,r]=m.useState("Full Schedule"),[i,l]=m.useState(!1),[o,x]=m.useState(null),a=D.filter(c=>c.room===void 0),d=D.filter(c=>c.room!==void 0),h=c=>{x(c),l(!0)},y=()=>{l(!1),x(null)},u=()=>{switch(s){case"Unassigned Classes":return e.jsx(Re,{classes:a,onAssignClick:h});case"Room Availability":return e.jsx(Be,{rooms:w});default:return e.jsx(Pe,{classes:d})}};return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[e.jsx(re,{}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Classroom Scheduling"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and view classroom assignments across all departments."})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-1 gap-6 mb-8",children:[e.jsx(v,{title:"Rooms in Use",value:`${w.filter(c=>!c.available).length} / ${w.length}`,icon:fe,color:"text-blue-500"}),e.jsx(v,{title:"Unassigned Classes",value:a.length,icon:L,color:"text-yellow-500"}),e.jsx(v,{title:"Total Classes",value:D.length,icon:te,color:"text-green-500"}),e.jsx(v,{title:"Potential Conflicts",value:"0",icon:L,color:"text-red-500"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsx(k,{title:"Full Schedule",isActive:s==="Full Schedule",onClick:()=>r("Full Schedule")}),e.jsx(k,{title:"Unassigned Classes",isActive:s==="Unassigned Classes",onClick:()=>r("Unassigned Classes")}),e.jsx(k,{title:"Room Availability",isActive:s==="Room Availability",onClick:()=>r("Room Availability")})]}),u()]})]})}),e.jsx(W,{children:i&&o&&e.jsx(Ee,{onClose:y,classInfo:o,availableRooms:w.filter(c=>c.available)})})]})}const k=({title:s,isActive:r,onClick:i})=>e.jsx("button",{onClick:i,className:`px-4 py-2 text-sm font-semibold transition-colors duration-200 ${r?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500 hover:text-indigo-600"}`,children:s});export{lt as default};
