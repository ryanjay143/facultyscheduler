import{r as l,j as e,M as B,B as b,R as H}from"./index-BLkMyUsx.js";import{T as V,a as q,b as A,c as j,d as $,e as g}from"./table-BIOPnmDB.js";import{I as k}from"./input-WflGtCZB.js";import{S as C,a as D,c as T,d as N,b as W}from"./select-D9RIGLBK.js";import{T as G}from"./textarea-C77fIpr0.js";import{B as O}from"./badge-Cnm9Jtdm.js";import{D as J,a as K,b as Q,c as X,d as Y,e as Z}from"./dialog-Csu5SxBN.js";import{L as S}from"./label-D0ZBlBzo.js";import{H as _}from"./Header-BFcERXrw.js";import{C as ee}from"./circle-plus-BgS_mtOU.js";import{S as te}from"./search-CGPL69eI.js";import{F as M}from"./funnel-Z_e-tKA-.js";import{S as se}from"./square-pen-D3ygAFAu.js";import{T as ae}from"./trash-2-DoDUb1_3.js";import{C as le}from"./chevron-left-ZQdPw_JH.js";import{C as ne}from"./chevron-right-CxK00VL3.js";import"./index-D9yhg_pm.js";import"./index-B_fBrJXk.js";import"./index-_mz4RNV1.js";import"./chevron-down-CO_QTR_1.js";import"./check-BeLhDsqd.js";import"./chevron-up-hEhCsCIY.js";import"./index-zoTtYq28.js";const re=[{id:1,title:"Midterm Examination Schedule Release",content:"The midterm examination schedule for all departments has been released. Please check the student portal for your respective schedules.",audience:"All Users",status:"Published",date:"August 5, 2025"},{id:2,title:"Faculty Development Seminar on AI in Education",content:"All faculty members are invited to a seminar on integrating AI into the curriculum. It will be held on August 15, 2025, at the main auditorium.",audience:"Faculty Only",status:"Published",date:"August 4, 2025"},{id:3,title:"System Maintenance this Weekend (Aug 9-10)",content:"The university portal will be temporarily unavailable this weekend for scheduled maintenance.",audience:"All Users",status:"Draft",date:"August 2, 2025"},{id:4,title:"Enrollment for Next Semester is Now Open",content:"Enrollment for the upcoming semester is officially open. Please complete the process before the deadline on August 20, 2025.",audience:"Students Only",status:"Published",date:"August 1, 2025"}],ie={"All Users":"bg-blue-100 text-blue-800","Faculty Only":"bg-amber-100 text-amber-800","Students Only":"bg-emerald-100 text-emerald-800"},ce={Published:"bg-green-100 text-green-800",Draft:"bg-gray-200 text-gray-800"};function ke(){const[n,p]=l.useState(re),[f,u]=l.useState(""),[s,d]=l.useState({audience:"All",status:"All"}),[a,r]=l.useState(1),[i]=l.useState(10),[m,c]=l.useState(!1),[h,y]=l.useState(null),x=l.useMemo(()=>n.filter(t=>t.title.toLowerCase().includes(f.toLowerCase())).filter(t=>s.audience==="All"||t.audience===s.audience).filter(t=>s.status==="All"||t.status===s.status),[n,f,s]),P=l.useMemo(()=>{const t=(a-1)*i;return x.slice(t,t+i)},[x,a,i]),w=Math.ceil(x.length/i),E=()=>{y(null),c(!0)},U=t=>{y(t),c(!0)},I=t=>{window.confirm("Are you sure you want to delete this announcement?")&&p(n.filter(o=>o.id!==t))},L=(t,o)=>{const F=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});if(h)p(n.map(v=>v.id===h.id?{...h,...t,status:o,date:F}:v));else{const v={id:Date.now(),...t,status:o,date:F};p([v,...n])}c(!1)},R=["All","All Users","Faculty Only","Students Only"],z=["All","Published","Draft"];return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50/50",children:[e.jsx(_,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 ",children:[e.jsxs("header",{className:"mb-6 flex items-center gap-4",children:[e.jsx(B,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Announcements"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create, publish, and manage communications."})]})]}),e.jsxs(b,{onClick:E,className:"w-full mt-2 mb-4",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Create"]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-lg md:w-full border-b-4 border-primary",children:[e.jsxs("div",{className:"flex flex-col gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-full md:flex-1",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(k,{placeholder:"Search by title...",className:"pl-10 w-full",value:f,onChange:t=>{u(t.target.value),r(1)}})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2 w-full md:w-auto",children:[e.jsxs(C,{value:s.audience,onValueChange:t=>{d(o=>({...o,audience:t})),r(1)},children:[e.jsxs(D,{className:"w-full md:w-48",children:[e.jsx(M,{className:"h-4 w-4 mr-2 text-gray-500"}),s.audience==="All"?"All Audiences":s.audience]}),e.jsx(T,{children:R.map(t=>e.jsx(N,{value:t,children:t},t))})]}),e.jsxs(C,{value:s.status,onValueChange:t=>{d(o=>({...o,status:t})),r(1)},children:[e.jsxs(D,{className:"w-full md:w-40",children:[e.jsx(M,{className:"h-4 w-4 mr-2 text-gray-500"}),s.status==="All"?"All Statuses":s.status]}),e.jsx(T,{children:z.map(t=>e.jsx(N,{value:t,children:t},t))})]})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(V,{children:[e.jsx(q,{children:e.jsxs(A,{className:"bg-gray-50",children:[e.jsx(j,{className:"w-[50%]",children:"Title"}),e.jsx(j,{children:"Audience"}),e.jsx(j,{children:"Status"}),e.jsx(j,{className:"hidden md:table-cell",children:"Date"}),e.jsx(j,{className:"text-center w-32",children:"Actions"})]})}),e.jsx($,{children:P.length===0?e.jsx(A,{children:e.jsx(g,{colSpan:5,className:"text-center py-12 text-gray-500",children:"No announcements found."})}):P.map(t=>e.jsxs(A,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(g,{className:"font-semibold text-gray-800",children:t.title}),e.jsx(g,{children:e.jsx(O,{variant:"outline",className:`${ie[t.audience]} border-none`,children:t.audience})}),e.jsx(g,{children:e.jsx(O,{variant:"outline",className:`${ce[t.status]} border-none`,children:t.status})}),e.jsx(g,{className:"text-gray-600 hidden md:table-cell",children:t.date}),e.jsxs(g,{className:"text-center",children:[e.jsx("button",{onClick:()=>U(t),title:"Edit",className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",children:e.jsx(se,{size:18})}),e.jsx("button",{onClick:()=>I(t.id),title:"Delete",className:"p-2 text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(ae,{size:18})})]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center mt-6 text-sm gap-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",x.length>0?(a-1)*i+1:0," to ",Math.min(a*i,x.length)," of ",x.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>r(t=>Math.max(1,t-1)),disabled:a===1,children:[e.jsx(le,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"font-medium",children:[a," of ",w||1]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>r(t=>Math.min(w,t+1)),disabled:a>=w,children:[e.jsx(ne,{className:"h-4 w-4 ml-1"}),"Next"]})]})]})]})]}),e.jsx(oe,{isOpen:m,onClose:()=>c(!1),onSave:L,initialData:h})]})}function oe({isOpen:n,onClose:p,onSave:f,initialData:u}){const[s,d]=l.useState({title:"",content:"",audience:"All Users",status:"Draft"});H.useEffect(()=>{d(u||{title:"",content:"",audience:"All Users",status:"Draft"})},[u,n]);const a=m=>{f(s,m)},r=m=>{const{name:c,value:h}=m.target;d(y=>({...y,[c]:h}))},i=m=>{d(c=>({...c,audience:m}))};return e.jsx(J,{open:n,onOpenChange:p,children:e.jsxs(K,{className:"sm:max-w-2xl",children:[e.jsxs(Q,{children:[e.jsx(X,{className:"text-2xl font-bold",children:u?"Edit Announcement":"Create New Announcement"}),e.jsx(Y,{children:"Fill in the details below. Click publish or save as draft when you're ready."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"title",className:"text-right",children:"Title"}),e.jsx(k,{id:"title",name:"title",value:s.title,onChange:r,className:"col-span-3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsx(S,{htmlFor:"content",className:"text-right pt-2",children:"Content"}),e.jsx(G,{id:"content",name:"content",value:s.content,onChange:r,className:"col-span-3 min-h-[150px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"audience",className:"text-right",children:"Audience"}),e.jsxs(C,{value:s.audience,onValueChange:i,children:[e.jsx(D,{className:"col-span-3",children:e.jsx(W,{})}),e.jsxs(T,{children:[e.jsx(N,{value:"All Users",children:"All Users"}),e.jsx(N,{value:"Faculty Only",children:"Faculty Only"}),e.jsx(N,{value:"Students Only",children:"Students Only"})]})]})]})]}),e.jsxs(Z,{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>a("Draft"),children:"Save as Draft"}),e.jsx(b,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>a("Published"),children:"Publish Now"})]})]})})}export{ke as default};
